<?xml version="1.0" encoding="utf-8"?>
<Window>
	<Form BorderColor="user13" Height="562" Id="FS0301003A" Left="8" OnLoadCompleted="fn_OnLoadCompleted" OnUnloadCompleted="fn_OnUnloadCompleted" PidAttrib="7" Title="수주&#32;등록/변경" Top="8" Ver="1.0" Width="978" WorkArea="true">
		<Datasets>
			<Dataset DataSetType="Dataset" Id="ds_error">
				<Contents>
					<colinfo id="IDX" size="256" type="STRING"/>
					<colinfo id="ERRMSG" size="256" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cond">
				<Contents>
					<colinfo id="MANDT" size="3" summ="default" type="STRING"/>
					<colinfo id="OCNT_NUMB" size="20" summ="default" type="STRING"/>
					<colinfo id="RFCT_SEQN" size="10" summ="default" type="INT"/>
					<colinfo id="PSPID" size="24" summ="default" type="STRING"/>
					<colinfo id="OCNT_STAT" size="256" summ="default" type="STRING"/>
					<colinfo id="VBELN" size="256" summ="default" type="STRING"/>
					<record>
						<MANDT></MANDT>
						<OCNT_NUMB></OCNT_NUMB>
						<OCNT_STAT></OCNT_STAT>
						<PSPID></PSPID>
						<RFCT_SEQN/>
						<VBELN></VBELN>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_zfst0304">
				<Contents>
					<colinfo id="MANDT" size="3" summ="default" type="STRING"/>
					<colinfo id="OCNT_NUMB" size="20" summ="default" type="STRING"/>
					<colinfo id="VBELN" size="10" summ="default" type="STRING"/>
					<colinfo id="PSPID" size="24" summ="default" type="STRING"/>
					<colinfo id="AUART" size="4" summ="default" type="STRING"/>
					<colinfo id="AUART_NAME" size="100" summ="default" type="STRING"/>
					<colinfo id="PS_PSP_PNR" size="8" summ="default" type="STRING"/>
					<colinfo id="ORDR_TYPE" size="10" summ="default" type="STRING"/>
					<colinfo id="BSTNK" size="20" summ="default" type="STRING"/>
					<colinfo id="KUNNR" size="10" summ="default" type="STRING"/>
					<colinfo id="KUNNR_NAME" size="100" summ="default" type="STRING"/>
					<colinfo id="KUNWE" size="10" summ="default" type="STRING"/>
					<colinfo id="KUNWE_NAME" size="20" summ="default" type="STRING"/>
					<colinfo id="VKORG" size="4" summ="default" type="STRING"/>
					<colinfo id="VKORG_NAME" size="20" summ="default" type="STRING"/>
					<colinfo id="VTWEG" size="2" summ="default" type="STRING"/>
					<colinfo id="VTWEG_NAME" size="20" summ="default" type="STRING"/>
					<colinfo id="SPART" size="2" summ="default" type="STRING"/>
					<colinfo id="SPART_NAME" size="20" summ="default" type="STRING"/>
					<colinfo id="VPRGR" size="1" summ="default" type="STRING"/>
					<colinfo id="BSTDK" size="8" summ="default" type="STRING"/>
					<colinfo id="VDATU" size="8" summ="default" type="STRING"/>
					<colinfo id="AUGRU" size="3" summ="default" type="STRING"/>
					<colinfo id="LIFSK" size="2" summ="default" type="STRING"/>
					<colinfo id="WAERK" size="5" summ="default" type="STRING"/>
					<colinfo id="NETWR" size="15" summ="default" type="DECIMAL"/>
					<colinfo id="AUTLF" size="1" summ="default" type="STRING"/>
					<colinfo id="RPLNR" size="10" summ="default" type="STRING"/>
					<colinfo id="FPART" size="2" summ="default" type="STRING"/>
					<colinfo id="BEDAT" size="8" summ="default" type="STRING"/>
					<colinfo id="BEDAR" size="2" summ="default" type="STRING"/>
					<colinfo id="RFPLN" size="10" summ="default" type="STRING"/>
					<colinfo id="SLCS_RATE" size="9" summ="default" type="DECIMAL"/>
					<colinfo id="DLIV_DATE" size="8" summ="default" type="STRING"/>
					<colinfo id="OCNT_APDT" size="8" summ="default" type="STRING"/>
					<colinfo id="CONT_DATE" size="8" summ="default" type="STRING"/>
					<colinfo id="CMPL_DATE" size="8" summ="default" type="STRING"/>
					<colinfo id="OCNT_STAT" size="10" summ="default" type="STRING"/>
					<colinfo id="OCNT_STAT_NAME" size="10" summ="default" type="STRING"/>
					<colinfo id="WRIT_DATE" size="8" summ="default" type="STRING"/>
					<colinfo id="WRIT_TIME" size="6" summ="default" type="STRING"/>
					<colinfo id="WRIT_USER" size="12" summ="default" type="STRING"/>
					<colinfo id="MODI_DATE" size="8" summ="default" type="STRING"/>
					<colinfo id="MODI_TIME" size="6" summ="default" type="STRING"/>
					<colinfo id="MODI_USER" size="12" summ="default" type="STRING"/>
					<colinfo id="EBDG_MGST" size="10" summ="default" type="STRING"/>
					<colinfo id="ADIT" size="20" summ="default" type="STRING"/>
					<colinfo id="APPR_STAT_NAME" size="20" summ="default" type="STRING"/>
					<colinfo id="VKBUR" size="20" summ="default" type="STRING"/>
					<colinfo id="VKBUR_NAME" size="20" summ="default" type="STRING"/>
					<colinfo id="VKGRP" size="20" summ="default" type="STRING"/>
					<colinfo id="VKGRP_NAME" size="20" summ="default" type="STRING"/>
					<colinfo id="APPR" size="256" summ="default" type="STRING"/>
					<colinfo id="CNT309" size="256" summ="default" type="INT"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_zfst0306_data">
				<Contents>
					<colinfo id="MANDT" size="3" summ="default" type="STRING"/>
					<colinfo id="OCNT_NUMB" size="20" summ="default" type="STRING"/>
					<colinfo id="PRTN_SEQN" size="10" summ="default" type="INT"/>
					<colinfo id="KUNNR" size="10" summ="default" type="STRING"/>
					<colinfo id="VKORG" size="4" summ="default" type="STRING"/>
					<colinfo id="VTWEG" size="2" summ="default" type="STRING"/>
					<colinfo id="SPART" size="2" summ="default" type="STRING"/>
					<colinfo id="PARVW" size="2" summ="default" type="STRING"/>
					<colinfo id="PARVW_NAME" size="100" summ="default" type="STRING"/>
					<colinfo id="PARZA" size="3" summ="default" type="STRING"/>
					<colinfo id="KUNN2" size="10" summ="default" type="STRING"/>
					<colinfo id="LIFNR" size="10" summ="default" type="STRING"/>
					<colinfo id="PERNR" size="8" summ="default" type="STRING"/>
					<colinfo id="PARNR" size="10" summ="default" type="STRING"/>
					<colinfo id="KNREF" size="30" summ="default" type="STRING"/>
					<colinfo id="DEFPA" size="1" summ="default" type="STRING"/>
					<colinfo id="NAME1" size="256" summ="default" type="STRING"/>
					<colinfo id="STREET" size="256" summ="default" type="STRING"/>
					<colinfo id="POST_CODE1" size="256" summ="default" type="STRING"/>
					<colinfo id="CITY1" size="256" summ="default" type="STRING"/>
					<colinfo id="FLAG" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_zfst0307">
				<Contents>
					<colinfo id="MANDT" size="3" summ="default" type="STRING"/>
					<colinfo id="OCNT_NUMB" size="20" summ="default" type="STRING"/>
					<colinfo id="POSNR" size="6" summ="default" type="STRING"/>
					<colinfo id="VBELN" size="10" summ="default" type="STRING"/>
					<colinfo id="KONDA" size="2" summ="default" type="STRING"/>
					<colinfo id="KDGRP" size="2" summ="default" type="STRING"/>
					<colinfo id="BZIRK" size="6" summ="default" type="STRING"/>
					<colinfo id="PLTYP" size="2" summ="default" type="STRING"/>
					<colinfo id="INCO1" size="3" summ="default" type="STRING"/>
					<colinfo id="INCO2" size="28" summ="default" type="STRING"/>
					<colinfo id="KZAZU" size="1" summ="default" type="STRING"/>
					<colinfo id="PERFK" size="2" summ="default" type="STRING"/>
					<colinfo id="MRNKZ" size="1" summ="default" type="STRING"/>
					<colinfo id="KURRF" size="9" summ="default" type="DECIMAL"/>
					<colinfo id="ZTERM" size="4" summ="default" type="STRING"/>
					<colinfo id="ZLSCH" size="1" summ="default" type="STRING"/>
					<colinfo id="KURSK" size="9" summ="default" type="DECIMAL"/>
					<colinfo id="PRSDT" size="8" summ="default" type="STRING"/>
					<colinfo id="FBUDA" size="8" summ="default" type="STRING"/>
					<colinfo id="GJAHR" size="4" summ="default" type="STRING"/>
					<colinfo id="POPER" size="3" summ="default" type="STRING"/>
					<colinfo id="MSCHL" size="1" summ="default" type="STRING"/>
					<colinfo id="MANSP" size="1" summ="default" type="STRING"/>
					<colinfo id="ABSSC" size="6" summ="default" type="STRING"/>
					<colinfo id="LCNUM" size="10" summ="default" type="STRING"/>
					<colinfo id="ABTNR" size="4" summ="default" type="STRING"/>
					<colinfo id="EMPST" size="25" summ="default" type="STRING"/>
					<colinfo id="BSTKD" size="35" summ="default" type="STRING"/>
					<colinfo id="BSTDK" size="8" summ="default" type="STRING"/>
					<colinfo id="BSARK" size="4" summ="default" type="STRING"/>
					<colinfo id="IHREZ" size="12" summ="default" type="STRING"/>
					<colinfo id="BSTKD_E" size="35" summ="default" type="STRING"/>
					<colinfo id="BSTDK_E" size="8" summ="default" type="STRING"/>
					<colinfo id="BSARK_E" size="4" summ="default" type="STRING"/>
					<colinfo id="IHREZ_E" size="12" summ="default" type="STRING"/>
					<colinfo id="POSEX_E" size="6" summ="default" type="STRING"/>
					<colinfo id="KDKG1" size="2" summ="default" type="STRING"/>
					<colinfo id="KDKG2" size="2" summ="default" type="STRING"/>
					<colinfo id="KDKG3" size="2" summ="default" type="STRING"/>
					<colinfo id="KDKG4" size="2" summ="default" type="STRING"/>
					<colinfo id="KDKG5" size="2" summ="default" type="STRING"/>
					<colinfo id="DELCO" size="3" summ="default" type="STRING"/>
					<colinfo id="FFPRF" size="8" summ="default" type="STRING"/>
					<colinfo id="FAKTF" size="2" summ="default" type="STRING"/>
					<colinfo id="RRREL" size="1" summ="default" type="STRING"/>
					<colinfo id="ACDATV" size="1" summ="default" type="STRING"/>
					<colinfo id="VSART" size="2" summ="default" type="STRING"/>
					<colinfo id="TRATY" size="4" summ="default" type="STRING"/>
					<colinfo id="TRMTYP" size="18" summ="default" type="STRING"/>
					<colinfo id="SDABW" size="4" summ="default" type="STRING"/>
					<colinfo id="REVSP" size="1" summ="default" type="STRING"/>
					<colinfo id="REVEVTYP" size="1" summ="default" type="STRING"/>
					<colinfo id="MATNR" size="18" summ="default" type="STRING"/>
					<colinfo id="MATWA" size="18" summ="default" type="STRING"/>
					<colinfo id="PMATN" size="18" summ="default" type="STRING"/>
					<colinfo id="MATKL" size="9" summ="default" type="STRING"/>
					<colinfo id="PSTYV" size="4" summ="default" type="STRING"/>
					<colinfo id="GRPOS" size="6" summ="default" type="STRING"/>
					<colinfo id="ABGRU" size="2" summ="default" type="STRING"/>
					<colinfo id="PRODH" size="18" summ="default" type="STRING"/>
					<colinfo id="MEINS" size="3" summ="default" type="STRING"/>
					<colinfo id="POSEX" size="6" summ="default" type="STRING"/>
					<colinfo id="KDMAT" size="35" summ="default" type="STRING"/>
					<colinfo id="VKAUS" size="3" summ="default" type="STRING"/>
					<colinfo id="UEBTO" size="3" summ="default" type="DECIMAL"/>
					<colinfo id="UNTTO" size="3" summ="default" type="DECIMAL"/>
					<colinfo id="GSBER" size="4" summ="default" type="STRING"/>
					<colinfo id="NETWR" size="15" summ="default" type="DECIMAL"/>
					<colinfo id="WAERK" size="5" summ="default" type="STRING"/>
					<colinfo id="ANTLF" size="1" summ="default" type="DECIMAL"/>
					<colinfo id="KZTLF" size="1" summ="default" type="STRING"/>
					<colinfo id="KWMENG" size="15" summ="default" type="DECIMAL"/>
					<colinfo id="VRKME" size="3" summ="default" type="STRING"/>
					<colinfo id="UMVKZ" size="5" summ="default" type="DECIMAL"/>
					<colinfo id="UMVKN" size="5" summ="default" type="DECIMAL"/>
					<colinfo id="BRGEW" size="15" summ="default" type="DECIMAL"/>
					<colinfo id="NTGEW" size="15" summ="default" type="DECIMAL"/>
					<colinfo id="GEWEI" size="3" summ="default" type="STRING"/>
					<colinfo id="VOLUM" size="15" summ="default" type="DECIMAL"/>
					<colinfo id="VOLEH" size="3" summ="default" type="STRING"/>
					<colinfo id="LPRIO" size="2" summ="default" type="STRING"/>
					<colinfo id="WERKS" size="4" summ="default" type="STRING"/>
					<colinfo id="LGORT" size="4" summ="default" type="STRING"/>
					<colinfo id="VSTEL" size="4" summ="default" type="STRING"/>
					<colinfo id="ROUTE" size="6" summ="default" type="STRING"/>
					<colinfo id="TAXM1" size="1" summ="default" type="STRING"/>
					<colinfo id="KONDM" size="2" summ="default" type="STRING"/>
					<colinfo id="KTGRM" size="2" summ="default" type="STRING"/>
					<colinfo id="EAN11" size="18" summ="default" type="STRING"/>
					<colinfo id="FIXMG" size="1" summ="default" type="STRING"/>
					<colinfo id="PRCTR" size="10" summ="default" type="STRING"/>
					<colinfo id="MVGR1" size="3" summ="default" type="STRING"/>
					<colinfo id="MVGR2" size="3" summ="default" type="STRING"/>
					<colinfo id="MVGR3" size="3" summ="default" type="STRING"/>
					<colinfo id="MVGR4" size="3" summ="default" type="STRING"/>
					<colinfo id="MVGR5" size="3" summ="default" type="STRING"/>
					<colinfo id="PS_PSP_PNR" size="8" summ="default" type="STRING"/>
					<colinfo id="EXART" size="2" summ="default" type="STRING"/>
					<colinfo id="PREFE" size="1" summ="default" type="STRING"/>
					<colinfo id="ZSCHL_K" size="6" summ="default" type="STRING"/>
					<colinfo id="KALSM_K" size="6" summ="default" type="STRING"/>
					<colinfo id="MFRGR" size="8" summ="default" type="STRING"/>
					<colinfo id="ABFOR" size="2" summ="default" type="STRING"/>
					<colinfo id="ABGES" size="53" summ="default" type="DECIMAL"/>
					<colinfo id="WGRU1" size="18" summ="default" type="STRING"/>
					<colinfo id="WGRU2" size="18" summ="default" type="STRING"/>
					<colinfo id="MWSBP" size="13" summ="default" type="DECIMAL"/>
					<colinfo id="REPMO" size="2" summ="default" type="STRING"/>
					<colinfo id="GUAMO" size="2" summ="default" type="STRING"/>
					<colinfo id="WORMO" size="2" summ="default" type="STRING"/>
					<colinfo id="TPDATE1" size="8" summ="default" type="STRING"/>
					<colinfo id="TPDATE2" size="8" summ="default" type="STRING"/>
					<colinfo id="TPDATE3" size="8" summ="default" type="STRING"/>
					<colinfo id="HOGI" size="24" summ="default" type="STRING"/>
					<colinfo id="WWBLD" size="2" summ="default" type="STRING"/>
					<colinfo id="HB_FROM" size="8" summ="default" type="STRING"/>
					<colinfo id="HB_TO" size="8" summ="default" type="STRING"/>
					<colinfo id="EDATU" size="8" summ="default" type="STRING"/>
					<colinfo id="WMENG" size="13" summ="default" type="DECIMAL"/>
					<colinfo id="BMENG" size="13" summ="default" type="DECIMAL"/>
					<colinfo id="CMENG" size="13" summ="default" type="DECIMAL"/>
					<colinfo id="LIFSP" size="2" summ="default" type="STRING"/>
					<colinfo id="ARKTX" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_zfst0309_list">
				<Contents>
					<colinfo id="MANDT" size="3" summ="default" type="STRING"/>
					<colinfo id="OCNT_NUMB" size="20" summ="default" type="STRING"/>
					<colinfo id="PROJ_PSPID" size="24" summ="default" type="STRING"/>
					<colinfo id="POSID" size="24" summ="default" type="STRING"/>
					<colinfo id="PROJ_PROFL" size="7" summ="default" type="STRING"/>
					<colinfo id="PROJ_POST1" size="40" summ="default" type="STRING"/>
					<colinfo id="PROJ_PRCTR" size="10" summ="default" type="STRING"/>
					<colinfo id="UP_WBS" size="24" summ="default" type="STRING"/>
					<colinfo id="STUFE" size="5" summ="default" type="INT"/>
					<colinfo id="POST1" size="40" summ="default" type="STRING"/>
					<colinfo id="ZZWBS01" size="1" summ="default" type="STRING"/>
					<colinfo id="ZZWBS02" size="1" summ="default" type="STRING"/>
					<colinfo id="ZZWBS03" size="1" summ="default" type="STRING"/>
					<colinfo id="ZZWBS04" size="1" summ="default" type="STRING"/>
					<colinfo id="ZZWBS05" size="1" summ="default" type="STRING"/>
					<colinfo id="ZZWBS06" size="1" summ="default" type="STRING"/>
					<colinfo id="ZZWBS07" size="1" summ="default" type="STRING"/>
					<colinfo id="ZZGUBUN" size="2" summ="default" type="STRING"/>
					<colinfo id="BELKZ" size="1" summ="default" type="STRING"/>
					<colinfo id="PLAKZ" size="1" summ="default" type="STRING"/>
					<colinfo id="FAKKZ" size="1" summ="default" type="STRING"/>
					<colinfo id="PRCTR" size="10" summ="default" type="STRING"/>
					<colinfo id="ABGSL" size="6" summ="default" type="STRING"/>
					<colinfo id="STATE" size="1" summ="default" type="STRING"/>
					<colinfo id="MSG" size="100" summ="default" type="STRING"/>
					<colinfo id="CHK" size="1" summ="default" type="STRING"/>
					<colinfo id="REL" size="1" summ="default" type="STRING"/>
					<colinfo id="WRIT_DATE" size="8" summ="default" type="STRING"/>
					<colinfo id="WRIT_TIME" size="6" summ="default" type="STRING"/>
					<colinfo id="WRIT_USER" size="12" summ="default" type="STRING"/>
					<colinfo id="MODI_DATE" size="8" summ="default" type="STRING"/>
					<colinfo id="MODI_TIME" size="6" summ="default" type="STRING"/>
					<colinfo id="MODI_USER" size="12" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_zfst0307_list">
				<Contents>
					<colinfo id="MANDT" size="3" summ="default" type="STRING"/>
					<colinfo id="OCNT_NUMB" size="20" summ="default" type="STRING"/>
					<colinfo id="POSNR" size="6" summ="default" type="STRING"/>
					<colinfo id="VBELN" size="10" summ="default" type="STRING"/>
					<colinfo id="KONDA" size="2" summ="default" type="STRING"/>
					<colinfo id="KDGRP" size="2" summ="default" type="STRING"/>
					<colinfo id="BZIRK" size="6" summ="default" type="STRING"/>
					<colinfo id="PLTYP" size="2" summ="default" type="STRING"/>
					<colinfo id="INCO1" size="3" summ="default" type="STRING"/>
					<colinfo id="INCO2" size="28" summ="default" type="STRING"/>
					<colinfo id="KZAZU" size="1" summ="default" type="STRING"/>
					<colinfo id="PERFK" size="2" summ="default" type="STRING"/>
					<colinfo id="MRNKZ" size="1" summ="default" type="STRING"/>
					<colinfo id="KURRF" size="9" summ="default" type="DECIMAL"/>
					<colinfo id="ZTERM" size="4" summ="default" type="STRING"/>
					<colinfo id="ZLSCH" size="1" summ="default" type="STRING"/>
					<colinfo id="KURSK" size="9" summ="default" type="DECIMAL"/>
					<colinfo id="PRSDT" size="8" summ="default" type="STRING"/>
					<colinfo id="FBUDA" size="8" summ="default" type="STRING"/>
					<colinfo id="GJAHR" size="4" summ="default" type="STRING"/>
					<colinfo id="POPER" size="3" summ="default" type="STRING"/>
					<colinfo id="MSCHL" size="1" summ="default" type="STRING"/>
					<colinfo id="MANSP" size="1" summ="default" type="STRING"/>
					<colinfo id="ABSSC" size="6" summ="default" type="STRING"/>
					<colinfo id="LCNUM" size="10" summ="default" type="STRING"/>
					<colinfo id="ABTNR" size="4" summ="default" type="STRING"/>
					<colinfo id="EMPST" size="25" summ="default" type="STRING"/>
					<colinfo id="BSTKD" size="35" summ="default" type="STRING"/>
					<colinfo id="BSTDK" size="8" summ="default" type="STRING"/>
					<colinfo id="BSARK" size="4" summ="default" type="STRING"/>
					<colinfo id="IHREZ" size="12" summ="default" type="STRING"/>
					<colinfo id="BSTKD_E" size="35" summ="default" type="STRING"/>
					<colinfo id="BSTDK_E" size="8" summ="default" type="STRING"/>
					<colinfo id="BSARK_E" size="4" summ="default" type="STRING"/>
					<colinfo id="IHREZ_E" size="12" summ="default" type="STRING"/>
					<colinfo id="POSEX_E" size="6" summ="default" type="STRING"/>
					<colinfo id="KDKG1" size="2" summ="default" type="STRING"/>
					<colinfo id="KDKG2" size="2" summ="default" type="STRING"/>
					<colinfo id="KDKG3" size="2" summ="default" type="STRING"/>
					<colinfo id="KDKG4" size="2" summ="default" type="STRING"/>
					<colinfo id="KDKG5" size="2" summ="default" type="STRING"/>
					<colinfo id="DELCO" size="3" summ="default" type="STRING"/>
					<colinfo id="FFPRF" size="8" summ="default" type="STRING"/>
					<colinfo id="FAKTF" size="2" summ="default" type="STRING"/>
					<colinfo id="RRREL" size="1" summ="default" type="STRING"/>
					<colinfo id="ACDATV" size="1" summ="default" type="STRING"/>
					<colinfo id="VSART" size="2" summ="default" type="STRING"/>
					<colinfo id="TRATY" size="4" summ="default" type="STRING"/>
					<colinfo id="TRMTYP" size="18" summ="default" type="STRING"/>
					<colinfo id="SDABW" size="4" summ="default" type="STRING"/>
					<colinfo id="REVSP" size="1" summ="default" type="STRING"/>
					<colinfo id="REVEVTYP" size="1" summ="default" type="STRING"/>
					<colinfo id="MATNR" size="18" summ="default" type="STRING"/>
					<colinfo id="MATWA" size="18" summ="default" type="STRING"/>
					<colinfo id="PMATN" size="18" summ="default" type="STRING"/>
					<colinfo id="MATKL" size="9" summ="default" type="STRING"/>
					<colinfo id="PSTYV" size="4" summ="default" type="STRING"/>
					<colinfo id="GRPOS" size="6" summ="default" type="STRING"/>
					<colinfo id="ABGRU" size="2" summ="default" type="STRING"/>
					<colinfo id="PRODH" size="18" summ="default" type="STRING"/>
					<colinfo id="MEINS" size="3" summ="default" type="STRING"/>
					<colinfo id="POSEX" size="6" summ="default" type="STRING"/>
					<colinfo id="KDMAT" size="35" summ="default" type="STRING"/>
					<colinfo id="VKAUS" size="3" summ="default" type="STRING"/>
					<colinfo id="UEBTO" size="3" summ="default" type="DECIMAL"/>
					<colinfo id="UNTTO" size="3" summ="default" type="DECIMAL"/>
					<colinfo id="GSBER" size="4" summ="default" type="STRING"/>
					<colinfo id="NETWR" size="15" summ="default" type="DECIMAL"/>
					<colinfo id="WAERK" size="5" summ="default" type="STRING"/>
					<colinfo id="ANTLF" size="1" summ="default" type="DECIMAL"/>
					<colinfo id="KZTLF" size="1" summ="default" type="STRING"/>
					<colinfo id="KWMENG" size="15" summ="default" type="DECIMAL"/>
					<colinfo id="VRKME" size="3" summ="default" type="STRING"/>
					<colinfo id="UMVKZ" size="5" summ="default" type="DECIMAL"/>
					<colinfo id="UMVKN" size="5" summ="default" type="DECIMAL"/>
					<colinfo id="BRGEW" size="15" summ="default" type="DECIMAL"/>
					<colinfo id="NTGEW" size="15" summ="default" type="DECIMAL"/>
					<colinfo id="GEWEI" size="3" summ="default" type="STRING"/>
					<colinfo id="VOLUM" size="15" summ="default" type="DECIMAL"/>
					<colinfo id="VOLEH" size="3" summ="default" type="STRING"/>
					<colinfo id="LPRIO" size="2" summ="default" type="STRING"/>
					<colinfo id="WERKS" size="4" summ="default" type="STRING"/>
					<colinfo id="LGORT" size="4" summ="default" type="STRING"/>
					<colinfo id="VSTEL" size="4" summ="default" type="STRING"/>
					<colinfo id="ROUTE" size="6" summ="default" type="STRING"/>
					<colinfo id="TAXM1" size="1" summ="default" type="STRING"/>
					<colinfo id="KONDM" size="2" summ="default" type="STRING"/>
					<colinfo id="KTGRM" size="2" summ="default" type="STRING"/>
					<colinfo id="EAN11" size="18" summ="default" type="STRING"/>
					<colinfo id="FIXMG" size="1" summ="default" type="STRING"/>
					<colinfo id="PRCTR" size="10" summ="default" type="STRING"/>
					<colinfo id="MVGR1" size="3" summ="default" type="STRING"/>
					<colinfo id="MVGR2" size="3" summ="default" type="STRING"/>
					<colinfo id="MVGR3" size="3" summ="default" type="STRING"/>
					<colinfo id="MVGR4" size="3" summ="default" type="STRING"/>
					<colinfo id="MVGR5" size="3" summ="default" type="STRING"/>
					<colinfo id="PS_PSP_PNR" size="8" summ="default" type="STRING"/>
					<colinfo id="EXART" size="2" summ="default" type="STRING"/>
					<colinfo id="PREFE" size="1" summ="default" type="STRING"/>
					<colinfo id="ZSCHL_K" size="6" summ="default" type="STRING"/>
					<colinfo id="KALSM_K" size="6" summ="default" type="STRING"/>
					<colinfo id="MFRGR" size="8" summ="default" type="STRING"/>
					<colinfo id="ABFOR" size="2" summ="default" type="STRING"/>
					<colinfo id="ABGES" size="53" summ="default" type="DECIMAL"/>
					<colinfo id="WGRU1" size="18" summ="default" type="STRING"/>
					<colinfo id="WGRU2" size="18" summ="default" type="STRING"/>
					<colinfo id="MWSBP" size="13" summ="default" type="DECIMAL"/>
					<colinfo id="REPMO" size="2" summ="default" type="STRING"/>
					<colinfo id="GUAMO" size="2" summ="default" type="STRING"/>
					<colinfo id="WORMO" size="2" summ="default" type="STRING"/>
					<colinfo id="TPDATE1" size="8" summ="default" type="STRING"/>
					<colinfo id="TPDATE2" size="8" summ="default" type="STRING"/>
					<colinfo id="TPDATE3" size="8" summ="default" type="STRING"/>
					<colinfo id="HOGI" size="24" summ="default" type="STRING"/>
					<colinfo id="WWBLD" size="2" summ="default" type="STRING"/>
					<colinfo id="HB_FROM" size="8" summ="default" type="STRING"/>
					<colinfo id="HB_TO" size="8" summ="default" type="STRING"/>
					<colinfo id="EDATU" size="8" summ="default" type="STRING"/>
					<colinfo id="WMENG" size="13" summ="default" type="DECIMAL"/>
					<colinfo id="BMENG" size="13" summ="default" type="DECIMAL"/>
					<colinfo id="CMENG" size="13" summ="default" type="DECIMAL"/>
					<colinfo id="LIFSP" size="2" summ="default" type="STRING"/>
					<colinfo id="ARKTX" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_zfst0310_list" OnColumnChanged="ds_zfst0310_list_OnColumnChanged">
				<Contents>
					<colinfo id="MANDT" size="3" summ="default" type="STRING"/>
					<colinfo id="OCNT_NUMB" size="20" summ="default" type="STRING"/>
					<colinfo id="FPLNR" size="10" summ="default" type="STRING"/>
					<colinfo id="FPLTR" size="6" summ="default" type="STRING"/>
					<colinfo id="FPTTP" size="2" summ="default" type="STRING"/>
					<colinfo id="TETXT" size="4" summ="default" type="STRING"/>
					<colinfo id="FKDAT" size="8" summ="default" type="STRING"/>
					<colinfo id="FPFIX" size="1" summ="default" type="STRING"/>
					<colinfo id="FAREG" size="1" summ="default" type="STRING"/>
					<colinfo id="FPROZ" size="5" summ="default" type="DECIMAL"/>
					<colinfo id="WAERS" size="5" summ="default" type="STRING"/>
					<colinfo id="FAKWR" size="15" summ="default" type="DECIMAL"/>
					<colinfo id="FAKSP" size="2" summ="default" type="STRING"/>
					<colinfo id="FKARV" size="4" summ="default" type="STRING"/>
					<colinfo id="FKSAF" size="1" summ="default" type="STRING"/>
					<colinfo id="MLSTN" size="12" summ="default" type="STRING"/>
					<colinfo id="MLBEZ" size="5" summ="default" type="STRING"/>
					<colinfo id="ZTERM" size="4" summ="default" type="STRING"/>
					<colinfo id="KUNRG" size="10" summ="default" type="STRING"/>
					<colinfo id="VALTG" size="2" summ="default" type="STRING"/>
					<colinfo id="VALDT" size="8" summ="default" type="STRING"/>
					<colinfo id="AFDAT" size="8" summ="default" type="STRING"/>
					<colinfo id="KURRF" size="9" summ="default" type="DECIMAL"/>
					<colinfo id="WRIT_DATE" size="8" summ="default" type="STRING"/>
					<colinfo id="WRIT_TIME" size="6" summ="default" type="STRING"/>
					<colinfo id="WRIT_USER" size="12" summ="default" type="STRING"/>
					<colinfo id="MODI_DATE" size="8" summ="default" type="STRING"/>
					<colinfo id="MODI_TIME" size="6" summ="default" type="STRING"/>
					<colinfo id="MODI_USER" size="12" summ="default" type="STRING"/>
					<colinfo id="MLBEZ_NAME" size="256" summ="default" type="STRING"/>
					<colinfo id="ZTERM_NAME" size="256" summ="default" type="STRING"/>
					<colinfo id="FKSAF_NAME" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_zfst0311_list">
				<Contents>
					<colinfo id="MANDT" size="3" summ="default" type="STRING"/>
					<colinfo id="OCNT_NUMB" size="20" summ="default" type="STRING"/>
					<colinfo id="PROJ_PSPID" size="24" summ="default" type="STRING"/>
					<colinfo id="POSID" size="24" summ="default" type="STRING"/>
					<colinfo id="APRIO" size="1" summ="default" type="STRING"/>
					<colinfo id="PROFID" size="7" summ="default" type="STRING"/>
					<colinfo id="KTEXT" size="40" summ="default" type="STRING"/>
					<colinfo id="VORNR_01" size="4" summ="default" type="STRING"/>
					<colinfo id="LTXA1_01" size="40" summ="default" type="STRING"/>
					<colinfo id="RFPNT_01" size="20" summ="default" type="STRING"/>
					<colinfo id="VORNR_02" size="4" summ="default" type="STRING"/>
					<colinfo id="LTXA1_02" size="40" summ="default" type="STRING"/>
					<colinfo id="RFPNT_02" size="20" summ="default" type="STRING"/>
					<colinfo id="VORNR_03" size="4" summ="default" type="STRING"/>
					<colinfo id="LTXA1_03" size="40" summ="default" type="STRING"/>
					<colinfo id="RFPNT_03" size="20" summ="default" type="STRING"/>
					<colinfo id="VORNR_04" size="4" summ="default" type="STRING"/>
					<colinfo id="LTXA1_04" size="40" summ="default" type="STRING"/>
					<colinfo id="RFPNT_04" size="20" summ="default" type="STRING"/>
					<colinfo id="VORNR_05" size="4" summ="default" type="STRING"/>
					<colinfo id="LTXA1_05" size="40" summ="default" type="STRING"/>
					<colinfo id="RFPNT_05" size="20" summ="default" type="STRING"/>
					<colinfo id="STATE" size="1" summ="default" type="STRING"/>
					<colinfo id="MSG" size="100" summ="default" type="STRING"/>
					<colinfo id="CHK" size="1" summ="default" type="STRING"/>
					<colinfo id="WRIT_DATE" size="8" summ="default" type="STRING"/>
					<colinfo id="WRIT_TIME" size="6" summ="default" type="STRING"/>
					<colinfo id="WRIT_USER" size="12" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_combo_s02">
				<Contents>
					<colinfo id="CDGR_UPER" size="30" summ="default" type="STRING"/>
					<colinfo id="CODE" size="30" summ="default" type="STRING"/>
					<colinfo id="CODE_GROP" size="30" summ="default" type="STRING"/>
					<colinfo id="CODE_NAME" size="150" summ="default" type="STRING"/>
					<colinfo id="CODE_UPER" size="30" summ="default" type="STRING"/>
					<colinfo id="DATASET_ID" size="200" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE1" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE2" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE3" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE4" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE5" size="150" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_combo_s03">
				<Contents>
					<colinfo id="CDGR_UPER" size="30" summ="default" type="STRING"/>
					<colinfo id="CODE" size="30" summ="default" type="STRING"/>
					<colinfo id="CODE_GROP" size="30" summ="default" type="STRING"/>
					<colinfo id="CODE_NAME" size="150" summ="default" type="STRING"/>
					<colinfo id="CODE_UPER" size="30" summ="default" type="STRING"/>
					<colinfo id="DATASET_ID" size="200" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE1" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE2" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE3" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE4" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE5" size="150" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_combo_s06">
				<Contents>
					<colinfo id="CDGR_UPER" size="30" summ="default" type="STRING"/>
					<colinfo id="CODE" size="30" summ="default" type="STRING"/>
					<colinfo id="CODE_GROP" size="30" summ="default" type="STRING"/>
					<colinfo id="CODE_NAME" size="150" summ="default" type="STRING"/>
					<colinfo id="CODE_UPER" size="30" summ="default" type="STRING"/>
					<colinfo id="DATASET_ID" size="200" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE1" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE2" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE3" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE4" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE5" size="150" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_combo_s07">
				<Contents>
					<colinfo id="CDGR_UPER" size="30" summ="default" type="STRING"/>
					<colinfo id="CODE" size="30" summ="default" type="STRING"/>
					<colinfo id="CODE_GROP" size="30" summ="default" type="STRING"/>
					<colinfo id="CODE_NAME" size="150" summ="default" type="STRING"/>
					<colinfo id="CODE_UPER" size="30" summ="default" type="STRING"/>
					<colinfo id="DATASET_ID" size="200" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE1" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE2" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE3" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE4" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE5" size="150" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_wbs">
				<Contents>
					<colinfo id="PSPID" size="30" summ="default" type="STRING"/>
					<colinfo id="PSPID_NAME" size="256" summ="default" type="STRING"/>
					<colinfo id="AUART" size="256" summ="default" type="STRING"/>
					<record>
						<AUART>ZR02</AUART>
						<PSPID>ZF0000NB001</PSPID>
						<PSPID_NAME>14.표준-물류&#32;보수부품&#32;1대</PSPID_NAME>
					</record>
					<record>
						<AUART>ZR03</AUART>
						<PSPID>ZF0000NS001</PSPID>
						<PSPID_NAME>16.표준-물류&#32;수리공사&#32;1대</PSPID_NAME>
					</record>
					<record>
						<AUART>ZR01</AUART>
						<PSPID>ZF0000U0001</PSPID>
						<PSPID_NAME>15.표준-물류&#32;유상보수&#32;1대</PSPID_NAME>
					</record>
					<record>
						<AUART>ZC01</AUART>
						<PSPID>ZCF001</PSPID>
						<PSPID_NAME>8.표준-부품수출(물류)&#32;1대</PSPID_NAME>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_combo_s10">
				<Contents>
					<colinfo id="CDGR_UPER" size="30" summ="default" type="STRING"/>
					<colinfo id="CODE" size="30" summ="default" type="STRING"/>
					<colinfo id="CODE_GROP" size="30" summ="default" type="STRING"/>
					<colinfo id="CODE_NAME" size="150" summ="default" type="STRING"/>
					<colinfo id="CODE_UPER" size="30" summ="default" type="STRING"/>
					<colinfo id="DATASET_ID" size="200" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE1" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE2" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE3" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE4" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE5" size="150" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_zfst0306_list">
				<Contents>
					<colinfo id="MANDT" size="3" summ="default" type="STRING"/>
					<colinfo id="OCNT_NUMB" size="20" summ="default" type="STRING"/>
					<colinfo id="PRTN_SEQN" size="10" summ="default" type="INT"/>
					<colinfo id="KUNNR" size="10" summ="default" type="STRING"/>
					<colinfo id="VKORG" size="4" summ="default" type="STRING"/>
					<colinfo id="VTWEG" size="2" summ="default" type="STRING"/>
					<colinfo id="SPART" size="2" summ="default" type="STRING"/>
					<colinfo id="PARVW" size="2" summ="default" type="STRING"/>
					<colinfo id="PARVW_NAME" size="100" summ="default" type="STRING"/>
					<colinfo id="PARZA" size="3" summ="default" type="STRING"/>
					<colinfo id="KUNN2" size="10" summ="default" type="STRING"/>
					<colinfo id="LIFNR" size="10" summ="default" type="STRING"/>
					<colinfo id="PERNR" size="8" summ="default" type="STRING"/>
					<colinfo id="PARNR" size="10" summ="default" type="STRING"/>
					<colinfo id="KNREF" size="30" summ="default" type="STRING"/>
					<colinfo id="DEFPA" size="1" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_combo_s12">
				<Contents>
					<colinfo id="CDGR_UPER" size="30" summ="default" type="STRING"/>
					<colinfo id="CODE" size="30" summ="default" type="STRING"/>
					<colinfo id="CODE_GROP" size="30" summ="default" type="STRING"/>
					<colinfo id="CODE_NAME" size="150" summ="default" type="STRING"/>
					<colinfo id="CODE_UPER" size="30" summ="default" type="STRING"/>
					<colinfo id="DATASET_ID" size="200" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE1" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE2" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE3" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE4" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE5" size="150" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_combo_s13">
				<Contents>
					<colinfo id="CDGR_UPER" size="30" summ="default" type="STRING"/>
					<colinfo id="CODE" size="30" summ="default" type="STRING"/>
					<colinfo id="CODE_GROP" size="30" summ="default" type="STRING"/>
					<colinfo id="CODE_NAME" size="150" summ="default" type="STRING"/>
					<colinfo id="CODE_UPER" size="30" summ="default" type="STRING"/>
					<colinfo id="DATASET_ID" size="200" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE1" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE2" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE3" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE4" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE5" size="150" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_combo_s15">
				<Contents>
					<colinfo id="CDGR_UPER" size="30" summ="default" type="STRING"/>
					<colinfo id="CODE" size="30" summ="default" type="STRING"/>
					<colinfo id="CODE_GROP" size="30" summ="default" type="STRING"/>
					<colinfo id="CODE_NAME" size="150" summ="default" type="STRING"/>
					<colinfo id="CODE_UPER" size="30" summ="default" type="STRING"/>
					<colinfo id="DATASET_ID" size="200" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE1" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE2" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE3" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE4" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE5" size="150" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_combo_s19">
				<Contents>
					<colinfo id="CDGR_UPER" size="30" summ="default" type="STRING"/>
					<colinfo id="CODE" size="30" summ="default" type="STRING"/>
					<colinfo id="CODE_GROP" size="30" summ="default" type="STRING"/>
					<colinfo id="CODE_NAME" size="150" summ="default" type="STRING"/>
					<colinfo id="CODE_UPER" size="30" summ="default" type="STRING"/>
					<colinfo id="DATASET_ID" size="200" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE1" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE2" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE3" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE4" size="150" summ="default" type="STRING"/>
					<colinfo id="EXTN_CODE5" size="150" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_zfst0306_insert">
				<Contents>
					<colinfo id="MANDT" size="3" summ="default" type="STRING"/>
					<colinfo id="OCNT_NUMB" size="20" summ="default" type="STRING"/>
					<colinfo id="PRTN_SEQN" size="10" summ="default" type="INT"/>
					<colinfo id="KUNNR" size="10" summ="default" type="STRING"/>
					<colinfo id="VKORG" size="4" summ="default" type="STRING"/>
					<colinfo id="VTWEG" size="2" summ="default" type="STRING"/>
					<colinfo id="SPART" size="2" summ="default" type="STRING"/>
					<colinfo id="PARVW" size="2" summ="default" type="STRING"/>
					<colinfo id="PARVW_NAME" size="100" summ="default" type="STRING"/>
					<colinfo id="PARZA" size="3" summ="default" type="STRING"/>
					<colinfo id="KUNN2" size="10" summ="default" type="STRING"/>
					<colinfo id="LIFNR" size="10" summ="default" type="STRING"/>
					<colinfo id="PERNR" size="8" summ="default" type="STRING"/>
					<colinfo id="PARNR" size="10" summ="default" type="STRING"/>
					<colinfo id="KNREF" size="30" summ="default" type="STRING"/>
					<colinfo id="DEFPA" size="1" summ="default" type="STRING"/>
					<colinfo id="NAME1" size="256" summ="default" type="STRING"/>
					<colinfo id="STREET" size="256" summ="default" type="STRING"/>
					<colinfo id="POST_CODE1" size="256" summ="default" type="STRING"/>
					<colinfo id="CITY1" size="256" summ="default" type="STRING"/>
					<colinfo id="FLAG" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_zfst0306_delete">
				<Contents>
					<colinfo id="MANDT" size="3" summ="default" type="STRING"/>
					<colinfo id="OCNT_NUMB" size="20" summ="default" type="STRING"/>
					<colinfo id="PRTN_SEQN" size="10" summ="default" type="INT"/>
					<colinfo id="KUNNR" size="10" summ="default" type="STRING"/>
					<colinfo id="VKORG" size="4" summ="default" type="STRING"/>
					<colinfo id="VTWEG" size="2" summ="default" type="STRING"/>
					<colinfo id="SPART" size="2" summ="default" type="STRING"/>
					<colinfo id="PARVW" size="2" summ="default" type="STRING"/>
					<colinfo id="PARVW_NAME" size="100" summ="default" type="STRING"/>
					<colinfo id="PARZA" size="3" summ="default" type="STRING"/>
					<colinfo id="KUNN2" size="10" summ="default" type="STRING"/>
					<colinfo id="LIFNR" size="10" summ="default" type="STRING"/>
					<colinfo id="PERNR" size="8" summ="default" type="STRING"/>
					<colinfo id="PARNR" size="10" summ="default" type="STRING"/>
					<colinfo id="KNREF" size="30" summ="default" type="STRING"/>
					<colinfo id="DEFPA" size="1" summ="default" type="STRING"/>
					<colinfo id="NAME1" size="256" summ="default" type="STRING"/>
					<colinfo id="STREET" size="256" summ="default" type="STRING"/>
					<colinfo id="POST_CODE1" size="256" summ="default" type="STRING"/>
					<colinfo id="CITY1" size="256" summ="default" type="STRING"/>
					<colinfo id="FLAG" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_doc_appr">
				<Contents>
					<colinfo id="MANDT" size="256" summ="default" type="STRING"/>
					<colinfo id="ADOC_CLAS" size="256" summ="default" type="STRING"/>
					<colinfo id="ADOC_NUMB" size="256" summ="default" type="STRING"/>
					<colinfo id="ADOC_NTIM" size="256" summ="default" type="STRING"/>
					<colinfo id="APPR_STAT" size="256" summ="default" type="STRING"/>
					<record>
						<ADOC_CLAS></ADOC_CLAS>
						<ADOC_NTIM></ADOC_NTIM>
						<ADOC_NUMB></ADOC_NUMB>
						<APPR_STAT></APPR_STAT>
						<MANDT></MANDT>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_zfst0103">
				<Contents>
					<colinfo id="MANDT" size="3" summ="default" type="STRING"/>
					<colinfo id="ADOC_CLAS" size="10" summ="default" type="STRING"/>
					<colinfo id="ADOC_NUMB" size="20" summ="default" type="STRING"/>
					<colinfo id="ADOC_NTIM" size="5" summ="default" type="INT"/>
					<colinfo id="RSON_RJCT" size="200" summ="default" type="STRING"/>
					<colinfo id="DRAF_TIME" size="8" summ="default" type="STRING"/>
					<colinfo id="DRAF_DATE" size="6" summ="default" type="STRING"/>
					<colinfo id="DRAF" size="12" summ="default" type="STRING"/>
					<colinfo id="DRAF_NAME" size="256" summ="default" type="STRING"/>
					<colinfo id="DRAF_STAT" size="5" summ="default" type="STRING"/>
					<colinfo id="ADIT_DATE" size="8" summ="default" type="STRING"/>
					<colinfo id="ADIT_TIME" size="6" summ="default" type="STRING"/>
					<colinfo id="ADIT" size="12" summ="default" type="STRING"/>
					<colinfo id="ADIT_NAME" size="256" summ="default" type="STRING"/>
					<colinfo id="ADIT_STAT" size="5" summ="default" type="STRING"/>
					<colinfo id="APPR_DATE" size="8" summ="default" type="STRING"/>
					<colinfo id="APPR_TIME" size="6" summ="default" type="STRING"/>
					<colinfo id="APPR" size="12" summ="default" type="STRING"/>
					<colinfo id="APPR_NAME" size="12" summ="default" type="STRING"/>
					<colinfo id="APPR_STAT" size="10" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
		</Datasets>
		<Shape BKColor="user0" Bottom="144" Height="110" Id="Shape0" Left="-1" LineColor="user1" Right="977" TabOrder="2" Top="34" Type="Rectangle" Width="978"></Shape>
		<Shape BKColor="user12" Bottom="89" Height="26" Id="Shape3" Left="8" LineColor="user13" Right="968" TabOrder="15" Top="63" Type="Rectangle" Width="960"></Shape>
		<Shape BKColor="user0" Bottom="28" Height="35" Id="Shape1" Left="-1" LineColor="user1" Right="977" TabOrder="1" Top="-7" Type="Rectangle" Width="978"></Shape>
		<Static Align="Right" Height="20" Id="Static2" Left="263" Style="sty_lb_search" TabOrder="3" Text="진행상태" Top="4" VAlign="Middle" Width="60"></Static>
		<Edit BindDataset="ds_zfst0304" Border="Flat" BorderColor="user1" Column="OCNT_STAT_NAME" Height="20" Id="ed_ocntStatName" Left="323" MaxLength="10" Readonly="TRUE" Style="sty_ipt_form_ind" TabOrder="4" Top="4" UpperOnly="TRUE" Width="147"></Edit>
		<Static Align="Right" Height="20" Id="Static4" Left="475" Style="sty_lb_search" TabOrder="5" Text="결재상태" Top="4" VAlign="Middle" Width="60"></Static>
		<Edit BindDataset="ds_zfst0304" Border="Flat" BorderColor="user1" Column="APPR_STAT_NAME" Height="20" Id="ed_apprStatName" Left="535" MaxLength="10" Readonly="TRUE" Style="sty_ipt_form_ind" TabOrder="6" Top="4" UpperOnly="TRUE" Width="139"></Edit>
		<Button ButtonStyle="TRUE" Cursor="HAND" Height="20" Id="btn_adocInfo" ImageID="btn_sub_04" Left="896" LeftMargin="12" OnClick="btn_adocInfo_OnClick" Style="sty_btn" TabOrder="7" Text="결재정보" Top="4" Transparent="TRUE" Width="76"></Button>
		<Static Align="Right" Height="20" Id="Static1" Left="10" Style="sty_lb_search" TabOrder="8" Text="수주번호" Top="4" VAlign="Middle" Width="61"></Static>
		<Edit Align="CENTER" BindDataset="ds_cond" Border="Flat" BorderColor="user1" Column="OCNT_NUMB" Height="20" Id="ed_ocntNumb" Left="70" MaxLength="10" Style="sty_ipt_form_ind" TabOrder="9" Top="4" UpperOnly="TRUE" Width="115"></Edit>
		<Static Align="Right" Height="20" Id="Static0" Left="203" Style="sty_lb_search" TabOrder="10" Text="차수" Top="4" VAlign="Middle" Width="28"></Static>
		<Edit Align="CENTER" BindDataset="ds_cond" Border="Flat" BorderColor="user1" Column="RFCT_SEQN" Height="20" Id="ed_rfctSeqn" Left="230" MaxLength="3" Number="TRUE" OnChanged="ed_rfctSeqn_OnChanged" Style="sty_btn" TabOrder="11" Top="4" UpperOnly="TRUE" Width="27"></Edit>
		<Button Cursor="HAND" Height="18" Id="btn_ocntNumb" ImageID="btn_icon_search" Left="184" OnClick="btn_prj_num_OnClick" TabOrder="11" Top="5" Transparent="TRUE" Width="18"></Button>
		<Shape BKColor="user12" Bottom="139" Height="26" Id="Shape2" Left="8" LineColor="user13" Right="968" TabOrder="19" Top="113" Type="Rectangle" Width="960"></Shape>
		<Shape BKColor="user12" Bottom="64" Height="26" Id="Shape5" Left="8" LineColor="user13" Right="968" TabOrder="13" Top="38" Type="Rectangle" Width="960"></Shape>
		<Static Align="Right" Height="24" Id="Static40" Left="204" Style="sty_lb_form_basic" TabOrder="14" Text="판매&#32;조직" Top="39" VAlign="Middle" Width="60"></Static>
		<Shape BKColor="user12" Bottom="114" Height="26" Id="Shape6" Left="8" LineColor="user13" Right="968" TabOrder="16" Top="88" Type="Rectangle" Width="960"></Shape>
		<Edit BindDataset="ds_zfst0304" Border="Flat" BorderColor="user13" Column="AUART_NAME" Height="20" Id="ed_auartName" Left="93" MaxLength="10" Readonly="TRUE" Style="sty_ipt_form_ind" TabOrder="17" Top="41" UpperOnly="TRUE" Width="107"></Edit>
		<Static Align="Right" Height="24" Id="Static6" Left="9" Style="sty_lb_form_basic" TabOrder="18" Text="오더유형" Top="39" VAlign="Middle" Width="84"></Static>
		<MaskEdit Align="Right" BindDataset="ds_zfst0304" Border="Flat" BorderColor="user13" Column="NETWR" Height="20" Id="ed_netwr" Left="773" MaxLength="10" Style="sty_ipt_form_ind" TabOrder="20" Top="66" Width="131"></MaskEdit>
		<Static Align="Right" Height="24" Id="Static8" Left="9" Style="sty_lb_form_basic" TabOrder="22" Text="판매처" Top="89" VAlign="Middle" Width="84"></Static>
		<Edit Align="CENTER" BindDataset="ds_zfst0304" Border="Flat" BorderColor="user13" Column="KUNNR" Height="20" Id="ed_kunnr" Left="93" MaxLength="10" Readonly="TRUE" Style="sty_ipt_form_ind" TabOrder="21" Top="91" UpperOnly="TRUE" Width="91"></Edit>
		<Edit Align="CENTER" BindDataset="ds_zfst0304" Border="Flat" BorderColor="user1" Column="VKORG_NAME" Height="20" Id="ed_vtwegName" Left="264" MaxLength="10" Readonly="TRUE" Style="sty_ipt_form_ind" TabOrder="22" Text="신규/교체" Top="41" UpperOnly="TRUE" Width="91"></Edit>
		<Static Align="Right" Height="24" Id="Static7" Left="674" Style="sty_lb_form_basic" TabOrder="24" Text="정가(수주금액)" Top="64" VAlign="Middle" Width="100"></Static>
		<Button Cursor="HAND" Height="18" Id="btn_kunnr" ImageID="btn_icon_search" Left="185" OnClick="btn_kunnr_OnClick" TabOrder="25" Top="92" Transparent="TRUE" Width="18"></Button>
		<Edit BindDataset="ds_zfst0304" Border="Flat" BorderColor="user13" Column="KUNNR_NAME" Height="20" Id="ed_kunnrName" Left="208" MaxLength="10" Readonly="TRUE" Style="sty_ipt_form_ind" TabOrder="26" Top="91" UpperOnly="TRUE" Width="267"></Edit>
		<Static Align="Right" Height="24" Id="Static11" Left="9" Style="sty_lb_form_basic" TabOrder="27" Text="프로젝트명(현장명)" Top="114" VAlign="Middle" Width="124"></Static>
		<Edit BindDataset="ds_zfst0304" Border="Flat" BorderColor="user13" Column="BSTNK" Height="20" Id="Edit6" Left="135" MaxLength="10" Readonly="TRUE" Style="sty_btn" TabOrder="28" Top="116" UpperOnly="TRUE" Width="471"></Edit>
		<Button ButtonStyle="TRUE" Cursor="HAND" Height="20" Id="btn_mngrReg" ImageID="btn_sub_05" Left="877" LeftMargin="12" OnClick="btn_person_OnClick" Style="sty_btn" TabOrder="29" Text="담당자등록" Top="116" Transparent="TRUE" Width="89"></Button>
		<Edit Align="CENTER" BindDataset="ds_zfst0304" Border="Flat" BorderColor="user13" Column="WAERK" Height="20" Id="waerk" Left="905" MaxLength="10" Readonly="TRUE" Style="sty_ipt_form_ind" TabOrder="30" Top="66" UpperOnly="TRUE" Width="59"></Edit>
		<Static Align="Right" Height="24" Id="Static3" Left="497" Style="sty_lb_form_basic" TabOrder="32" Text="납품처" Top="89" VAlign="Middle" Width="84"></Static>
		<Edit Align="CENTER" BindDataset="ds_zfst0304" Border="Flat" BorderColor="user13" Column="KUNWE" Height="20" Id="ed_kunwe" Left="582" MaxLength="10" Readonly="TRUE" Style="sty_ipt_form_ind" TabOrder="31" Top="91" UpperOnly="TRUE" Width="91"></Edit>
		<Button Cursor="HAND" Height="18" Id="btn_kunwe" ImageID="btn_icon_search" Left="674" OnClick="btn_kunwe_OnClick" TabOrder="33" Top="92" Transparent="TRUE" Width="18"></Button>
		<Edit BindDataset="ds_zfst0304" Border="Flat" BorderColor="user13" Column="KUNWE_NAME" Height="20" Id="ed_kunweName" Left="697" MaxLength="10" Readonly="TRUE" Style="sty_ipt_form_ind" TabOrder="34" Top="91" UpperOnly="TRUE" Width="267"></Edit>
		<Tab Border="Flat" Color="user7" FixedImage="FALSE" Font="굴림,9" Height="403" Id="TAB0" Left="8" MouseOverColor="user16" SelColor="user15" SelectFont="굴림,9" Style="sty_tab" TabOrder="35" Top="149" Width="960">
			<Contents>
				<TabPage BorderColor="black" Height="378" Id="VBAP" ImageEdgeWidth="2" ImageID="tab_main" Left="2" TabOrder="32" Text="수주품목" Top="23" Width="956">
					<Static Color="user6" Font="굴림,9,Bold" Height="20" Id="Static13" Left="15" TabOrder="3" Text="모든&#32;품목" Top="69" VAlign="Middle" Width="134"></Static>
					<Image Height="20" Id="Image1" ImageID="form_bl_title_sub" Left="2" TabOrder="4" Top="67" Width="11"></Image>
					<Button Cursor="HAND" Height="20" Id="btn_rowAdd1" ImageID="btn_icon_plus" Left="897" LeftMargin="12" OnClick="TAB0_VBAP_btn_rowAdd1_OnClick" Style="sty_btn" TabOrder="2" Top="69" Transparent="TRUE" Width="22"></Button>
					<Button Cursor="HAND" Height="20" Id="btn_rowDel1" ImageID="btn_icon_minus" Left="923" LeftMargin="12" OnClick="TAB0_VBAP_btn_rowDel1_OnClick" Style="sty_btn" TabOrder="1" Top="69" Transparent="TRUE" Width="22"></Button>
					<Grid AutoEnter="TRUE" AutoFitEndLine="Hide" BindDataset="ds_zfst0307_list" BkColor2="default" BoldHead="true" Border="Flat" Bottom="372" ColSizing="TRUE" Editable="TRUE" Enable="true" EndLineColor="default" HeadBorder="Flat" HeadHeight="25" Height="280" Id="grd_zfst0307" InputPanel="FALSE" Left="6" LineColor="user20" LineType="ExHORZ" OnExpandUp="TAB0_VBAP_grd_zfst0307_OnExpandUp" OnHeadDBLClick="grd_list_OnHeadClick" Right="946" RowHeight="20" Style="sty_grid" TabOrder="5" TabStop="true" Top="92" UseDBuff="true" UsePopupMenu="true" UseSelColor="true" Visible="true" VLineColor="default" WheelScrollRow="1" Width="940">
						<contents>
							<format id="Default">
								<columns>
									<col width="0"/>
									<col width="67"/>
									<col width="118"/>
									<col width="179"/>
									<col width="131"/>
									<col width="53"/>
									<col width="45"/>
									<col width="128"/>
									<col width="74"/>
									<col width="123"/>
								</columns>
								<head>
									<cell col="0" display="text"/>
									<cell col="1" color="user21" display="text" font="굴림,9" text="품목"/>
									<cell align="center" col="2" color="user21" display="text" font="굴림,9" text="자재" wordwrap="word"/>
									<cell align="center" col="3" color="user21" display="text" font="굴림,9" text="내역" wordwrap="word"/>
									<cell align="center" col="4" color="user21" display="text" font="굴림,9" text="WBS요소" wordwrap="word"/>
									<cell col="5" color="user21" display="text" font="굴림,9" text="오더수량"/>
									<cell col="6" color="user21" display="text" font="굴림,9" text="Un"/>
									<cell col="7" color="user21" display="text" font="굴림,9" text="단가"/>
									<cell col="8" color="user21" display="text" font="굴림,9" text="통화"/>
									<cell col="9" color="user21" display="text" font="굴림,9" text="ItCa"/>
								</head>
								<body>
									<cell align="center" bkcolor2="user22" col="0" display="text" edit="normal"/>
									<cell align="center" col="1" colid="POSNR" display="text"/>
									<cell align="center" bkcolor2="user22" col="2" colid="MATNR" display="text" expandshow="true" expandsize="20"/>
									<cell align="left" bkcolor2="user22" col="3" colid="ARKTX" display="normal" edit="normal"/>
									<cell align="left" bkcolor2="user22" col="4" colid="HOGI" combodisplaynltext="true" display="text" edit="uppernumchar" expandsize="0" limit="765" Valign="Center"/>
									<cell align="right" col="5" colid="KWMENG" display="text" Valign="Center"/>
									<cell align="center" col="6" colid="VRKME" display="text" expandsize="0" Valign="Center"/>
									<cell align="right" col="7" colid="NETWR" display="number" edit="number" Valign="Center"/>
									<cell align="center" col="8" colid="WAERK" display="text" Valign="Center"/>
									<cell align="center" col="9" colid="PSTYV" combocol="CODE" combodataset="ds_combo_s10" combotext="CODE_NAME" display="combo" edit="combo" Valign="Center"/>
								</body>
							</format>
						</contents>
					</Grid>
					<Shape BKColor="user12" Bottom="35" Height="26" Id="Shape4" Left="8" LineColor="user13" Right="948" TabOrder="6" Top="9" Type="Rectangle" Width="940"></Shape>
					<Shape BKColor="user12" Bottom="60" Height="26" Id="Shape7" Left="8" LineColor="user13" Right="948" TabOrder="7" Top="34" Type="Rectangle" Width="940"></Shape>
					<Static Align="Right" Height="24" Id="Static0" Left="9" Style="sty_lb_form_basic" TabOrder="8" Text="지급조건" Top="35" VAlign="Middle" Width="108"></Static>
					<Static Align="Right" Height="24" Id="Static14" Left="305" Style="sty_lb_form_basic" TabOrder="9" Text="가격결정일" Top="10" VAlign="Middle" Width="108"></Static>
					<Static Align="Right" Height="24" Id="Static15" Left="305" Style="sty_lb_form_basic" TabOrder="10" Text="인도조건1" Top="35" VAlign="Middle" Width="108"></Static>
					<Calendar BindDataset="ds_zfst0307" Border="Flat" BorderColor="user13" ClickedBkColor="user32" ClickedTextColor="user33" Column="PRSDT" Dateformat="yyyy.MM.dd" DayFont="돋움,9" DaySelect="Auto" DaySpacingHeight="6" DrawWeekSeparator="FALSE" EditAlign="CENTER" Font="돋움,9" HeaderBorder="NONE" HeaderFont="돋움,10,Bold" Height="20" Id="ca_prsdt" Left="415" MonthPickerFormat="yyyy년&#32;MMMM" MonthPopupBorder="FLAT" SaturdayTextColor="user34" SelectedDayFont="돋움,9,Bold" Style="sty_ipt_form" SundayTextColor="user35" TabOrder="11" TextColor="user36" TitleBKColor="user37" TitleTextColor="user38" TodayColor="user39" Top="12" WeekBKColor="user40" WeekColor="user41" WeeksFont="돋움,10" Width="108"></Calendar>
					<Static Align="Right" Height="24" Id="Static16" Left="560" Style="sty_lb_form_basic" TabOrder="12" Text="전표&#32;통화/환율" Top="10" VAlign="Middle" Width="108"></Static>
					<Edit Align="CENTER" BindDataset="ds_zfst0304" Border="Flat" BorderColor="user13" Column="WAERK" Height="20" Id="ed_waerk" Left="669" MaxLength="10" Style="sty_ipt_form_ind" TabOrder="13" Top="12" UpperOnly="TRUE" Width="67"></Edit>
					<Button Cursor="HAND" Height="18" Id="btn_waerk" ImageID="btn_icon_search" Left="738" OnClick="TAB0_VBAP_btn_waerk_OnClick" TabOrder="14" Top="13" Transparent="TRUE" Width="18"></Button>
					<MaskEdit Align="Right" BindDataset="ds_zfst0307" Border="Flat" BorderColor="user13" Column="KURSK" Height="20" Id="ed_kursk" Left="758" MaxLength="10" Readonly="TRUE" Style="sty_ipt_form_ind" TabOrder="15" Top="12" Width="131"></MaskEdit>
					<Static Align="Right" Height="24" Id="Static19" Left="9" Style="sty_lb_form_basic" TabOrder="17" Text="납품&#32;요청일" Top="10" VAlign="Middle" Width="108"></Static>
					<Calendar BindDataset="ds_zfst0304" Border="Flat" BorderColor="user13" ClickedBkColor="user32" ClickedTextColor="user33" Column="VDATU" Dateformat="yyyy.MM.dd" DayFont="돋움,9" DaySelect="Auto" DaySpacingHeight="6" DrawWeekSeparator="FALSE" EditAlign="CENTER" Font="돋움,9" HeaderBorder="NONE" HeaderFont="돋움,10,Bold" Height="20" Id="ca_vdatu" Left="118" MonthPickerFormat="yyyy년&#32;MMMM" MonthPopupBorder="FLAT" SaturdayTextColor="user34" SelectedDayFont="돋움,9,Bold" Style="sty_ipt_form" SundayTextColor="user35" TabOrder="16" TextColor="user36" TitleBKColor="user37" TitleTextColor="user38" TodayColor="user39" Top="12" WeekBKColor="user40" WeekColor="user41" WeeksFont="돋움,10" Width="108"></Calendar>
					<Combo BindDataset="ds_zfst0307" Border="Flat" BorderColor="user13" CodeColumn="CODE" Column="ZTERM" DataColumn="CODE_NAME" Height="20" Id="cb_zterm" INDEX="0" InnerDataset="ds_combo_s07" Left="116" Style="sty_ipt_form" TabOrder="18" Top="36" Width="172"></Combo>
					<Combo BindDataset="ds_zfst0307" Border="Flat" BorderColor="user13" CodeColumn="CODE" Column="INCO1" DataColumn="CODE_NAME" Height="20" Id="cb_inco1" INDEX="0" InnerDataset="ds_combo_s06" Left="413" Style="sty_ipt_form" TabOrder="19" Top="36" Width="172"></Combo>
					<Edit BindDataset="ds_zfst0307" Border="Flat" BorderColor="user13" Column="INCO2" Height="20" Id="ed_inco2" Left="587" MaxLength="10" Style="sty_btn" TabOrder="20" Top="37" UpperOnly="TRUE" Width="303"></Edit>
				</TabPage>
				<TabPage BorderColor="black" Height="378" Id="PARTNER" ImageEdgeWidth="2" ImageID="tab_main" Left="2" TabOrder="32" Text="파트너" Top="23" Width="956">
					<Grid AutoEnter="TRUE" AutoFitEndLine="Hide" BindDataset="ds_zfst0306_data" BkColor2="default" BoldHead="true" Border="Flat" Bottom="364" ColSizing="TRUE" Editable="TRUE" Enable="true" EndLineColor="default" HeadBorder="Flat" HeadHeight="25" Height="354" Id="grd_m2" InputPanel="FALSE" Left="6" LineColor="user20" LineType="ExHORZ" OnExpandEdit="TAB0_PARTNER_grd_m2_OnExpandEdit" Right="949" RowHeight="20" Style="sty_grid" TabOrder="0" TabStop="true" Top="10" UseDBuff="true" UsePopupMenu="true" UseSelColor="true" Visible="true" VLineColor="default" WheelScrollRow="1" Width="943">
						<contents>
							<format id="Default">
								<columns>
									<col width="0"/>
									<col width="133"/>
									<col width="119"/>
									<col width="179"/>
									<col width="261"/>
									<col width="85"/>
									<col width="138"/>
								</columns>
								<head>
									<cell col="0" display="text"/>
									<cell align="center" col="1" color="user21" display="text" font="굴림,9" text="파트너&#32;역할" wordwrap="word"/>
									<cell align="center" col="2" color="user21" display="text" font="굴림,9" text="파트너" wordwrap="word"/>
									<cell align="center" col="3" color="user21" display="text" font="굴림,9" text="이름" wordwrap="word"/>
									<cell col="4" color="user21" display="text" font="굴림,9" text="주소"/>
									<cell col="5" color="user21" display="text" font="굴림,9" text="우편번호"/>
									<cell col="6" color="user21" display="text" font="굴림,9" text="Loc"/>
								</head>
								<body>
									<cell align="center" bkcolor2="user22" col="0" display="text" edit="normal"/>
									<cell align="center" bkcolor2="user22" col="1" colid="PARVW_NAME" display="normal"/>
									<cell align="center" bkcolor2="user22" checklength="Byte" col="2" colid="KUNNR" display="text" expandshow="true" expandsize="20" limit="150" Valign="Center"/>
									<cell align="left" bkcolor2="user22" col="3" colid="NAME1" display="text" expandsize="30" limit="765" Valign="Center"/>
									<cell align="left" col="4" colid="STREET" display="text" Valign="Center"/>
									<cell align="center" col="5" colid="POST_CODE1" display="text" Valign="Center"/>
									<cell align="left" bkcolor2="user22" col="6" colid="CITY1" display="text" Valign="Center"/>
								</body>
							</format>
						</contents>
					</Grid>
				</TabPage>
				<TabPage BorderColor="black" Height="378" Id="FPLT" ImageEdgeWidth="2" ImageID="tab_main" Left="2" TabOrder="19" Text="청구계획" Top="23" Width="956">
					<Shape BKColor="user12" Bottom="35" Height="26" Id="Shape3" Left="8" LineColor="user13" Right="948" TabOrder="1" Top="9" Type="Rectangle" Width="940"></Shape>
					<Static Align="Right" Height="24" Id="Static9" Left="674" Style="sty_lb_form_basic" TabOrder="5" Text="대금청구&#32;금액" Top="10" VAlign="Middle" Width="92"></Static>
					<Edit Align="RIGHT" Border="Flat" BorderColor="user13" Height="20" Id="ed_fakwrDegr" Left="634" MaxLength="10" Number="TRUE" Readonly="TRUE" Style="sty_ipt_form_ind" TabOrder="4" Top="12" UpperOnly="TRUE" Width="35"></Edit>
					<Static Align="Right" Height="24" Id="Static2" Left="518" Style="sty_lb_form_basic" TabOrder="3" Text="청구될&#32;금액의&#32;%" Top="10" VAlign="Middle" Width="116"></Static>
					<Static Align="Right" Height="24" Id="Static6" Left="9" Style="sty_lb_form_basic" TabOrder="2" Text="청구계획유형" Top="10" VAlign="Middle" Width="92"></Static>
					<Grid AutoEnter="TRUE" AutoFitEndLine="Hide" BindDataset="ds_zfst0310_list" BkColor2="default" BoldHead="true" Border="Flat" Bottom="366" ColSizing="TRUE" Editable="TRUE" Enable="true" EndLineColor="default" HeadBorder="Flat" HeadHeight="25" Height="298" Id="grd_zfst0310" InputPanel="FALSE" Left="6" LineColor="user20" LineType="ExHORZ" OnExpandEdit="TAB0_FPLT_grd_zfst0310_OnExpandEdit" OnHeadClick="grd_list_OnHeadClick" Right="946" RowHeight="20" Style="sty_grid" TabOrder="10" TabStop="true" Top="68" UseDBuff="true" UsePopupMenu="true" UseSelColor="true" Visible="true" VLineColor="default" WheelScrollRow="1" Width="940">
						<contents>
							<format id="Default">
								<columns>
									<col width="0"/>
									<col width="81"/>
									<col width="105"/>
									<col width="75"/>
									<col width="90"/>
									<col width="94"/>
									<col width="60"/>
									<col width="77"/>
									<col width="160"/>
									<col width="87"/>
									<col width="87"/>
									<col width="55"/>
								</columns>
								<head>
									<cell col="0" display="text"/>
									<cell col="1" color="user21" display="text" font="굴림,9" text="대금청구일"/>
									<cell align="center" col="2" color="user21" display="text" font="굴림,9" text="일자내역" wordwrap="word"/>
									<cell align="center" col="3" color="user21" display="text" font="굴림,9" text="종별구분코드" wordwrap="word"/>
									<cell align="center" col="4" color="user21" display="text" font="굴림,9" text="종별구분(용도)" wordwrap="word"/>
									<cell col="5" color="user21" display="text" font="굴림,9" text="대금청구금액"/>
									<cell col="6" color="user21" display="text" font="굴림,9" text="통화"/>
									<cell col="7" color="user21" display="text" font="굴림,9" text="보류"/>
									<cell col="8" color="user21" display="text" font="굴림,9" text="대금청구계획"/>
									<cell align="center" col="9" color="user21" display="text" font="굴림,9" text="대금청구상태"/>
									<cell align="center" col="10" color="user21" display="text" font="굴림,9" text="지급조건"/>
									<cell align="center" col="11" color="user21" display="text" font="굴림,9" text="일자범주"/>
								</head>
								<body>
									<cell align="center" bkcolor2="user22" col="0" display="text" edit="normal"/>
									<cell align="center" col="1" colid="FKDAT" display="date" edit="date"/>
									<cell align="center" bkcolor2="user22" col="2" colid="TETXT" combocol="CODE" combodataset="ds_combo_s13" combodisplayrowcnt="15" combotext="CODE_NAME" display="combo" edit="combo" expandsize="15"/>
									<cell align="center" bkcolor2="user22" col="3" colid="MLBEZ" display="normal" expandshow="true"/>
									<cell align="left" bkcolor2="user22" col="4" colid="MLBEZ_NAME" display="text" expandsize="30" limit="765" Valign="Center"/>
									<cell align="right" col="5" colid="FAKWR" display="number" edit="number" Valign="Center"/>
									<cell align="center" col="6" colid="WAERS" display="text" Valign="Center"/>
									<cell align="center" col="7" colid="FAKSP" combocol="CODE" combodataset="ds_combo_s19" combotext="CODE_NAME" display="combo" edit="combo" Valign="Center"/>
									<cell align="center" col="8" colid="FAREG" combocol="CODE" combodataset="ds_combo_s15" combodisplayrowcnt="15" combotext="CODE_NAME" display="combo" edit="combo" Valign="Center"/>
									<cell align="center" col="9" colid="FKSAF_NAME" display="text" Valign="Center"/>
									<cell col="10" colid="ZTERM_NAME" display="text" expandshow="true" Valign="Center"/>
									<cell align="center" col="11" colid="FPTTP" display="text" Valign="Center"/>
								</body>
							</format>
						</contents>
					</Grid>
					<Image Height="20" Id="Image0" ImageID="form_bl_title_sub" Left="4" TabOrder="6" Top="44" Width="11"></Image>
					<Static Color="user6" Font="굴림,9,Bold" Height="20" Id="Static7" Left="17" TabOrder="7" Text="청구&#32;계획" Top="46" VAlign="Middle" Width="134"></Static>
					<Button Cursor="HAND" Height="20" Id="btn_rowAdd2" ImageID="btn_icon_plus" Left="902" LeftMargin="12" OnClick="TAB0_FPLT_btn_rowAdd2_OnClick" Style="sty_btn" TabOrder="9" Top="45" Transparent="TRUE" Width="22"></Button>
					<Button Cursor="HAND" Height="20" Id="btn_rowDel2" ImageID="btn_icon_minus" Left="926" LeftMargin="12" OnClick="TAB0_FPLT_btn_rowDel2_OnClick" Style="sty_btn" TabOrder="8" Top="45" Transparent="TRUE" Width="22"></Button>
					<MaskEdit Align="Right" Border="Flat" BorderColor="user13" Height="20" Id="ed_fakwrNetwr" Left="766" MaxLength="10" Style="sty_ipt_form_ind" TabOrder="11" Top="12" Width="123"></MaskEdit>
					<Combo BindDataset="ds_zfst0304" Border="Flat" BorderColor="user13" CodeColumn="CODE" Column="FPART" DataColumn="CODE_NAME" Height="20" Id="cb_fpart" INDEX="0" InnerDataset="ds_combo_s12" Left="101" Style="sty_ipt_form" TabOrder="12" Top="11" Width="172"></Combo>
					<Edit Align="CENTER" BindDataset="ds_zfst0304" Border="Flat" BorderColor="user13" Column="WAERK" Height="20" Id="waerk" Left="892" MaxLength="10" Readonly="TRUE" Style="sty_ipt_form_ind" TabOrder="13" Top="12" UpperOnly="TRUE" Width="51"></Edit>
					<Static Align="Right" Height="24" Id="Static16" Left="280" Style="sty_lb_form_basic" TabOrder="15" Text="시작일" Top="10" VAlign="Middle" Width="76"></Static>
					<Calendar BindDataset="ds_zfst0304" Border="Flat" BorderColor="user13" ClickedBkColor="user32" ClickedTextColor="user33" Column="BEDAT" Dateformat="yyyy.MM.dd" DayFont="돋움,9" DaySelect="Auto" DaySpacingHeight="6" DrawWeekSeparator="FALSE" EditAlign="CENTER" Font="돋움,9" HeaderBorder="NONE" HeaderFont="돋움,10,Bold" Height="20" Id="ca_bedat" Left="357" MonthPickerFormat="yyyy년&#32;MMMM" MonthPopupBorder="FLAT" SaturdayTextColor="user34" SelectedDayFont="돋움,9,Bold" Style="sty_ipt_form" SundayTextColor="user35" TabOrder="14" TextColor="user36" TitleBKColor="user37" TitleTextColor="user38" TodayColor="user39" Top="12" WeekBKColor="user40" WeekColor="user41" WeeksFont="돋움,10" Width="108"></Calendar>
					<Edit Align="CENTER" BindDataset="ds_zfst0304" Border="Flat" BorderColor="user13" Column="BEDAR" Height="20" Id="Edit8" Left="466" MaxLength="10" Readonly="TRUE" Style="sty_ipt_form_ind" TabOrder="16" Top="12" UpperOnly="TRUE" Width="27"></Edit>
					<Button Cursor="HAND" Height="18" Id="btn_bedar" ImageID="btn_icon_search" Left="494" OnClick="TAB0_FPLT_btn_bedar_OnClick" TabOrder="17" Top="13" Transparent="TRUE" Width="18"></Button>
				</TabPage>
			</Contents>
		</Tab>
		<Static Align="Right" Height="24" Id="Static9" Left="360" Style="sty_lb_form_basic" TabOrder="36" Text="유통&#32;경로" Top="39" VAlign="Middle" Width="60"></Static>
		<Combo BindDataset="ds_zfst0304" Border="Flat" BorderColor="user13" CodeColumn="CODE" Column="VTWEG" DataColumn="CODE_NAME" Height="20" Id="cb_vtweg" INDEX="0" InnerDataset="ds_combo_s02" Left="420" Style="sty_ipt_form" TabOrder="37" Top="40" Width="84"></Combo>
		<Static Align="Right" Height="24" Id="Static10" Left="505" Style="sty_lb_form_basic" TabOrder="38" Text="제품군" Top="39" VAlign="Middle" Width="44"></Static>
		<Combo BindDataset="ds_zfst0304" Border="Flat" BorderColor="user13" CodeColumn="CODE" Column="SPART" DataColumn="CODE_NAME" Height="20" Id="cb_spart" INDEX="0" InnerDataset="ds_combo_s03" Left="547" Style="sty_ipt_form" TabOrder="39" Top="40" Width="92"></Combo>
		<Static Align="Right" Height="24" Id="Static13" Left="641" Style="sty_lb_form_basic" TabOrder="40" Text="사업장" Top="39" VAlign="Middle" Width="44"></Static>
		<Edit Align="CENTER" BindDataset="ds_zfst0304" Border="Flat" BorderColor="user1" Column="VKBUR_NAME" Height="20" Id="Edit0" Left="685" MaxLength="10" Readonly="TRUE" Style="sty_ipt_form_ind" TabOrder="41" Text="신규/교체" Top="41" UpperOnly="TRUE" Width="107"></Edit>
		<Static Align="Right" Height="24" Id="Static14" Left="795" Style="sty_lb_form_basic" TabOrder="42" Text="영업그룹" Top="39" VAlign="Middle" Width="52"></Static>
		<Edit Align="CENTER" BindDataset="ds_zfst0304" Border="Flat" BorderColor="user1" Column="VKGRP_NAME" Height="20" Id="Edit1" Left="848" MaxLength="10" Readonly="TRUE" Style="sty_ipt_form_ind" TabOrder="43" Text="신규/교체" Top="41" UpperOnly="TRUE" Width="115"></Edit>
		<Calendar BindDataset="ds_zfst0304" Border="Flat" BorderColor="user13" ClickedBkColor="user32" ClickedTextColor="user33" Column="BSTDK" Dateformat="yyyy.MM.dd" DayFont="돋움,9" DaySelect="Auto" DaySpacingHeight="6" DrawWeekSeparator="FALSE" EditAlign="CENTER" Font="돋움,9" HeaderBorder="NONE" HeaderFont="돋움,10,Bold" Height="20" Id="ca_bstdk" Left="681" MonthPickerFormat="yyyy년&#32;MMMM" MonthPopupBorder="FLAT" SaturdayTextColor="user34" SelectedDayFont="돋움,9,Bold" Style="sty_ipt_form" SundayTextColor="user35" TabOrder="44" TextColor="user36" TitleBKColor="user37" TitleTextColor="user38" TodayColor="user39" Top="116" WeekBKColor="user40" WeekColor="user41" WeeksFont="돋움,10" Width="108"></Calendar>
		<Static Align="Right" Height="24" Id="Static12" Left="612" Style="sty_lb_form_basic" TabOrder="45" Text="수주일" Top="114" VAlign="Middle" Width="68"></Static>
		<Static Align="Right" Height="24" Id="Static15" Left="204" Style="sty_lb_form_basic" TabOrder="46" Text="프로젝트번호" Top="64" VAlign="Middle" Width="100"></Static>
		<Edit Align="CENTER" BindDataset="ds_zfst0304" Border="Flat" BorderColor="user1" Column="PSPID" Height="20" Id="ed_pspid1" Left="307" MaxLength="10" Style="sty_ipt_form_ind" TabOrder="47" Top="66" UpperOnly="TRUE" Width="107"></Edit>
		<Button ButtonStyle="TRUE" Cursor="HAND" Height="20" Id="btn_wbsCreate" ImageID="btn_sub_02" Left="617" LeftMargin="12" OnClick="btn_wbsCreate_OnClick" Style="sty_btn" TabOrder="48" Text="생성" Top="66" Transparent="TRUE" Width="52"></Button>
		<Static Align="Right" Height="24" Id="Static5" Left="9" Style="sty_lb_form_basic" TabOrder="49" Text="문서번호" Top="64" VAlign="Middle" Width="84"></Static>
		<Edit Align="CENTER" BindDataset="ds_zfst0304" Border="Flat" BorderColor="user1" Column="VBELN" Height="20" Id="ed_vbeln" Left="94" MaxLength="10" Style="sty_ipt_form_ind" TabOrder="50" Top="66" UpperOnly="TRUE" Width="107"></Edit>
		<Static Align="Right" Height="24" Id="Static16" Left="423" Style="sty_lb_form_basic" TabOrder="51" Text="WBS" Top="64" VAlign="Middle" Width="76"></Static>
		<Edit Align="CENTER" BindDataset="ds_zfst0304" Border="Flat" BorderColor="user1" Height="20" Id="ed_wbsYsno" Left="500" MaxLength="10" Style="sty_ipt_form_ind" TabOrder="52" Top="66" UpperOnly="TRUE" Width="107"></Edit>
	</Form>
	<Script><![CDATA[/*
 ******************************************************************************************
 * 기      능   : 수주등록
 * 작  성  자   : 박수근
 * 작성  일자   : 2017.04.13
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */
#include "LIB::commons.js";           // 공통 스크립트
#include "LIB::fs_common.js";         // 물류서비스 공통 스크립트

//=========================================================================================
// [ PART 1 ]
// Form에서 사용될 전역변수를 선언
// FORM에서 사용되는 전역변수는 대문자로 작성하며, F_XXX 의 형태를 갖도록 한다.
//=========================================================================================
var G_POSNR1 = 100;    // ZC01
var G_POSNR2 = 10;    // ZC01

var G_RFCT_SEQN = 1;
var G_OCNT_STAT = "";
//=========================================================================================
// [ PART 2 ]
// Form Loading / Unloading 시 작업 정의
//=========================================================================================
function fn_OnLoadCompleted(obj) {
    gfn_initForm(true);          // Form 로드 이벤트 맨 첫줄에 기술
    fn_init_form();             // 폼 초기화
}

/********************************************************************************
* 기      능   : form UnloadCompleted
********************************************************************************/
function fn_OnUnloadCompleted(obj) {
    return gfn_isFormUnload(obj);
}

/********************************************************************************
* 기      능   : 폼 초기화
********************************************************************************/
function fn_init_form() {
	ds_combo_s02.fireevent = false;
	ds_combo_s03.fireevent = false;
	ds_combo_s06.fireevent = false;
	ds_combo_s07.fireevent = false;

	// 유통경로
	ds_combo_s02.InsertRow(0);
	ds_combo_s02.SetColumn(0, "CODE", "");
	ds_combo_s02.SetColumn(0, "CODE_NAME", "== 선택 ==");

	// 제품군
	ds_combo_s03.InsertRow(0, "== 선택 ==");
	ds_combo_s03.SetColumn(0, "CODE", "");
	ds_combo_s03.SetColumn(0, "CODE_NAME", "== 선택 ==");

	// 인도조건
	ds_combo_s06.InsertRow(0, "== 선택 ==");
	ds_combo_s06.SetColumn(0, "CODE", "");
	ds_combo_s06.SetColumn(0, "CODE_NAME", "== 선택 ==");

	// 지급조건
	ds_combo_s07.InsertRow(0, "== 선택 ==");
	ds_combo_s07.SetColumn(0, "CODE", "");
	ds_combo_s07.SetColumn(0, "CODE_NAME", "== 선택 ==");

	// 품목범부
	ds_combo_s10.InsertRow(0, "== 선택 ==");
	ds_combo_s10.SetColumn(0, "CODE", "");
	ds_combo_s10.SetColumn(0, "CODE_NAME", "== 선택 ==");

	// 청구유형
	ds_combo_s12.InsertRow(0, "== 선택 ==");
	ds_combo_s12.SetColumn(0, "CODE", "");
	ds_combo_s12.SetColumn(0, "CODE_NAME", "== 선택 ==");

	// 일자내역
	ds_combo_s13.InsertRow(0, "== 선택 ==");
	ds_combo_s13.SetColumn(0, "CODE", "");
	ds_combo_s13.SetColumn(0, "CODE_NAME", "== 선택 ==");

	// 대금청구규칙
	ds_combo_s15.InsertRow(0, "== 선택 ==");
	ds_combo_s15.SetColumn(0, "CODE", "");
	ds_combo_s15.SetColumn(0, "CODE_NAME", "== 선택 ==");

	// 보류
	ds_combo_s19.InsertRow(0, "== 선택 ==");
	ds_combo_s19.SetColumn(0, "CODE", "");
	ds_combo_s19.SetColumn(0, "CODE_NAME", "== 선택 ==");

	cb_vtweg.Index = 0;
	cb_spart.Index = 0;
	TAB0.VBAP.cb_zterm.Index = 0;
	TAB0.VBAP.cb_inco1.Index = 0;
	TAB0.FPLT.cb_fpart.Index = 0;

	ds_combo_s02.fireevent = true;
	ds_combo_s03.fireevent = true;
	ds_combo_s06.fireevent = true;
	ds_combo_s07.fireevent = true;

    // 초기 파라미터로 넘어온 값 처리
    if( FS0301003A.IsExistVar("ocntNumb") ) {
        if( ocntNumb == "" ) {
            ds_cond.SetColumn(0, "OCNT_NUMB", "");
            ds_cond.SetColumn(0, "RFCT_SEQN", "");
            ds_cond.SetColumn(0, "OCNT_STAT", "");
            ds_cond.SetColumn(0, "VBELN", "");
        } else {
            ds_cond.fireevent = false;
            ds_cond.SetColumn(0, "OCNT_NUMB", ocntNumb);
            ds_cond.SetColumn(0, "RFCT_SEQN", rfctSeqn);
            ds_cond.SetColumn(0, "OCNT_STAT", ocntStat);
            ds_cond.SetColumn(0, "VBELN", vbeln);
			G_RFCT_SEQN = rfctSeqn;
			G_OCNT_STAT = ocntStat;
            ds_cond.fireevent = true;
			fn_codeQuery();
        }
    }
}

/********************************************************************************
* 기      능   : 공용 코드 조회
********************************************************************************/
function fn_codeQuery() 
{
    // 조회 스크립트
    tit_clearActionInfo();
    // 유통경로
    tit_addSearchActionInfo("fs03:FS0301003A_S2");
    // 제품군
    tit_addSearchActionInfo("fs03:FS0301003A_S3");
    // 인도조건
    tit_addSearchActionInfo("fs03:FS0301003A_S4");
    // 지급조건
    tit_addSearchActionInfo("fs03:FS0301003A_S5");
    // 품목범주
    tit_addSearchActionInfo("fs03:FS0301003A_S6");
    // 청구계획 유형
    tit_addSearchActionInfo("fs03:FS0301003A_S7");
    // 일자내역
    tit_addSearchActionInfo("fs03:FS0301003A_S8");
    // 대금청구규칙
    tit_addSearchActionInfo("fs03:FS0301003A_S9");
    // 보류
    tit_addSearchActionInfo("fs03:FS0301003A_S10");
    var outArg = "";
    outArg =outArg + "ds_combo_s02=ds_combo_s02";
    outArg = outArg + " ds_combo_s03=ds_combo_s03";
    outArg = outArg + " ds_combo_s06=ds_combo_s06";
    outArg = outArg + " ds_combo_s07=ds_combo_s07";
    outArg = outArg + " ds_combo_s10=ds_combo_s10";
    outArg = outArg + " ds_combo_s12=ds_combo_s12";
    outArg = outArg + " ds_combo_s13=ds_combo_s13";
    outArg = outArg + " ds_combo_s15=ds_combo_s15";
    outArg = outArg + " ds_combo_s19=ds_combo_s19";

    tit_callService(
                    ""
                   ,""
                   ,"ds_cond=ds_cond"
                   ,outArg
                   ,""
                   ,"fn_afterCodeQuery"
                   ,"true"
                   ,"true"
                   ,"false"
                   );
}

/********************************************************************************
* 기      능   : 공용 코드 조회 Callback
********************************************************************************/
function fn_afterCodeQuery(errCode, errMsg) {
    if(errCode != 0) {
        gfn_showMsg("CE00001");
    } else {
        fn_query();
    }
}

/********************************************************************************
* 기      능   : 수주 조회
********************************************************************************/
function fn_query() 
{
    if( ed_ocntNumb.text == '' ) {
        gfn_openMsgWin("수주번호를 입력하십시요", "", "A", "");
        return;
    }

    // 그리드 소트 최기화
    gfn_clearGridSortMark(TAB0.VBAP.grd_zfst0307);

    // 그리드 소트 최기화
    gfn_clearGridSortMark(TAB0.FPLT.grd_zfst0310);

    // 조회 스크립트
    tit_clearActionInfo();
    /* 빌링 계획의 상태는 SAP 빌링 상태정보를 통해서 가져와야 한다.
       그렇게 처리하기 위해서는 SAP에서 SAPHEE.FPLT   FPLNR 최종 반영된 데이터를 가지고 있어야 한다. 문서의 키값을 변경해 줘야 한다. */
    var ocntStat = ds_cond.GetColumn(0, "OCNT_STAT");
    var vbeln = ds_cond.GetColumn(0, "VBELN");
    trace("ocntStat:"+ocntStat);
    trace("vbeln:"+vbeln);
    
    if( (ocntStat == "250" || ocntStat == "260") && length(vbeln) == 0 ) {
		// 수주 이력 마스터 조회 ZFST0305
		tit_addSearchActionInfo("fs03:FS0301003A_S11");
		// 수주 품목 데이터 조회 ZFST0308 000000 마스터
		tit_addSearchActionInfo("fs03:FS0301003A_S14");
		// 수주 품목 데이터 조회 ZFST0308 품목 리스트
		tit_addSearchActionInfo("fs03:FS0301003A_S15");
        // 수주 파트너 정보를 조회 ds_zfst0306_list
		tit_addSearchActionInfo("fs03:FS0301003A_S16");
		// 수주 청구계획 정보를 조회 ds_zfst0310_list
		tit_addSearchActionInfo("fs03:FS0301003A_S17");
    } else if( (ocntStat == "250" || ocntStat == "260") && length(vbeln) > 0 ) {
        // 승인완료 및 최종 완료된 건에 대해서는 SAP 테이블에서 자료를 조회한다.
		// SAP 수주 마스터 조회 ZFST0305
		tit_addSearchActionInfo("fs03:FS0301003A_S11_1");
		// SAP 수주 품목 데이터 조회 ZFST0308 000000 마스터
		tit_addSearchActionInfo("fs03:FS0301003A_S14_1");
		// SAP 수주 품목 데이터 조회 ZFST0308 품목 리스트
		tit_addSearchActionInfo("fs03:FS0301003A_S15_1");
        // SAP 수주 파트너 정보를 조회 ds_zfst0306_list
		tit_addSearchActionInfo("fs03:FS0301003A_S16_1");
		// SAP 수주 청구계획 정보를 조회 ds_zfst0310_list
		tit_addSearchActionInfo("fs03:FS0301003A_S17_1");
    } else {
        // 현재 작성중인 수주 데이터를 조회한다.
		// 수주 마스터 조회 ZFST0304
		tit_addSearchActionInfo("fs03:FS0301003A_S1");

		// 수주 품목 데이터 조회 ZFST0307  000000 마스터
		tit_addSearchActionInfo("fs03:FS0301003A_S12");
		// 수주 품목 데이터 조회 ZFST0307  품목 리스트
		tit_addSearchActionInfo("fs03:FS0301003A_S13");
		// 수주 파트너 정보를 조회 ds_zfst0306_list
		tit_addSearchActionInfo("fs03:FS0301003A_S16");
		// 수주 청구계획 정보를 조회 ds_zfst0310_list
		tit_addSearchActionInfo("fs03:FS0301003A_S17");
    }

    var outArg = "";
    outArg = outArg + "ds_zfst0304=ds_zfst0304";
    outArg = outArg + " ds_zfst0307=ds_zfst0307";
    outArg = outArg + " ds_zfst0307_list=ds_zfst0307_list";
    outArg = outArg + " ds_zfst0306_list=ds_zfst0306_list";
    outArg = outArg + " ds_zfst0310_list=ds_zfst0310_list";

    tit_callService(
                    ""
                   ,""
                   ,"ds_cond=ds_cond"
                   ,outArg
                   ,""
                   ,"fn_afterQuery"
                   ,"true"
                   ,"true"
                   ,"false"
                   );
}

/********************************************************************************
* 기      능   : 수주 조회 Callback
********************************************************************************/
function fn_afterQuery(errCode, errMsg) {
    if(errCode != 0) {
        gfn_showMsg("CE00001");
    } else {
        ds_zfst0306_data.ClearData();
        ds_zfst0304.fireevent = false;
        ds_cond.fireevent = false;

        gfn_showMsg("CI00002", ds_zfst0304.rowCount() + "");

        if( ds_zfst0304.rowCount() > 0 ) {
            ds_zfst0306_data.fireevent = false;
            // ds_zfst0307 데이터가 없는 경우 신규 로우 생성
            if(ds_zfst0307.GetRowCount() == 0) {
                ds_zfst0307.AddRow();
                // 기본 키 정보 입력
                ds_zfst0307.SetColumn(0, "OCNT_NUMB", ds_zfst0304.GetColumn(0, "OCNT_NUMB"));
                ds_zfst0307.SetColumn(0, "POSNR", "000000");
                ds_zfst0307.SetColumn(0, "VBELN", ds_zfst0304.GetColumn(0, "VBELN"));
                ds_zfst0307.SetColumn(0, "FLAG", "I");
            } else {
                if( ds_zfst0307.GetColumn(0, "KURSK") == "0" ) {
                    ds_zfst0307.SetColumn(0, "KURSK", "");
                    ds_zfst0307.ApplyChange();
                }
            }
            
            // 판매조직
            if( length(ds_zfst0304.GetColumn(0, "VKORG")) == 0 ) {
                ds_zfst0304.SetColumn(0, "VKORG", "1000");
                ds_zfst0304.SetColumn(0, "VKORG_NAME", "현대엘리베이터");
            }

            // 사업장
            if( length(ds_zfst0304.GetColumn(0, "VKBUR")) == 0 ) {
                ds_zfst0304.SetColumn(0, "VKBUR", G_SAP_USER_VBCD);
                ds_zfst0304.SetColumn(0, "VKBUR_NAME", G_SAP_USER_VBNM);
            }

            // 유통 경로 초기값 설정 보수로 설정
            var auart = ds_zfst0304.GetColumn(0, "AUART");
            if( length(ds_zfst0304.GetColumn(0, "VTWEG")) == 0 ) {
                ds_zfst0304.SetColumn(0, "VTWEG", "20");
            }

            // 제품군 물류로 기본 값 정의 SPART
            if( length(ds_zfst0304.GetColumn(0, "SPART")) == 0 ) {
                ds_zfst0304.SetColumn(0, "SPART", "30");
            }

            // 영업그룹
            if( length(ds_zfst0304.GetColumn(0, "VKGRP")) == 0 ) {
                ds_zfst0304.SetColumn(0, "VKGRP", G_SAP_USER_VGCD);
                ds_zfst0304.SetColumn(0, "VKGRP_NAME", G_SAP_USER_VGNM);
            }

            // 청구계획 유형 FPART
            if( length(ds_zfst0304.GetColumn(0, "FPART")) == 0 ) {
                ds_zfst0304.SetColumn(0, "FPART", "Z1");
            }

            // 청구시작타입
            if( length(ds_zfst0304.GetColumn(0, "BEDAR")) == 0 ) {
                ds_zfst0304.SetColumn(0, "BEDAR", "01");
            }

            // ds_zfst0306_list에서 조회된 정보로 파트너 정보를 입력한다.
			var nRow = ds_zfst0306_data.AppendRow();
			var prtnSeqn = 1;
			ds_zfst0306_data.SetColumn(nRow, "OCNT_NUMB", ds_zfst0304.GetColumn(0, "OCNT_NUMB"));
			ds_zfst0306_data.SetColumn(nRow, "PRTN_SEQN", prtnSeqn);
			ds_zfst0306_data.SetColumn(nRow, "KUNNR", ds_zfst0304.GetColumn(0, "KUNNR"));
			ds_zfst0306_data.SetColumn(nRow, "VKORG", ds_zfst0304.GetColumn(0, "VKORG"));
			ds_zfst0306_data.SetColumn(nRow, "VTWEG", ds_zfst0304.GetColumn(0, "VTWEG"));
			ds_zfst0306_data.SetColumn(nRow, "SPART", ds_zfst0304.GetColumn(0, "SPART"));
			ds_zfst0306_data.SetColumn(nRow, "PARVW", "AG"); // 판매처
			ds_zfst0306_data.SetColumn(nRow, "PARVW_NAME", "판매처"); 
			ds_zfst0306_data.SetColumn(nRow, "NAME1", ds_zfst0304.GetColumn(0, "KUNNR_NAME"));
			ds_zfst0306_data.SetColumn(nRow, "STREET", ds_zfst0304.GetColumn(0, "KUNNR_ADDR"));
			ds_zfst0306_data.SetColumn(nRow, "POST_CODE1", ds_zfst0304.GetColumn(0, "KUNNR_PSTLZ"));
			ds_zfst0306_data.SetColumn(nRow, "CITY1", ds_zfst0304.GetColumn(0, "KUNNR_ORT01"));
			ds_zfst0306_data.SetColumn(nRow, "FLAG", "I");

			nRow = ds_zfst0306_data.AppendRow();
			prtnSeqn = prtnSeqn+1;
			ds_zfst0306_data.SetColumn(nRow, "OCNT_NUMB", ds_zfst0304.GetColumn(0, "OCNT_NUMB"));
			ds_zfst0306_data.SetColumn(nRow, "PRTN_SEQN", prtnSeqn);
			ds_zfst0306_data.SetColumn(nRow, "KUNNR", ds_zfst0304.GetColumn(0, "KUNNR"));
			ds_zfst0306_data.SetColumn(nRow, "VKORG", ds_zfst0304.GetColumn(0, "VKORG"));
			ds_zfst0306_data.SetColumn(nRow, "VTWEG", ds_zfst0304.GetColumn(0, "VTWEG"));
			ds_zfst0306_data.SetColumn(nRow, "SPART", ds_zfst0304.GetColumn(0, "SPART"));
            ds_zfst0306_data.SetColumn(nRow, "PARVW", "RE"); // 청구인
			ds_zfst0306_data.SetColumn(nRow, "PARVW_NAME", "청구처"); 
			ds_zfst0306_data.SetColumn(nRow, "NAME1", ds_zfst0304.GetColumn(0, "KUNNR_NAME"));
			ds_zfst0306_data.SetColumn(nRow, "STREET", ds_zfst0304.GetColumn(0, "KUNNR_ADDR"));
			ds_zfst0306_data.SetColumn(nRow, "POST_CODE1", ds_zfst0304.GetColumn(0, "KUNNR_PSTLZ"));
			ds_zfst0306_data.SetColumn(nRow, "CITY1", ds_zfst0304.GetColumn(0, "KUNNR_ORT01"));
			ds_zfst0306_data.SetColumn(nRow, "FLAG", "I");

			nRow = ds_zfst0306_data.AppendRow();
			prtnSeqn = prtnSeqn+1;
			ds_zfst0306_data.SetColumn(nRow, "OCNT_NUMB", ds_zfst0304.GetColumn(0, "OCNT_NUMB"));
			ds_zfst0306_data.SetColumn(nRow, "PRTN_SEQN", prtnSeqn);
			ds_zfst0306_data.SetColumn(nRow, "KUNNR", ds_zfst0304.GetColumn(0, "KUNNR"));
			ds_zfst0306_data.SetColumn(nRow, "VKORG", ds_zfst0304.GetColumn(0, "VKORG"));
			ds_zfst0306_data.SetColumn(nRow, "VTWEG", ds_zfst0304.GetColumn(0, "VTWEG"));
			ds_zfst0306_data.SetColumn(nRow, "SPART", ds_zfst0304.GetColumn(0, "SPART"));
            ds_zfst0306_data.SetColumn(nRow, "PARVW", "RG"); // 지급인
			ds_zfst0306_data.SetColumn(nRow, "PARVW_NAME", "지급인"); // 지급인
			ds_zfst0306_data.SetColumn(nRow, "NAME1", ds_zfst0304.GetColumn(0, "KUNNR_NAME"));
			ds_zfst0306_data.SetColumn(nRow, "STREET", ds_zfst0304.GetColumn(0, "KUNNR_ADDR"));
			ds_zfst0306_data.SetColumn(nRow, "POST_CODE1", ds_zfst0304.GetColumn(0, "KUNNR_PSTLZ"));
			ds_zfst0306_data.SetColumn(nRow, "CITY1", ds_zfst0304.GetColumn(0, "KUNNR_ORT01"));
			ds_zfst0306_data.SetColumn(nRow, "FLAG", "I");

			nRow = ds_zfst0306_data.AppendRow();
			prtnSeqn = prtnSeqn+1;
			ds_zfst0306_data.SetColumn(nRow, "OCNT_NUMB", ds_zfst0304.GetColumn(0, "OCNT_NUMB"));
			ds_zfst0306_data.SetColumn(nRow, "PRTN_SEQN", prtnSeqn);
			ds_zfst0306_data.SetColumn(nRow, "KUNNR", ds_zfst0304.GetColumn(0, "KUNNR"));
			ds_zfst0306_data.SetColumn(nRow, "VKORG", ds_zfst0304.GetColumn(0, "VKORG"));
			ds_zfst0306_data.SetColumn(nRow, "VTWEG", ds_zfst0304.GetColumn(0, "VTWEG"));
			ds_zfst0306_data.SetColumn(nRow, "SPART", ds_zfst0304.GetColumn(0, "SPART"));
            ds_zfst0306_data.SetColumn(nRow, "PARVW", "WE"); // 납품처
			ds_zfst0306_data.SetColumn(nRow, "PARVW_NAME", "납품처"); 
			ds_zfst0306_data.SetColumn(nRow, "NAME1", ds_zfst0304.GetColumn(0, "KUNWE_NAME"));
			ds_zfst0306_data.SetColumn(nRow, "STREET", ds_zfst0304.GetColumn(0, "KUNWE_ADDR"));
			ds_zfst0306_data.SetColumn(nRow, "POST_CODE1", ds_zfst0304.GetColumn(0, "KUNWE_PSTLZ"));
			ds_zfst0306_data.SetColumn(nRow, "CITY1", ds_zfst0304.GetColumn(0, "KUNWE_ORT01"));
			ds_zfst0306_data.SetColumn(nRow, "FLAG", "I");

			nRow = ds_zfst0306_data.AppendRow();
			prtnSeqn = prtnSeqn+1;
			ds_zfst0306_data.SetColumn(nRow, "OCNT_NUMB", ds_zfst0304.GetColumn(0, "OCNT_NUMB"));
			ds_zfst0306_data.SetColumn(nRow, "PRTN_SEQN", prtnSeqn);
			ds_zfst0306_data.SetColumn(nRow, "VKORG", ds_zfst0304.GetColumn(0, "VKORG"));
			ds_zfst0306_data.SetColumn(nRow, "VTWEG", ds_zfst0304.GetColumn(0, "VTWEG"));
			ds_zfst0306_data.SetColumn(nRow, "SPART", ds_zfst0304.GetColumn(0, "SPART"));
            ds_zfst0306_data.SetColumn(nRow, "PARVW", "Z2"); // 영업사원
			ds_zfst0306_data.SetColumn(nRow, "PARVW_NAME", "영업사원");
			ds_zfst0306_data.SetColumn(nRow, "FLAG", "");

			nRow = ds_zfst0306_data.AppendRow();
			prtnSeqn = prtnSeqn+1;
			ds_zfst0306_data.SetColumn(nRow, "OCNT_NUMB", ds_zfst0304.GetColumn(0, "OCNT_NUMB"));
			ds_zfst0306_data.SetColumn(nRow, "PRTN_SEQN", prtnSeqn);
			ds_zfst0306_data.SetColumn(nRow, "VKORG", ds_zfst0304.GetColumn(0, "VKORG"));
			ds_zfst0306_data.SetColumn(nRow, "VTWEG", ds_zfst0304.GetColumn(0, "VTWEG"));
			ds_zfst0306_data.SetColumn(nRow, "SPART", ds_zfst0304.GetColumn(0, "SPART"));
            ds_zfst0306_data.SetColumn(nRow, "PARVW", "Z3"); // 기술영업담당
			ds_zfst0306_data.SetColumn(nRow, "PARVW_NAME", "기술영업담당");
		    ds_zfst0306_data.SetColumn(nRow, "FLAG", "");

            for(var i=0; i < ds_zfst0306_list.GetRowCount(); i++) {
                var fRow = ds_zfst0306_list.GetColumn(i, "PRTN_SEQN");
                var iRow = toNumber(fRow) - 1;
				ds_zfst0306_data.SetColumn(iRow, "OCNT_NUMB", ds_zfst0306_list.GetColumn(i, "OCNT_NUMB"));
				ds_zfst0306_data.SetColumn(iRow, "PRTN_SEQN", ds_zfst0306_list.GetColumn(i, "PRTN_SEQN"));
				ds_zfst0306_data.SetColumn(iRow, "KUNNR", ds_zfst0306_list.GetColumn(i, "KUNNR"));
				ds_zfst0306_data.SetColumn(iRow, "VKORG", ds_zfst0306_list.GetColumn(i, "VKORG"));
				ds_zfst0306_data.SetColumn(iRow, "VTWEG", ds_zfst0306_list.GetColumn(i, "VTWEG"));
				ds_zfst0306_data.SetColumn(iRow, "SPART", ds_zfst0306_list.GetColumn(i, "SPART"));
				ds_zfst0306_data.SetColumn(iRow, "PARVW", ds_zfst0306_list.GetColumn(i, "PARVW"));
				ds_zfst0306_data.SetColumn(iRow, "PARVW_NAME", ds_zfst0306_list.GetColumn(i, "PARVW_NAME"));
				if( ds_zfst0306_list.GetColumn(i, "PARVW") == "Z2" || ds_zfst0306_list.GetColumn(i, "PARVW") == "Z3" ) {
				    ds_zfst0306_data.SetColumn(iRow, "NAME1", ds_zfst0306_list.GetColumn(i, "IRUM"));
				} else {
					ds_zfst0306_data.SetColumn(iRow, "NAME1", ds_zfst0306_list.GetColumn(i, "KUNNR_NAME"));
					ds_zfst0306_data.SetColumn(iRow, "STREET", ds_zfst0306_list.GetColumn(i, "KUNNR_ADDR"));
					ds_zfst0306_data.SetColumn(iRow, "POST_CODE1", ds_zfst0306_list.GetColumn(i, "KUNNR_PSTLZ"));
					ds_zfst0306_data.SetColumn(iRow, "CITY1", ds_zfst0306_list.GetColumn(i, "KUNNR_ORT01"));
				}
				ds_zfst0306_data.SetColumn(iRow, "FLAG", ds_zfst0306_list.GetColumn(i, "FLAG"));
            }

            // 대금청구계획 합계 화면 표시
            fn_calFakwrAmt();
            
            // 버튼 권한 관리
            fn_authCtrl();

            ds_zfst0306_data.fireevent = true;
            ed_wbsYsno.Text = "미생성";
            var cnt309 = ds_zfst0304.GetColumn(0, "CNT309");
            if( cnt309 > 0 ) {
                ed_wbsYsno.Text = "생성";
            }
        } else {
            gfn_openMsgWin("존재하지 않는 수주번호 입니다.\n수주번호를 입력하십시요", "", "A", "");
			ds_cond.SetColumn(0, "OCNT_NUMB", "");
			ds_cond.SetColumn(0, "RFCT_SEQN", "");
			ds_cond.SetColumn(0, "OCNT_STAT", "");
			ds_cond.SetColumn(0, "PSPID", "");
        }

        ds_zfst0304.fireevent = true;
        ds_cond.fireevent = true;
    }
}

/********************************************************************************
* 기      능   : 수주 등록 버튼 및 권한 체크 로직
********************************************************************************/
function fn_authCtrl()
{
    // 팀구분에 따른 원가 내역 조회 처리
	// 문서상태 230: 수주 작성중, 240: 수재 결재 중: 250: 수주 승인 260: 최종완료 OCNT_STAT
	var ocntStat = ds_zfst0304.GetColumn(0, "OCNT_STAT");
	// 결재상태
	var apprStat = ds_zfst0304.GetColumn(0, "APPR_STAT");
	// 작성자
	var writUser = ds_zfst0304.GetColumn(0, "WRIT_USER");

    if( G_DPT1 != "CD" ) {
        TAB0.Enable = false;
    }

    // 최초 버튼 제어
	btn_approval.Enable = false;        // 승인
	btn_draft.Enable = false;           // 기안
	btn_rewrite.Enable = false;         // 재작성
	btn_delete.Enable = false;          // 삭제
	btn_save.Enable = false;            // 저장
	btn_print.Enable = false;           // 출력
	btn_sendback.Enable = false;        // 반송
	btn_mngrReg.Enable = false;         // 담당자 등록
	btn_adocInfo.Enable = false;        // 결재정보
	btn_wbsCreate.Enable = false;       // WBS생성
	//btn_wbsReg.Enable = false;          // wbs 등록
	TAB0.VBAP.btn_rowAdd1.Enable = false;         // 추가
	TAB0.VBAP.btn_rowDel1.Enable = false;         // 삭제
	TAB0.FPLT.btn_rowAdd2.Enable = false;         // 추가
	TAB0.FPLT.btn_rowDel2.Enable = false;         // 삭제

    // 물류서비스 팀인 경우
    if( G_DPT1 == "CD" ) {
        if( ocntStat == "220" || ocntStat == "230" ) {
			btn_draft.Enable = true;           // 기안
			btn_delete.Enable = true;          // 삭제
			btn_save.Enable = true;            // 저장
			btn_print.Enable = true;           // 출력
			btn_mngrReg.Enable = true;         // 담당자 등록
		    btn_adocInfo.Enable = true;        // 결재정보
			TAB0.VBAP.btn_rowAdd1.Enable = true;         // 추가
			TAB0.VBAP.btn_rowDel1.Enable = true;         // 삭제
			TAB0.FPLT.btn_rowAdd2.Enable = true;         // 추가
			TAB0.FPLT.btn_rowDel2.Enable = true;         // 삭제

			// 차수가 1차 인경우에만 WBS 생성
			var rfctSeqn = ds_zfst0304.GetColumn(0, "RFCT_SEQN");
			if( rfctSeqn == 0 ) {
			    btn_wbsCreate.Enable = true;       // WBS생성
			}
        }

        // 수주 반려 상태
        if( ocntStat == "220" ) {
			// 결재정보
		    btn_adocInfo.Enable = true;        // 결재정보
        }

        // 견적원가 결재 중
        if( ocntStat == "240" ) {
			btn_print.Enable = true;           // 출력
			// 문서 상태가 결재 중 일 경우 로그인 사용자가 결재 대상자 인 경우
			var adit = ds_zfst0304.GetColumn(0, "ADIT");
			var appr = ds_zfst0304.GetColumn(0, "APPR");
			var apprStat = ds_zfst0304.GetColumn(0, "APPR_STAT");

			if( G_USER_ID == adit && apprStat == "190" ) {
	            btn_approval.Enable = true;        // 승인
	            btn_sendback.Enable = true;        // 반송
			}

			if( G_USER_ID == appr && apprStat == "290" ) {
	            btn_approval.Enable = true;        // 승인
	            btn_sendback.Enable = true;        // 반송
			}

            // 심사자 정보가 없는 경우 바로 승인 처리
			if( G_USER_ID == appr && adit == "" && apprStat == "190" ) {
	            btn_approval.Enable = true;        // 승인
	            btn_sendback.Enable = true;        // 반송
			}

			// 결재정보
		    btn_adocInfo.Enable = true;        // 결재정보
        }

        // 승인완료 상태
        if( ocntStat == "250" ||  ocntStat == "260") {
	        btn_rewrite.Enable = true;         // 재작성
			btn_print.Enable = true;           // 출력
		    btn_adocInfo.Enable = true;        // 결재정보
        }
    }
}

/********************************************************************************
* 기      능   : 삭제
********************************************************************************/
function fn_delete() {
    // 현재차수가 1차인 경우 삭제 메세지를 정의한다.
    var message = "현재 작성중인 수주 등록 자료를 삭제 하시겠습니까?.";
    var rfctSeqn = ds_zfst0304.GetColumn(0, "RFCT_SEQN");
    var ocntStat = ds_zfst0304.GetColumn(0, "OCNT_STAT");
    var ebdgMgst = ds_zfst0304.GetColumn(0, "EBDG_MGST"); // 시행예산 1차의 문서상태
    if( rfctSeqn == 0 && ocntStat == "230" && ebdgMgst == "330" ) {
		if( gfn_showConfirm("현재 작성 중인 시행예산 및 수주 작성 중인 자료가 삭제 됩니다. 삭제 하시겠습니까?") ) {
		    ds_cond.SetColumn(0, "RFCT_SEQN", rfctSeqn);
		    //  ZFST0301, ZFST0302, ZFST0304, ZFST0306, ZFST0307, ZFST0309, ZFST0310, ZFST0311
		    // 1차수는 모든 데이터를 삭제한다.
			tit_clearActionInfo();
			// 네트워크 ZFST0311
			tit_addSingleActionInfo("fs03:FS0301003A_D8");
			// ZFST0310 빌링계획 삭제
			tit_addSingleActionInfo("fs03:FS0301003A_D7_1");
			// WBS요소 삭제
			tit_addSingleActionInfo("fs03:FS0301003A_D6_1");
			// WZFST0307 수주품목 삭제
			tit_addSingleActionInfo("fs03:FS0301003A_D4");
			// ZFST0306 수주파트너 삭제
			tit_addSingleActionInfo("fs03:FS0301003A_D3_1");
			// ZFST0304 수주마스터 삭제
			tit_addSingleActionInfo("fs03:FS0301003A_D1");
			// 시행예산 품목 삭제
			tit_addSingleActionInfo("fs03:FS0301003A_D0_1");
			// 시행예산 마스터 삭제
			tit_addSingleActionInfo("fs03:FS0301003A_D0");
			// 견적원가 마스터 코드 상태 처리 OCNT_PDYN = ''
			tit_addSingleActionInfo("fs03:FS0301003A_U0");
            // 결재처리 삭제 
            tit_addSingleActionInfo("fs03:FS0301003A_D9");
            // 담당자 정보 삭제 SAPHEE.ZFST0104 A.ADOC_CLAS = 'OI' AND     A.ADOC_NUMB = 'HEOI201704170001
            tit_addSingleActionInfo("fs03:FS0301003A_D10");
            // 월별청구수금계획 자료 삭제
            tit_addSingleActionInfo("fs03:FS0301003A_D11");
            tit_callService(
							""
						   ,""
						   ,"ds_cond=ds_cond"
						   ,""
						   ,""
						   ,"fn_afterDeleteNo"
						   ,"true"
						   ,"true"
						   ,"false"
						   );
		}
    } else if( rfctSeqn > 0 && !(ocntStat == "250" || ocntStat == "260")) {
		if( gfn_showConfirm("현재 작성 중인 수주 정보를 삭제 하시겠습니까?") ) {
		    ds_cond.SetColumn(0, "RFCT_SEQN", rfctSeqn);
		    // 작성 중인 수주 등록 차수에 대해서 삭제를 수행한다.
			// ZFST0307 삭제
			tit_addSingleActionInfo("fs03:FS0301003A_D4");
			// ZFST0307 재생성
			tit_addSingleActionInfo("fs03:FS0301003A_I4_2");
			tit_clearActionInfo();
			// ZFST0304 삭제
			tit_addSingleActionInfo("fs03:FS0301003A_D1");
			// ZFST0304 입력
			tit_addSingleActionInfo("fs03:FS0301003A_I1");
			tit_callService(
							""
						   ,""
						   ,"ds_cond=ds_cond"
						   ,""
						   ,""
						   ,"fn_afterDelete"
						   ,"true"
						   ,"true"
						   ,"false"
						   );
		}
    }
}

/********************************************************************************
* 기      능   : 수주품목SAP 삭제 Callback
********************************************************************************/
function fn_afterDeleteNo(errCode, errMsg) {
    if(errCode != "0") {
        gfn_showMsg("CE00001");
    } else {
        gfn_showMsg("CI00004");
        // 현재 입력되어지 데이터넷 초기를 수행한다.
        gfn_openMsgWin("작성 중인 수주, 시행예산 정보가 삭제 되었습니다.수주생성 현황 조회에서 수주번호를 생성한 후 수주 및 시행예산을 작성해 주십시요.", "", "A", "");
        ds_cond.ClearData();
        ds_zfst0304.ClearData();
        ds_zfst0306_data.ClearData();
        ds_zfst0306_list.ClearData();
        ds_zfst0307.ClearData();
        ds_zfst0307_list.ClearData();
    }
}

/********************************************************************************
* 기      능   : 수주품목SAP 삭제 Callback
********************************************************************************/
function fn_afterDelete(errCode, errMsg) {
    if(ds_error.rowcount() > 0) {
        gfn_showMsg("CE00001");
    } else {
        gfn_showMsg("CI00004");
        gfn_openMsgWin("작성 중인 수주 차수가 삭제 되었습니다.", "", "A", "");
        ds_cond.SetColumn(0, "OCNT_STAT", "250");
        fn_query();
    }
}

/********************************************************************************
* 기      능   : 재작성
********************************************************************************/
function fn_rewrite() 
{
	// 최종 차수 정보 입력    if( ocntStat == "250" || ocntStat == "260" )
	var ocntStat = ds_zfst0304.GetColumn(0, "OCNT_STAT");
    if( !(ocntStat == "250" || ocntStat == "260") ) {
        gfn_openMsgWin("진행상태가 수주승인 시에만 재작성할 수 있습니다.", "", "A", "");
        return;
    }

	if( gfn_showConfirm("재작성 하시겠습니까?") ) {
	    // 수주 상태 정보를 수주 작성으로 변경한다.
	    ds_cond.SetColumn(0, "OCNT_STAT", "230");
	    
		ds_zfst0306_insert.ClearData();
		// 수주 파트너 입력 자료 생성
		for(var i=0; i < ds_zfst0306_data.GetRowCount(); i++) {
			var nRow = ds_zfst0306_insert.AppendRow();
			ds_zfst0306_insert.CopyRow(nRow, ds_zfst0306_data, i);
		}

		tit_clearActionInfo();
		// 화면에 존재하는 데이터를 반영해 준다
		var inArg = "";
		inArg = inArg + "ds_cond=ds_cond";
		inArg = inArg + " ds_zfst0304=ds_zfst0304";
		inArg = inArg + " ds_zfst0307=ds_zfst0307";
		inArg = inArg + " ds_zfst0307_list=ds_zfst0307_list";
		inArg = inArg + " ds_zfst0306=ds_zfst0306_insert";
		inArg = inArg + " ds_zfst0310=ds_zfst0310_list";

		// 수주 마스터 저장
		tit_addSingleActionInfo("fs03:FS0301003A_U1");

	    // 수주품목 저장 ds_zfst0307.GetColumn(0, "FLAG", "I");
	    tit_addSingleActionInfo("fs03:FS0301003A_U4");

		// 수주품목 저장
		tit_addMultiActionInfo("fs03:FS0301003A_U4_1");

        // 수주파트너 삭제
		tit_addMultiActionInfo("fs03:FS0301003A_D3_1");

		// 수주파트너 저장
	    tit_addMultiActionInfo("fs03:FS0301003A_I3");

		// 청구계획 삭제
		tit_addSingleActionInfo("fs03:FS0301003A_D7_1");

		// 청구계획 저장
		tit_addMultiActionInfo("fs03:FS0301003A_I7");

		// 결재상태 변경
		tit_addSingleActionInfo("fs03:FS0301003A_U1_1");

		tit_callService(
						""
					   ,""
					   ,inArg
					   ,""
					   ,""
					   ,"fn_afterRewrite"
					   ,"true"
					   ,"true"
					   ,"false"
					   );
	}
}

/********************************************************************************
* 기      능   : 재작성
********************************************************************************/
function fn_afterRewrite() {
    if(ds_error < 0) {
        gfn_showMsg("CE00001");
    } else {
	    var rfctSeqn = ds_zfst0304.GetColumn(0, "RFCT_SEQN");
	    rfctSeqn = toNumber(rfctSeqn) + 1;
		ds_cond.SetColumn(0, "RFCT_SEQN", rfctSeqn);
		ds_cond.SetColumn(0, "OCNT_STAT", "230");
		G_RFCT_SEQN = rfctSeqn;
		G_OCNT_STAT = "230";
		
        gfn_openMsgWin("수주 재작성 처리가 완료 되었습니다.", "", "A", "");
        fn_query();
    }
}

/********************************************************************************
* 기      능   : 수주정보 저장
********************************************************************************/
function fn_save() {
	ds_zfst0306_delete.ClearData();
	ds_zfst0306_insert.ClearData();
	for(var i=0; i < ds_zfst0306_data.GetRowCount(); i++) {
		if( ds_zfst0306_data.GetColumn(i, "FLAG") == "I" || ds_zfst0306_data.GetColumn(i, "FLAG") == "U" ) {
			var nRow = ds_zfst0306_insert.AppendRow();
			ds_zfst0306_insert.CopyRow(nRow, ds_zfst0306_data, i);
		} else if( ds_zfst0306_data.GetColumn(i, "FLAG") == "D" ) {
			var nRow = ds_zfst0306_delete.AppendRow();
			ds_zfst0306_delete.CopyRow(nRow, ds_zfst0306_data, i);
		}
	}

    if( ds_zfst0304.GetUpdate() || ds_zfst0307.GetUpdate() || ds_zfst0307_list.GetUpdate() 
        || ds_zfst0310_list.GetUpdate() || ds_zfst0306_insert.GetRowCount() > 0 || ds_zfst0306_delete.GetRowCount() > 0 ) 
        if( gfn_showConfirm("저장 하시겠습니까?") ) {
			var inArg = "";
			inArg = inArg + "ds_zfst0304=ds_zfst0304";
			inArg = inArg + " ds_zfst0307=ds_zfst0307";
			inArg = inArg + " ds_zfst0307_list=ds_zfst0307_list:A";
			inArg = inArg + " ds_zfst0306_delete=ds_zfst0306_delete";
			inArg = inArg + " ds_zfst0306=ds_zfst0306_insert";
			inArg = inArg + " ds_zfst0310=ds_zfst0310_list:A";

			tit_clearActionInfo();
            // 수주 마스터 저장
			tit_addSingleActionInfo("fs03:FS0301003A_U1");

			// 수주품목 저장 ds_zfst0307.GetColumn(0, "FLAG", "I");
   			if( ds_zfst0307.GetColumn(0, "FLAG") == "I" ) {
			    tit_addSingleActionInfo("fs03:FS0301003A_I4");
            } else {
			    tit_addSingleActionInfo("fs03:FS0301003A_U4");
            }

			// 수주품목 저장
			tit_addSaveActionInfo("fs03:FS0301003A_I4_1", "fs03:FS0301003A_U4_1", "fs03:FS0301003A_D4_1", "", "", "", "", "");

            // 수주파트너 삭제
   			if( ds_zfst0306_delete.GetRowCount() > 0 ) {
				tit_addMultiActionInfo("fs03:FS0301003A_D3");
   			}
			// 수주파트너 저장
			if( ds_zfst0306_insert.GetRowCount() > 0 ) {
			    tit_addMultiActionInfo("fs03:FS0301003A_I3");
			}
			// 청구계획 저장
			tit_addSaveActionInfo("fs03:FS0301003A_I7", "fs03:FS0301003A_U7", "fs03:FS0301003A_D7", "", "", "", "", "");
			tit_callService(
							""
						   ,""
						   ,inArg
						   ,""
						   ,""
						   ,"fn_afterSave"
						   ,"true"
						   ,"true"
						   ,"false"
						   );
        }
    }
}

/********************************************************************************
* 기      능   : 수주정보 저장
********************************************************************************/
function fn_afterSave(errCode, errMsg) {
    if(errCode != "0" ) {
        gfn_showMsg("CE00001");
    } else {
        gfn_showMsg("CI00003");
        gfn_openMsgWin("수주 정보가 저장 되었습니다.", "", "A", "");
        fn_query();
    }
}

/********************************************************************************
* 기      능   : 기안
********************************************************************************/
function fn_draft()
{
    if(fn_validate()) {
        if( ds_zfst0304.GetUpdate() || ds_zfst0307.GetUpdate() || ds_zfst0307_list.GetUpdate() 
            || ds_zfst0310_list.GetUpdate() || ds_zfst0306_insert.GetRowCount() > 0 || ds_zfst0306_delete.GetRowCount() > 0 ) {
			gfn_openMsgWin("저장 후 기안 요청을 하십시요.", "", "A", "");
			return false;
		}
		
		var aDocClas = "OI";
		var aDocNumb = ds_cond.GetColumn(0, "OCNT_NUMB");
		var aDocNtim = ds_cond.GetColumn(0, "RFCT_SEQN");
		var arg="";
		arg="aDocClas="+aDocClas+" aDocNumb="+aDocNumb+" aDocNtim="+aDocNtim+" disableDecide=true";
		var aRtn = null;
		aRtn = gfn_openPopup("FS_COM0701", true, arg);
		if( length(aRtn) > 0 )  {
		    // 결재승인처리가 완료 되었음
		    // 쿼리를 재조회 한 후 버튼의 대한 퀀한을 재 설정한다.
	        gfn_openMsgWin("기안처리가 완료 되었습니다.", "", "A", "");
		    fn_query();
		}
    }
}

/********************************************************************************
* 기      능   : 기안 시 입력값 체크
********************************************************************************/
function fn_validate()
{
    var isValidate = true;
    // 유통경로 체크 cb_vtweg
    if( cb_vtweg.Value == "" ) {
	    gfn_openMsgWin("유통경로를 선택 하십시요.", "", "A", "");
	    return false;
    }
    
    if( cb_spart.Value == "" ) {
	    gfn_openMsgWin("제품군을 선택 하십시요.", "", "A", "");
	    return false;
    }
    
    if( ds_zfst0304.GetColumn(0, "PS_PSP_PNR") == "" ) {
	    gfn_openMsgWin("WBS 요소를 등록하지 않았습니다.", "", "A", "");
	    return false;
    }

    if( ds_zfst0304.GetColumn(0, "KUNNR") == "" ) {
	    gfn_openMsgWin("판매처를 입력 하세요.", "", "A", "");
	    return false;
    }

    if( ds_zfst0304.GetColumn(0, "KUNWE") == "" ) {
	    gfn_openMsgWin("납품처를 입력 하세요.", "", "A", "");
	    return false;
    }

    if( ds_zfst0304.GetColumn(0, "IBEAM") == "" ) {
	    gfn_openMsgWin("현장명을 입력 하세요.", "", "A", "");
	    return false;
    }

    if( ds_zfst0304.GetColumn(0, "BSTDK") == "" || ds_zfst0304.GetColumn(0, "BSTDK") == "00000000" ) {
	    gfn_openMsgWin("수주일을 입력 하세요.", "", "A", "");
	    return false;
    }
    
    if( ds_zfst0304.GetColumn(0, "VDATU") == "00000000" || ds_zfst0304.GetColumn(0, "VDATU") == "") {
	    gfn_openMsgWin("납품 요청일을 입력 하세요.", "", "A", "");
	    return false;
    }

    if( length(ds_zfst0307.GetColumn(0, "PRSDT")) == 0 || ds_zfst0307.GetColumn(0, "PRSDT") == "00000000" ) {
	    gfn_openMsgWin("가격 결정일을 입력 하세요.", "", "A", "");
	    return false;
    }

    if( ds_zfst0304.GetColumn(0, "WAERK") == "" ) {
	    gfn_openMsgWin("통화를 입력 하세요.", "", "A", "");
	    return false;
    }

    if( length(ds_zfst0307.GetColumn(0, "ZTERM")) == 0 ) {
	    gfn_openMsgWin("지급조건을 선택 하세요.", "", "A", "");
	    return false;
    }

    // 입력 품목에 대한 값 체크
    for(var i=0; i < ds_zfst0307_list.GetRowCount(); i++) {
		if( ds_zfst0307_list.GetColumn(i, "MATNR") == "" ) {
			gfn_openMsgWin("수주 품목 자재 코드를 선택하십시요.", "", "A", "");
			return false;
		}

		if( ds_zfst0307_list.GetColumn(i, "ARKTX") == "" ) {
			gfn_openMsgWin("수주 품목 내역을 입력 하십시요.", "", "A", "");
			return false;
		}

		if( ds_zfst0307_list.GetColumn(i, "NETWR") == "" || ds_zfst0307_list.GetColumn(i, "NETWR") == "0" ) {
			gfn_openMsgWin("수주 품목 단가를 입력 하십시요.", "", "A", "");
			return false;
		}

		if( ds_zfst0307_list.GetColumn(i, "PSTYV") == "" ) {
			gfn_openMsgWin("수주 품목 ItCa 항목을 선택하십시요.", "", "A", "");
			return false;
		}
    }

    // 총 수주금액과 입력금액 합계를 확인한다.
    var totAmt = ds_zfst0307_list.Sum("NETWR");
    if( ds_zfst0304.GetColumn(0, "NETWR") != totAmt ) {
	    gfn_openMsgWin("총 수주금액과 입력된 수주 품목 단가 합계가 다릅니다.수주 품목 단가 입력값을 확인하세요.", "", "A", "");
	    return false;
    }

    // ds_zfst0304
    if( ds_zfst0304.GetColumn(0, "FPART") == "" ) {
	    gfn_openMsgWin("청구계획 유형을 선택하세요.", "", "A", "");
	    return false;
    }
    
    if( ds_zfst0304.GetColumn(0, "BEDAT") == "" || ds_zfst0304.GetColumn(0, "BEDAT") == "00000000") {
	    gfn_openMsgWin("청구계획 시작일을 입력하세요.", "", "A", "");
	    return false;
    }

    if( ds_zfst0304.GetColumn(0, "BEDAR") == "" ) {
	    gfn_openMsgWin("청구계획 시작일을 구분 코드 값을 선택하세요", "", "A", "");
	    return false;
    }
 
    // 빌링계획 입력값 체크
    for(var j=0; j < ds_zfst0310_list.GetRowCount(); j++) {
		if( ds_zfst0310_list.GetColumn(j, "FKDAT") == "" ) {
			gfn_openMsgWin("대금청구일을 입력하세요", "", "A", "");
			return false;
		}

		if( ds_zfst0310_list.GetColumn(j, "TETXT") == "" ) {
			gfn_openMsgWin("일자내역 코드를 선택하세요", "", "A", "");
			return false;
		}

		if( ds_zfst0310_list.GetColumn(j, "MLBEZ") == "" ) {
			gfn_openMsgWin("종별구분 코드를 선택하세요", "", "A", "");
			return false;
		}

		if( ds_zfst0310_list.GetColumn(j, "FAKWR") == "" || ds_zfst0310_list.GetColumn(j, "FAKWR") == "0" ) {
			gfn_openMsgWin("대금청구 금액을 입력하세요", "", "A", "");
			return false;
		}

		if( ds_zfst0310_list.GetColumn(j, "FAREG") == "" ) {
			gfn_openMsgWin("대금청구계획 코드를 선택하세요", "", "A", "");
			return false;
		}

		if( ds_zfst0310_list.GetColumn(j, "FPTTP") == "" ) {
			gfn_openMsgWin("일자범주를 선택하세요", "", "A", "");
			return false;
		}
    }
    var totAmt1 = toNumber(TAB0.FPLT.ed_fakwrNetwr.Value);
    if( ds_zfst0304.GetColumn(0, "NETWR") != totAmt1 ) {
	    gfn_openMsgWin("총 수주금액과 청구 입력 합계가 다릅니다. 입력된 청구금액을 확인하세요.", "", "A", "");
	    return false;
    }

    return isValidate;
}

/********************************************************************************
* 기      능   : 결재승인
********************************************************************************/
function fn_approval()
{
	if( gfn_showConfirm("결재 승인 처리 하시겠습니까?") ) {
        ds_doc_appr.fireevent = false;
	    ds_doc_appr.SetColumn(0, "ADOC_CLAS", "OI");
	    ds_doc_appr.SetColumn(0, "ADOC_NUMB", ds_cond.GetColumn(0, "OCNT_NUMB"));
	    ds_doc_appr.SetColumn(0, "ADOC_NTIM", ds_cond.GetColumn(0, "RFCT_SEQN"));
		var adit = ds_zfst0304.GetColumn(0, "ADIT");
		var appr = ds_zfst0304.GetColumn(0, "APPR");
		if( G_USER_ID == adit ) {
			tit_clearActionInfo();
			tit_addSingleActionInfo("fs01:FS_COM0701_M2");  // 결재 테이블 상태값 처리
            ds_doc_appr.SetColumn(0, "APPR_STAT", "290");   // 심사완료
			tit_callService(
							""
						   ,""
						   ,"ds_doc_appr=ds_doc_appr ds_doc_stat=ds_doc_appr"
						   ,""
						   ,""
						   ,"fn_approvalCallback"
						   ,"true"
						   ,"true"
						   ,"false"
						   );
		}
	    ds_doc_appr.fireevent = true;

		if( G_USER_ID == appr) {
		    // sap 승인 완료 후 결재 승인 완료 처리
		    fn_appAgree("390");
		}
	}
}

/********************************************************************************
* 기      능   : 결재승인
********************************************************************************/
function fn_approvalCallback(errCode, errMsg)
{
    if( errCode != "0" ) {
        gfn_showMsg("CE00001");
    } else {
        gfn_openMsgWin("결재 승인처리가 완료 되었습니다.", "", "A", "");
	    fn_query();
    }
}

/********************************************************************************
* 기      능   : 반송
********************************************************************************/
function fn_sendback() {
	var aDocClas = "OI";
	var aDocNumb = ds_cond.GetColumn(0, "OCNT_NUMB");
	var aDocNtim = ds_cond.GetColumn(0, "RFCT_SEQN");
	var arg="";
	arg="aDocClas="+aDocClas+" aDocNumb="+aDocNumb+" aDocNtim="+aDocNtim;
	var aRtn = null;
    aRtn = gfn_openPopup("FS_COM0703", true, arg);
    if( length(aRtn) > 0 )  {
		// 결재 반송 처리가 완료 되었음
		// 쿼리를 재조회 한 후 버튼의 대한 퀀한을 재 설정한다.
		gfn_openMsgWin("반송 처리 되었습니다.", "", "A", "");
		fn_query();
	}
}

/********************************************************************************
* 기      능   : 수주 SAP 연동 후 전결 또는 최종 결재 처리 시
********************************************************************************/
function fn_appAgree(apprStat)
{
    // 전결 또는 최종 결재 완료 시 처리
    // java 수주 결재 연동 생성
    // 결재상태 처리
    // 승인 처리가 완료 되면 최종 데이터를 가지고 이력 차수를 생성한다.
    // ZFST0305 이력 생성, ZFST0308 이력 생성
	ds_doc_appr.fireevent = false;
	ds_doc_appr.SetColumn(0, "ADOC_CLAS", "OI");
	ds_doc_appr.SetColumn(0, "ADOC_NUMB", ds_cond.GetColumn(0, "OCNT_NUMB"));
	ds_doc_appr.SetColumn(0, "ADOC_NTIM", ds_cond.GetColumn(0, "RFCT_SEQN"));
	var adit = ds_zfst0304.GetColumn(0, "ADIT");
	var appr = ds_zfst0304.GetColumn(0, "APPR");
	ds_doc_appr.SetColumn(0, "APPR_STAT", apprStat);  // 승인완료
	ds_doc_appr.fireevent = true;
	
	tit_clearActionInfo();
	// 서비스 체크 로직은 별도 Act를 호출하여 처리한다.
	var inArg = "";
	inArg = inArg + "ds_cond=ds_cond";
	inArg = inArg + " ds_zfst0304=ds_zfst0304";
	inArg = inArg + " ds_zfst0306_list=ds_zfst0306_list";
	inArg = inArg + " ds_zfst0307=ds_zfst0307";
	inArg = inArg + " ds_zfst0307_list=ds_zfst0307_list";
	inArg = inArg + " ds_zfst0309_list=ds_zfst0309_list";
	inArg = inArg + " ds_zfst0310_list=ds_zfst0310_list";
	inArg = inArg + " ds_zfst0311_list=ds_zfst0311_list";
	inArg = inArg + " ds_doc_appr=ds_doc_appr";
	tit_callService(
		  "FS0301003A_ACT"
		, "psPidSapCreate"
		, inArg
		, "ds_error=ds_error"
		, ""
		, "fn_appAgreeCallBack"
		, true
		, true
		, true);
}

/********************************************************************************
* 기      능   : 수주 SAP 연동 후 처리 결과 성공 후 수주 결재 처리 완료
********************************************************************************/
function fn_appAgreeCallBack(errCode, errMsg)
{
    if( errCode != "0" ) {
        gfn_showMsg("CE00001");
    } else {
        gfn_openMsgWin("수주 결재 승인 및 SAP 전송이 완료 되었습니다.", "", "A", "");
	    fn_query();
    }
}

/********************************************************************************
* 기      능   : 닫기
********************************************************************************/
function fn_close() {
	ds_zfst0306_delete.ClearData();
	ds_zfst0306_insert.ClearData();
	for(var i=0; i < ds_zfst0306_data.GetRowCount(); i++) {
		if( ds_zfst0306_data.GetColumn(i, "FLAG") == "I" || ds_zfst0306_data.GetColumn(i, "FLAG") == "U" ) {
			var nRow = ds_zfst0306_insert.AppendRow();
			ds_zfst0306_insert.CopyRow(nRow, ds_zfst0306_data, i);
		} else if( ds_zfst0306_data.GetColumn(i, "FLAG") == "D" ) {
			var nRow = ds_zfst0306_delete.AppendRow();
			ds_zfst0306_delete.CopyRow(nRow, ds_zfst0306_data, i);
		}
	}

    if( ds_zfst0304.GetUpdate() ) {
        if( gfn_showConfirm("저장처리 없이 종료하시겠습니까?") ) {
            close();
        } else {
            return;
        }
    }

    if( ds_zfst0307.GetUpdate() ) {
        if( gfn_showConfirm("저장처리 없이 종료하시겠습니까?") ) {
            close();
        } else {
            return;
        }
    }

    if( ds_zfst0307_list.GetUpdate() ) {
        if( gfn_showConfirm("저장처리 없이 종료하시겠습니까?") ) {
            close();
        } else {
            return;
        }
    }

    if( ds_zfst0306_insert.GetRowCount() > 0 ) {
        if( gfn_showConfirm("저장처리 없이 종료하시겠습니까?") ) {
            close();
        } else {
            return;
        }
    }

    if( ds_zfst0306_delete.GetRowCount() > 0 ) {
        if( gfn_showConfirm("저장처리 없이 종료하시겠습니까?") ) {
            close();
        } else {
            return;
        }
    }

    if( ds_zfst0310_list.GetUpdate() ) {
        if( gfn_showConfirm("저장처리 없이 종료하시겠습니까?") ) {
            close();
        } else {
            return;
        }
    }
    close();
}

/********************************************************************************
* 기      능   : 수주번호 조회 팝업을 호출한다.(신규 번호를 생성한다.)
********************************************************************************/
function btn_prj_num_OnClick(obj)
{
    var arg="";
	var arr = null;
    arr = gfn_openPopup("FS0301002B", true, arg);
    if( length(arr) > 0 )  {
		ds_cond.fireevent = false;
		ds_cond.SetColumn(0, "OCNT_NUMB", arr[0]);
		ds_cond.SetColumn(0, "RFCT_SEQN", arr[1]);
		ds_cond.SetColumn(0, "OCNT_STAT", arr[2]);
		ds_cond.SetColumn(0, "PSPID", arr[3]);
		ds_cond.SetColumn(0, "VBELN", arr[4]);
		// 현재 작성 중인 경우 차수를 증가 시킨다.
		if( !(arr[2] == "250" || arr[2] == "260") ) {
			rfctSeqn = toNumber(arr[1]) + 1;
			ds_cond.SetColumn(0, "RFCT_SEQN", rfctSeqn);
		}
		G_RFCT_SEQN = arr[1];
		G_OCNT_STAT = arr[2];
		ds_cond.fireevent = true;
		fn_query();
    }
}

/********************************************************************************
* 기      능   : WBS등록 팝업을 호출한다.
********************************************************************************/
function btn_wbs_OnClick(obj)
{
    var arg="";
	var arr = null;
    arr = gfn_openPopup("FS0301003B", true, arg);
    if( length(arr) > 0 )  {
    }
}

/********************************************************************************
* 기      능   : 담당자등록 팝업을 호출한다.
********************************************************************************/
function btn_person_OnClick(obj)
{
	var arg = "";
	arg = "adocClas="+quote("OI")+" adocNumb ="+quote(ds_cond.GetColumn(0, "OCNT_NUMB"));
	gfn_openPopup("FS0103001B", true, arg);
}

/********************************************************************************
* 기      능   : 화폐단위 팝업을 호출한다.
********************************************************************************/
function TAB0_VBAP_btn_waerk_OnClick(obj)
{
    ds_zfst0304.fireevent = false;
    ds_zfst0307_list.fireevent = false;
	var arg="";
	var arr = null;
	arr = gfn_openPopup("FS_COM0103", true, arg);
	if( length(arr) > 0 )  {
		ds_zfst0304.SetColumn(0, "WAERK", arr[0]);
		var isMesage = false;
		var isMesage1 = false;
        for(var i=0; i < ds_zfst0307_list.GetRowCount(); i++) {
            ds_zfst0307_list.SetColumn(i, "WAERK", arr[0]);
            isMesage = true;
        }

        for(var i=0; i < ds_zfst0307_list.GetRowCount(); i++) {
            ds_zfst0310_list.SetColumn(i, "WAERS", arr[0]);
            isMesage1 = true;
        }
        if(isMesage && !isMesage1) {
            gfn_openMsgWin("수주품목 화폐단위가 변경되었습니다.", "", "A", "");
        } else if(!isMesage && isMesage1) {
            gfn_openMsgWin("빌링계획 화폐단위가 변경되었습니다.", "", "A", "");
        } else if(isMesage && isMesage1) {
            gfn_openMsgWin("수주품목 및 빌링계획 화폐단위가 변경되었습니다.", "", "A", "");
        }
	}
    ds_zfst0304.fireevent = true;
    ds_zfst0307_list.fireevent = true;
}

/********************************************************************************
* 기      능   : 결재정보 팝업을 호출한다.
********************************************************************************/
function btn_adocInfo_OnClick(obj)
{
    var aDocClas = "OI";
    var aDocNumb = ds_cond.GetColumn(0, "OCNT_NUMB");
    var aDocNtim = ds_cond.GetColumn(0, "RFCT_SEQN");
    var arg="aDocClas="+aDocClas+" aDocNumb="+aDocNumb+" aDocNtim="+aDocNtim;
    var aRtn= null;
    aRtn = gfn_openPopup("FS_COM0702", true, arg);
	if( length(aRtn) > 0 )  {
		// 결재승인처리가 완료 되었음
		// 쿼리를 재조회 한 후 버튼의 대한 퀀한을 재 설정한다.
		gfn_openMsgWin("기안취소가 완료 되었습니다.", "", "A", "");
		fn_query();
	}
}

/********************************************************************************
* 기      능   : 수주품목을 추가한다.
********************************************************************************/
function TAB0_VBAP_btn_rowAdd1_OnClick(obj)
{
	// G_POSNR POSNR
	var maxRow = ds_zfst0307_list.GetRowCount();
	var posnr = 0;
	if( maxRow > 0 ) {
	    maxRow = maxRow - 1;
	    posnr = toNumber(ds_zfst0307_list.GetColumn(maxRow, "POSNR"));
	}
	
	// 판매유형이 해외, 내부
	var auart = ds_zfst0304.GetColumn(0, "AUART");
	if( auart == "ZC01" ) {
	    posnr = toNumber(posnr) + G_POSNR1;
	} else {
	    posnr = toNumber(posnr) + G_POSNR2;
	}

	// 자리수를 맞춰 집어 넣는다. 000010
	posnr = gfn_fsFillZero(posnr, 6);
	
	trace("posnr:"+posnr);
	
	var nRow = ds_zfst0307_list.AppendRow();
	ds_zfst0307_list.fireevent = false;
	ds_zfst0307_list.SetColumn(nRow, "OCNT_NUMB", ds_zfst0304.GetColumn(0, "OCNT_NUMB"));
	ds_zfst0307_list.SetColumn(nRow, "POSNR", posnr);
	ds_zfst0307_list.SetColumn(nRow, "VRKME", "EA");
	ds_zfst0307_list.SetColumn(nRow, "KWMENG", 1);
	ds_zfst0307_list.SetColumn(nRow, "WAERK", ds_zfst0304.GetColumn(0, "WAERK"));
	ds_zfst0307_list.fireevent = true;
}

/********************************************************************************
* 기      능   : 수주품목을 삭제한다.
********************************************************************************/
function TAB0_VBAP_btn_rowDel1_OnClick(obj)
{
	var nRow = ds_zfst0307_list.currow;
	if( nRow > -1 ) {
	     ds_zfst0307_list.DeleteRow(nRow);
	}
}

/********************************************************************************
* 기      능   : 수주품목 이벤트 처리
********************************************************************************/
function TAB0_VBAP_grd_zfst0307_OnExpandUp(obj,nRow,nCell,strVal,nPivotIndex)
{
	var columnID = obj.GetCellProp("body",nCell,"colid");
	ds_zfst0307_list.fireevent = false;
    switch (columnID) {
	    case "MATNR":
            var arg="codeGrop ="+quote("A18");
           	var arr = null;
            arr = gfn_openPopup("FS_COM0101", true, arg);
            if( length(arr) > 0 )  {
                if( Length(arr[0]) == 0 ) {
                    var orgValue = ds_zfst0307_list.GetColumn(nRow, "MATNR");
                    if( Length(orgValue) == 0 ) {
						ds_zfst0307_list.SetColumn(nRow, "MATNR", orgValue);
                    } else {
						ds_zfst0307_list.SetColumn(nRow, "MATNR", "");
                    }

                    var orgValue = ds_zfst0307_list.GetColumn(nRow, "MATWA");
                    if( Length(orgValue) == 0 ) {
						ds_zfst0307_list.SetColumn(nRow, "MATWA", orgValue);
                    } else {
						ds_zfst0307_list.SetColumn(nRow, "MATWA", "");
                    }

                    orgValue = ds_zfst0307_list.GetColumn(nRow, "ARKTX");
                    if( Length(orgValue) == 0 ) {
						ds_zfst0307_list.SetColumn(nRow, "ARKTX", orgValue);
                    } else {
						ds_zfst0307_list.SetColumn(nRow, "ARKTX", "");
                    }
                } else {
					ds_zfst0307_list.SetColumn(nRow, "MATNR", arr[0]);
					ds_zfst0307_list.SetColumn(nRow, "MATWA", arr[0]);
					ds_zfst0307_list.SetColumn(nRow, "ARKTX", arr[1]);
                }
            }
	        break;
    }
    ds_zfst0307_list.fireevent = true;
}

/********************************************************************************
* 기      능   : 판매처 고객정보 팝업을 호출한다.
********************************************************************************/
function btn_kunnr_OnClick(obj)
{
	var arg="";
	var arr=null;
    arr = gfn_openPopup("FS_COM0201", true, arg);
    ds_zfst0304.fireevent = false;
    ds_zfst0306_data.fireevent = false;
    if( length(arr) > 0 )  {
        ds_zfst0304.SetColumn(0, "KUNNR", arr[0]);
        ds_zfst0304.SetColumn(0, "KUNNR_NAME", arr[1]);
        // 판매처, 청구인, 지급인 파트너 정보를 변경한다.
        var fRow = ds_zfst0306_data.FindRow("PARVW", "AG"); // 판매처
        ds_zfst0306_data.SetColumn(fRow, "KUNNR", arr[0]);
        ds_zfst0306_data.SetColumn(fRow, "NAME1", arr[1]);
        ds_zfst0306_data.SetColumn(fRow, "STREET", arr[2]);
        ds_zfst0306_data.SetColumn(fRow, "POST_CODE1", arr[3]);
        ds_zfst0306_data.SetColumn(fRow, "CITY1", arr[4]);
		if( ds_zfst0306_data.GetColumn(fRow, "FLAG") == "N" ) {
			ds_zfst0306_data.SetColumn(fRow, "FLAG", "U");
		}

        fRow = ds_zfst0306_data.FindRow("PARVW", "RE"); // 청구인
        ds_zfst0306_data.SetColumn(fRow, "KUNNR", arr[0]);
        ds_zfst0306_data.SetColumn(fRow, "NAME1", arr[1]);
        ds_zfst0306_data.SetColumn(fRow, "STREET", arr[2]);
        ds_zfst0306_data.SetColumn(fRow, "POST_CODE1", arr[3]);
        ds_zfst0306_data.SetColumn(fRow, "CITY1", arr[4]);
		if( ds_zfst0306_data.GetColumn(fRow, "FLAG") == "N" ) {
			ds_zfst0306_data.SetColumn(fRow, "FLAG", "U");
		}

        fRow = ds_zfst0306_data.FindRow("PARVW", "RG"); // 지급인
        ds_zfst0306_data.SetColumn(fRow, "KUNNR", arr[0]);
        ds_zfst0306_data.SetColumn(fRow, "NAME1", arr[1]);
        ds_zfst0306_data.SetColumn(fRow, "STREET", arr[2]);
        ds_zfst0306_data.SetColumn(fRow, "POST_CODE1", arr[3]);
        ds_zfst0306_data.SetColumn(fRow, "CITY1", arr[4]);
		if( ds_zfst0306_data.GetColumn(fRow, "FLAG") == "N" ) {
			ds_zfst0306_data.SetColumn(fRow, "FLAG", "U");
		}
    }
    ds_zfst0304.fireevent = true;
    ds_zfst0306_data.fireevent = true;
}

/********************************************************************************
* 기      능   : 납품처 고객정보 팝업을 호출한다.
********************************************************************************/
function btn_kunwe_OnClick(obj)
{
	var arg="";
	var arr=null;
    arr = gfn_openPopup("FS_COM0201", true, arg);
    ds_zfst0304.fireevent = false;
    if( length(arr) > 0 )  {
        ds_zfst0304.SetColumn(0, "KUNWE", arr[0]);
        ds_zfst0304.SetColumn(0, "KUNWE_NAME", arr[1]);
        // 납품처 파트너 정보를 변경한다.
        var fRow = ds_zfst0306_data.FindRow("PARVW", "WE"); // 납품처
        ds_zfst0306_data.SetColumn(fRow, "KUNNR", arr[0]);
        ds_zfst0306_data.SetColumn(fRow, "NAME1", arr[1]);
        ds_zfst0306_data.SetColumn(fRow, "STREET", arr[2]);
        ds_zfst0306_data.SetColumn(fRow, "POST_CODE1", arr[3]);
        ds_zfst0306_data.SetColumn(fRow, "CITY1", arr[4]);
		if( ds_zfst0306_data.GetColumn(fRow, "FLAG") == "N" ) {
			ds_zfst0306_data.SetColumn(fRow, "FLAG", "U");
		}
    }
    ds_zfst0304.fireevent = true;
}

/********************************************************************************
* 기      능   : 파트너 이벤트 처리
********************************************************************************/
function TAB0_PARTNER_grd_m2_OnExpandEdit(obj,nRow,nCell,strVal,nPivotIndex)
{
	var columnID = obj.GetCellProp("body",nCell,"colid");
	ds_zfst0306_data.fireevent = false;
    switch (columnID) {
	    case "KUNNR":
	        var parvw = ds_zfst0306_data.GetColumn(nRow, "PARVW");
	        if( parvw == "Z2" || parvw == "Z3" ) {
				var arg="";
				var arr=null;
				arr = gfn_openPopup("FS_COM0801", true, arg);
				if( length(arr) > 0 )  {
				    if( length(arr[0]) > 0 ) {
						ds_zfst0306_data.SetColumn(nRow, "OCNT_NUMB", ds_zfst0304.GetColumn(0, "OCNT_NUMB"));
						ds_zfst0306_data.SetColumn(nRow, "VKORG", ds_zfst0304.GetColumn(0, "VKORG"));
						ds_zfst0306_data.SetColumn(nRow, "VTWEG", ds_zfst0304.GetColumn(0, "VTWEG"));
						ds_zfst0306_data.SetColumn(nRow, "SPART", ds_zfst0304.GetColumn(0, "SPART"));
						ds_zfst0306_data.SetColumn(nRow, "KUNNR", "H"+arr[0]);
						ds_zfst0306_data.SetColumn(nRow, "NAME1", arr[1]);
						if( ds_zfst0306_data.GetColumn(nRow, "FLAG") == "N" || ds_zfst0306_data.GetColumn(nRow, "FLAG") == "D" ) {
							ds_zfst0306_data.SetColumn(nRow, "FLAG", "U");
						} else if( ds_zfst0306_data.GetColumn(nRow, "FLAG") == "" ) {
							ds_zfst0306_data.SetColumn(nRow, "FLAG", "I");
						}
				    } else {
						ds_zfst0306_data.SetColumn(nRow, "OCNT_NUMB", ds_zfst0304.GetColumn(0, "OCNT_NUMB"));
						ds_zfst0306_data.SetColumn(nRow, "VKORG", ds_zfst0304.GetColumn(0, "VKORG"));
						ds_zfst0306_data.SetColumn(nRow, "VTWEG", ds_zfst0304.GetColumn(0, "VTWEG"));
						ds_zfst0306_data.SetColumn(nRow, "SPART", ds_zfst0304.GetColumn(0, "SPART"));
						ds_zfst0306_data.SetColumn(nRow, "KUNNR", "");
						ds_zfst0306_data.SetColumn(nRow, "NAME1", "");
						if( ds_zfst0306_data.GetColumn(nRow, "FLAG") == "N" ) {
							ds_zfst0306_data.SetColumn(nRow, "FLAG", "D");
						} else {
							ds_zfst0306_data.SetColumn(nRow, "FLAG", "");
						}
				    }
				}
	        }
	        break;
    }
    ds_zfst0306_data.fireevent = true;
}

/********************************************************************************
* 기      능   : 시작일자 공통코드
********************************************************************************/
function TAB0_FPLT_btn_bedar_OnClick(obj)
{
	var arg="codeGrop ="+quote("S12");
	var arr = null;
	arr = gfn_openPopup("FS_COM0101", true, arg);
	ds_zfst0304.fireevent = false;
	if( length(arr) > 0 )  {
		if( length(arr[0]) == 0 ) {
			var orgValue = ds_zfst0304.GetColumn(0, "BEDAR");
			if( length(orgValue) == 0 ) {
				ds_zfst0304.SetColumn(0, "BEDAR", orgValue);
			} else {
				ds_zfst0304.SetColumn(0, "BEDAR", "");
			}
		} else {
			ds_zfst0304.SetColumn(0, "BEDAR", arr[0]);
		}
	}
	ds_zfst0304.fireevent = true;
}

/********************************************************************************
* 기      능   : 빌링계획 추가
********************************************************************************/
function TAB0_FPLT_btn_rowAdd2_OnClick(obj)
{
    var fplnr = "0000000000";
	var nRow = ds_zfst0310_list.AppendRow();
	var fpltr = gfn_fsFillZero((nRow+1), 6);

	ds_zfst0310_list.fireevent = false;
	ds_zfst0310_list.SetColumn(nRow, "OCNT_NUMB", ds_zfst0304.GetColumn(0, "OCNT_NUMB"));
	ds_zfst0310_list.SetColumn(nRow, "FPLNR", fpltr);
	ds_zfst0310_list.SetColumn(nRow, "FPLTR", fpltr);
	var bedat = ds_zfst0304.GetColumn(0, "BEDAT");
	if( bedat == "00000000" || length(bedat) == 0 ) {
	    ds_zfst0310_list.SetColumn(nRow, "FKDAT", gfn_getCurrDate());
	} else {
	    ds_zfst0310_list.SetColumn(nRow, "FKDAT", bedat);
	}
	var waerk = ds_zfst0304.GetColumn(0, "WAERK");
    ds_zfst0310_list.SetColumn(nRow, "WAERS", waerk);

    // 일자범주 02: 마일스톤대금청구 FPTTP
    ds_zfst0310_list.SetColumn(nRow, "FPTTP", "02");
	ds_zfst0310_list.fireevent = true;
}

/********************************************************************************
* 기      능   : 빌링계획 삭제
********************************************************************************/
function TAB0_FPLT_btn_rowDel2_OnClick(obj)
{
	var nRow = ds_zfst0310_list.currow;
	if( nRow > -1 ) {
	     ds_zfst0310_list.DeleteRow(nRow);
	}
}

/********************************************************************************
* 기      능   : 빌링계획 이벤트 처리
********************************************************************************/
function TAB0_FPLT_grd_zfst0310_OnExpandEdit(obj,nRow,nCell,strVal,nPivotIndex)
{
	var columnID = obj.GetCellProp("body",nCell,"colid");
	ds_zfst0310_list.fireevent = false;
    switch (columnID) {
	    case "MLBEZ":
	        // 종별구분
			var arg="codeGrop ="+quote("S14");
			var arr = null;
			arr = gfn_openPopup("FS_COM0101", true, arg);
			if( length(arr) > 0 )  {
				if( length(arr[0]) == 0 ) {
					var orgValue = ds_zfst0310_list.GetColumn(nRow, "MLBEZ");
					if( length(orgValue) == 0 ) {
						ds_zfst0310_list.SetColumn(nRow, "MLBEZ", orgValue);
					} else {
						ds_zfst0310_list.SetColumn(nRow, "MLBEZ", "");
					}
					orgValue = ds_zfst0310_list.GetColumn(nRow, "MLBEZ_NAME");
					if( length(orgValue) == 0 ) {
						ds_zfst0310_list.SetColumn(nRow, "MLBEZ_NAME", orgValue);
					} else {
						ds_zfst0310_list.SetColumn(nRow, "MLBEZ_NAME", "");
					}
				} else {
					ds_zfst0310_list.SetColumn(nRow, "MLBEZ", arr[0]);
					ds_zfst0310_list.SetColumn(nRow, "MLBEZ_NAME", arr[1]);
				}
			}
	        break;
	    case "ZTERM_NAME":
	        // 지급조건
			var arg="codeGrop ="+quote("S07");
			var arr = null;
			arr = gfn_openPopup("FS_COM0101", true, arg);
			if( length(arr) > 0 )  {
				if( length(arr[0]) == 0 ) {
					var orgValue = ds_zfst0310_list.GetColumn(nRow, "ZTERM");
					if( length(orgValue) == 0 ) {
						ds_zfst0310_list.SetColumn(nRow, "ZTERM", orgValue);
					} else {
						ds_zfst0310_list.SetColumn(nRow, "ZTERM", "");
					}
					orgValue = ds_zfst0310_list.GetColumn(nRow, "ZTERM_NAME");
					if( length(orgValue) == 0 ) {
						ds_zfst0310_list.SetColumn(nRow, "ZTERM_NAME", orgValue);
					} else {
						ds_zfst0310_list.SetColumn(nRow, "ZTERM_NAME", "");
					}
				} else {
					ds_zfst0310_list.SetColumn(nRow, "ZTERM", arr[0]);
					ds_zfst0310_list.SetColumn(nRow, "ZTERM_NAME", arr[1]);
				}
			}
	        break;
    }
    ds_zfst0310_list.fireevent = true;
}

/********************************************************************************
* 기      능   : 빌링계획 데이터 변경 이벤트 처리
********************************************************************************/
function ds_zfst0310_list_OnColumnChanged(obj,nRow,strColumnID,varOldValue,varNewValue,nPivotIndex)
{
    switch (strColumnID) {
	    case "FAKWR":
	        // 대금청구금액 변경 시 이벤트
	        fn_calFakwrAmt();
	        break;
    }
}

/********************************************************************************
* 기      능   : 대금청구금액 비율 및 대금청구 금액 합계 계산 ed_fakwrDegr ed_ed_fakwrNetwr
********************************************************************************/
function fn_calFakwrAmt()
{
    var degr = 0.00;
    var amt = ds_zfst0310_list.Sum("FAKWR");
    if( toNumber(ds_zfst0304.GetColumn(0, "NETWR")) > 0 ) {
        degr = round(amt/toNumber(ds_zfst0304.GetColumn(0, "NETWR")), 2)*100;
    }
    TAB0.FPLT.ed_fakwrDegr.Text = degr;
    TAB0.FPLT.ed_fakwrNetwr.Text = amt;
}

/********************************************************************************
* 기      능   : 그리드 헤더 클릭시 정렬 처리
********************************************************************************/
function grd_list_OnHeadClick(obj,nCell,nX,nY,nPivotIndex)
{
	if ( nCell == 0 ) {
        // 그리드 정렬 처리
		gfn_multiSortGrid(obj, false, 1);
	} else {
        // 그리드 정렬 처리
	    gfn_sortGrid(obj,nCell);
	}
}

/********************************************************************************
* 기      능   : 이력조회를 위해 차수 입력 값 체크
********************************************************************************/
function ed_rfctSeqn_OnChanged(obj,strText)
{
    if( strText == "" ) {
		ds_cond.SetColumn(0, "RFCT_SEQN", G_RFCT_SEQN);
		return;
    }

    if( toNumber(strText) > G_RFCT_SEQN || strText == "0" ) {
		gfn_openMsgWin("해당 수주번호 차수의 이력은 존재하지 않습니다.", "", "A", "");
		ds_cond.fireevent = false;
        ds_cond.SetColumn(0, "RFCT_SEQN", G_RFCT_SEQN);
		ds_cond.fireevent = true;
    } else {
        if( gfn_showConfirm("해당 차수의 수주번호 이력을 조회 하시겠습니까?") ) {
            ds_cond.SetColumn(0, "OCNT_STAT", "250");
			if( toNumber(strText) == G_RFCT_SEQN ) {
				trace("G_OCNT_STAT:"+G_OCNT_STAT);
				ds_cond.SetColumn(0, "OCNT_STAT", G_OCNT_STAT);   
			}
            fn_query();
        }
    }
}

/********************************************************************************
* 기      능   : 프로젝트번호생성
********************************************************************************/
function btn_wbsCreate_OnClick(obj)
{
	var arg="";
	var arr=null;
	var ocntNumb = ds_zfst0304.GetColumn(0, "OCNT_NUMB");
	var auart = ds_zfst0304.GetColumn(0, "AUART");
	var fRow = ds_wbs.FindRow("AUART", auart);
	var pspid = ds_wbs.GetColumn(fRow, "PSPID");
	var projPspid = ds_zfst0304.GetColumn(0, "PSPID");
    var arg="ocntNumb='"+ocntNumb+"' pspid='"+pspid+"' projPspid='"+projPspid+"'";
    arr = gfn_openPopup("FS0301003B", true, arg);
    if( arr == "Y" )  {
        ed_wbsYsno.Text = "생성";
    }
}
]]></Script>
</Window>