<?xml version="1.0" encoding="utf-8"?>
<Window>
	<Form Height="562" Id="FS0303001B" Left="8" OnLoadCompleted="fn_OnLoadCompleted" OnTimer="FS0302002A_OnTimer" OnUnloadCompleted="fn_OnUnloadCompleted" PidAttrib="7" Title="시행예산&#32;등록/변경" Top="8" Ver="1.0" Width="978" WorkArea="true">
		<Datasets>
			<Dataset DataSetType="Dataset" Id="ds_error">
				<Contents>
					<colinfo id="IDX" size="256" type="STRING"/>
					<colinfo id="ERRMSG" size="256" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_zfst0301">
				<Contents>
					<colinfo id="MANDT" size="3" summ="default" type="STRING"/>
					<colinfo id="OCNT_NUMB" size="20" summ="default" type="STRING"/>
					<colinfo id="EBDG_MGSQ" size="10" summ="default" type="INT"/>
					<colinfo id="ESMT_TAMT" size="15" summ="default" type="DECIMAL"/>
					<colinfo id="SLCS_RATE" size="9" summ="default" type="DECIMAL"/>
					<colinfo id="WAERK" size="5" summ="default" type="STRING"/>
					<colinfo id="PBDG_TAMT" size="15" summ="default" type="DECIMAL"/>
					<colinfo id="CEBD_TAMT" size="15" summ="default" type="DECIMAL"/>
					<colinfo id="EBDG_TAMT" size="15" summ="default" type="DECIMAL"/>
					<colinfo id="MNGR" size="20" summ="default" type="STRING"/>
					<colinfo id="EBDG_MGST" size="10" summ="default" type="STRING"/>
					<colinfo id="AFIL_NUMB" size="20" summ="default" type="STRING"/>
					<colinfo id="WRIT_DATE" size="8" summ="default" type="STRING"/>
					<colinfo id="WRIT_TIME" size="6" summ="default" type="STRING"/>
					<colinfo id="WRIT_USER" size="12" summ="default" type="STRING"/>
					<colinfo id="MODI_DATE" size="8" summ="default" type="STRING"/>
					<colinfo id="MODI_TIME" size="6" summ="default" type="STRING"/>
					<colinfo id="MODI_USER" size="12" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_zfst0302" OnColumnChanged="ds_zfst0302_OnColumnChanged">
				<Contents>
					<colinfo id="CHK" size="1" summ="default" type="STRING"/>
					<colinfo id="MANDT" size="3" summ="default" type="STRING"/>
					<colinfo id="OCNT_NUMB" size="20" summ="default" type="STRING"/>
					<colinfo id="EBDG_MGSQ" size="10" summ="default" type="INT"/>
					<colinfo id="EBDG_ITSQ" size="10" summ="default" type="INT"/>
					<colinfo id="EBDG_GROP" size="10" summ="default" type="STRING"/>
					<colinfo id="ESCS_UPBG" size="10" summ="default" type="STRING"/>
					<colinfo id="BDGT_ITEM" size="9" summ="default" type="STRING"/>
					<colinfo id="EBDG_NAME" size="100" summ="default" type="STRING"/>
					<colinfo id="WAERK" size="5" summ="default" type="STRING"/>
					<colinfo id="ESMT_AMT" size="15" summ="default" type="DECIMAL"/>
					<colinfo id="BFOR_BAMT" size="15" summ="default" type="DECIMAL"/>
					<colinfo id="CEBD_AMT" size="15" summ="default" type="DECIMAL"/>
					<colinfo id="EBDG_AMT" size="15" summ="default" type="DECIMAL"/>
					<colinfo id="SPEN_AMT" size="15" summ="default" type="DECIMAL"/>
					<colinfo id="SLCS_RATE" size="9" summ="default" type="DECIMAL"/>
					<colinfo id="NOTE" size="4000" summ="default" type="STRING"/>
					<colinfo id="ORDR_NUMB" size="20" summ="default" type="STRING"/>
					<colinfo id="ORIT_SEQN" size="5" summ="default" type="INT"/>
					<colinfo id="WRIT_DATE" size="8" summ="default" type="STRING"/>
					<colinfo id="WRIT_TIME" size="6" summ="default" type="STRING"/>
					<colinfo id="WRIT_USER" size="12" summ="default" type="STRING"/>
					<colinfo id="NAME1" size="256" summ="default" type="STRING"/>
					<colinfo id="NAME2" size="256" summ="default" type="STRING"/>
					<colinfo id="NAME3" size="256" summ="default" type="STRING"/>
					<colinfo id="NAME4" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_zfst0305">
				<Contents>
					<colinfo id="MANDT" size="3" summ="default" type="STRING"/>
					<colinfo id="OCNT_NUMB" size="20" summ="default" type="STRING"/>
					<colinfo id="RFCT_SEQN" size="10" summ="default" type="INT"/>
					<colinfo id="VBELN" size="10" summ="default" type="STRING"/>
					<colinfo id="PSPID" size="24" summ="default" type="STRING"/>
					<colinfo id="AUART" size="4" summ="default" type="STRING"/>
					<colinfo id="PS_PSP_PNR" size="8" summ="default" type="STRING"/>
					<colinfo id="ORDR_TYPE" size="10" summ="default" type="STRING"/>
					<colinfo id="BSTNK" size="20" summ="default" type="STRING"/>
					<colinfo id="KUNNR" size="10" summ="default" type="STRING"/>
					<colinfo id="KUNWE" size="10" summ="default" type="STRING"/>
					<colinfo id="VKORG" size="4" summ="default" type="STRING"/>
					<colinfo id="VTWEG" size="2" summ="default" type="STRING"/>
					<colinfo id="SPART" size="2" summ="default" type="STRING"/>
					<colinfo id="VPRGR" size="1" summ="default" type="STRING"/>
					<colinfo id="BSTDK" size="8" summ="default" type="STRING"/>
					<colinfo id="VDATU" size="8" summ="default" type="STRING"/>
					<colinfo id="AUGRU" size="3" summ="default" type="STRING"/>
					<colinfo id="LIFSK" size="2" summ="default" type="STRING"/>
					<colinfo id="WAERK" size="5" summ="default" type="STRING"/>
					<colinfo id="NETWR" size="15" summ="default" type="DECIMAL"/>
					<colinfo id="AUTLF" size="1" summ="default" type="STRING"/>
					<colinfo id="RPLNR" size="10" summ="default" type="STRING"/>
					<colinfo id="FPART" size="2" summ="default" type="STRING"/>
					<colinfo id="BEDAT" size="8" summ="default" type="STRING"/>
					<colinfo id="BEDAR" size="2" summ="default" type="STRING"/>
					<colinfo id="RFPLN" size="10" summ="default" type="STRING"/>
					<colinfo id="SLCS_RATE" size="9" summ="default" type="DECIMAL"/>
					<colinfo id="DLIV_DATE" size="8" summ="default" type="STRING"/>
					<colinfo id="OCNT_APDT" size="8" summ="default" type="STRING"/>
					<colinfo id="CONT_DATE" size="8" summ="default" type="STRING"/>
					<colinfo id="CMPL_DATE" size="8" summ="default" type="STRING"/>
					<colinfo id="OCNT_STAT" size="10" summ="default" type="STRING"/>
					<colinfo id="WRIT_DATE" size="8" summ="default" type="STRING"/>
					<colinfo id="WRIT_TIME" size="6" summ="default" type="STRING"/>
					<colinfo id="WRIT_USER" size="12" summ="default" type="STRING"/>
					<colinfo id="MODI_DATE" size="8" summ="default" type="STRING"/>
					<colinfo id="MODI_TIME" size="6" summ="default" type="STRING"/>
					<colinfo id="MODI_USER" size="12" summ="default" type="STRING"/>
					<colinfo id="VKGRP" size="3" summ="default" type="STRING"/>
					<colinfo id="VKBUR" size="4" summ="default" type="STRING"/>
					<colinfo id="KUNNR_NM" size="10" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_zfst0308">
				<Contents>
					<colinfo id="MANDT" size="3" summ="default" type="STRING"/>
					<colinfo id="OCNT_NUMB" size="20" summ="default" type="STRING"/>
					<colinfo id="RFCT_SEQN" size="10" summ="default" type="INT"/>
					<colinfo id="POSNR" size="6" summ="default" type="STRING"/>
					<colinfo id="VBELN" size="10" summ="default" type="STRING"/>
					<colinfo id="KONDA" size="2" summ="default" type="STRING"/>
					<colinfo id="KDGRP" size="2" summ="default" type="STRING"/>
					<colinfo id="BZIRK" size="6" summ="default" type="STRING"/>
					<colinfo id="PLTYP" size="2" summ="default" type="STRING"/>
					<colinfo id="INCO1" size="3" summ="default" type="STRING"/>
					<colinfo id="INCO2" size="28" summ="default" type="STRING"/>
					<colinfo id="KZAZU" size="1" summ="default" type="STRING"/>
					<colinfo id="PERFK" size="2" summ="default" type="STRING"/>
					<colinfo id="MRNKZ" size="1" summ="default" type="STRING"/>
					<colinfo id="KURRF" size="9" summ="default" type="DECIMAL"/>
					<colinfo id="ZTERM" size="4" summ="default" type="STRING"/>
					<colinfo id="ZLSCH" size="1" summ="default" type="STRING"/>
					<colinfo id="KURSK" size="9" summ="default" type="DECIMAL"/>
					<colinfo id="PRSDT" size="8" summ="default" type="STRING"/>
					<colinfo id="FBUDA" size="8" summ="default" type="STRING"/>
					<colinfo id="GJAHR" size="4" summ="default" type="STRING"/>
					<colinfo id="POPER" size="3" summ="default" type="STRING"/>
					<colinfo id="MSCHL" size="1" summ="default" type="STRING"/>
					<colinfo id="MANSP" size="1" summ="default" type="STRING"/>
					<colinfo id="ABSSC" size="6" summ="default" type="STRING"/>
					<colinfo id="LCNUM" size="10" summ="default" type="STRING"/>
					<colinfo id="ABTNR" size="4" summ="default" type="STRING"/>
					<colinfo id="EMPST" size="25" summ="default" type="STRING"/>
					<colinfo id="BSTKD" size="35" summ="default" type="STRING"/>
					<colinfo id="BSTDK" size="8" summ="default" type="STRING"/>
					<colinfo id="BSARK" size="4" summ="default" type="STRING"/>
					<colinfo id="IHREZ" size="12" summ="default" type="STRING"/>
					<colinfo id="BSTKD_E" size="35" summ="default" type="STRING"/>
					<colinfo id="BSTDK_E" size="8" summ="default" type="STRING"/>
					<colinfo id="BSARK_E" size="4" summ="default" type="STRING"/>
					<colinfo id="IHREZ_E" size="12" summ="default" type="STRING"/>
					<colinfo id="POSEX_E" size="6" summ="default" type="STRING"/>
					<colinfo id="KDKG1" size="2" summ="default" type="STRING"/>
					<colinfo id="KDKG2" size="2" summ="default" type="STRING"/>
					<colinfo id="KDKG3" size="2" summ="default" type="STRING"/>
					<colinfo id="KDKG4" size="2" summ="default" type="STRING"/>
					<colinfo id="KDKG5" size="2" summ="default" type="STRING"/>
					<colinfo id="DELCO" size="3" summ="default" type="STRING"/>
					<colinfo id="FFPRF" size="8" summ="default" type="STRING"/>
					<colinfo id="FAKTF" size="2" summ="default" type="STRING"/>
					<colinfo id="RRREL" size="1" summ="default" type="STRING"/>
					<colinfo id="ACDATV" size="1" summ="default" type="STRING"/>
					<colinfo id="VSART" size="2" summ="default" type="STRING"/>
					<colinfo id="TRATY" size="4" summ="default" type="STRING"/>
					<colinfo id="TRMTYP" size="18" summ="default" type="STRING"/>
					<colinfo id="SDABW" size="4" summ="default" type="STRING"/>
					<colinfo id="REVSP" size="1" summ="default" type="STRING"/>
					<colinfo id="REVEVTYP" size="1" summ="default" type="STRING"/>
					<colinfo id="MATNR" size="18" summ="default" type="STRING"/>
					<colinfo id="MATWA" size="18" summ="default" type="STRING"/>
					<colinfo id="ARKTX" size="40" summ="default" type="STRING"/>
					<colinfo id="PMATN" size="18" summ="default" type="STRING"/>
					<colinfo id="MATKL" size="9" summ="default" type="STRING"/>
					<colinfo id="PSTYV" size="4" summ="default" type="STRING"/>
					<colinfo id="GRPOS" size="6" summ="default" type="STRING"/>
					<colinfo id="ABGRU" size="2" summ="default" type="STRING"/>
					<colinfo id="PRODH" size="18" summ="default" type="STRING"/>
					<colinfo id="MEINS" size="3" summ="default" type="STRING"/>
					<colinfo id="POSEX" size="6" summ="default" type="STRING"/>
					<colinfo id="KDMAT" size="35" summ="default" type="STRING"/>
					<colinfo id="VKAUS" size="3" summ="default" type="STRING"/>
					<colinfo id="UEBTO" size="3" summ="default" type="DECIMAL"/>
					<colinfo id="UNTTO" size="3" summ="default" type="DECIMAL"/>
					<colinfo id="GSBER" size="4" summ="default" type="STRING"/>
					<colinfo id="NETWR" size="15" summ="default" type="DECIMAL"/>
					<colinfo id="WAERK" size="5" summ="default" type="STRING"/>
					<colinfo id="ANTLF" size="1" summ="default" type="DECIMAL"/>
					<colinfo id="KZTLF" size="1" summ="default" type="STRING"/>
					<colinfo id="KWMENG" size="15" summ="default" type="DECIMAL"/>
					<colinfo id="VRKME" size="3" summ="default" type="STRING"/>
					<colinfo id="UMVKZ" size="5" summ="default" type="DECIMAL"/>
					<colinfo id="UMVKN" size="5" summ="default" type="DECIMAL"/>
					<colinfo id="BRGEW" size="15" summ="default" type="DECIMAL"/>
					<colinfo id="NTGEW" size="15" summ="default" type="DECIMAL"/>
					<colinfo id="GEWEI" size="3" summ="default" type="STRING"/>
					<colinfo id="VOLUM" size="15" summ="default" type="DECIMAL"/>
					<colinfo id="VOLEH" size="3" summ="default" type="STRING"/>
					<colinfo id="LPRIO" size="2" summ="default" type="STRING"/>
					<colinfo id="WERKS" size="4" summ="default" type="STRING"/>
					<colinfo id="LGORT" size="4" summ="default" type="STRING"/>
					<colinfo id="VSTEL" size="4" summ="default" type="STRING"/>
					<colinfo id="ROUTE" size="6" summ="default" type="STRING"/>
					<colinfo id="TAXM1" size="1" summ="default" type="STRING"/>
					<colinfo id="KONDM" size="2" summ="default" type="STRING"/>
					<colinfo id="KTGRM" size="2" summ="default" type="STRING"/>
					<colinfo id="EAN11" size="18" summ="default" type="STRING"/>
					<colinfo id="FIXMG" size="1" summ="default" type="STRING"/>
					<colinfo id="PRCTR" size="10" summ="default" type="STRING"/>
					<colinfo id="MVGR1" size="3" summ="default" type="STRING"/>
					<colinfo id="MVGR2" size="3" summ="default" type="STRING"/>
					<colinfo id="MVGR3" size="3" summ="default" type="STRING"/>
					<colinfo id="MVGR4" size="3" summ="default" type="STRING"/>
					<colinfo id="MVGR5" size="3" summ="default" type="STRING"/>
					<colinfo id="PS_PSP_PNR" size="8" summ="default" type="STRING"/>
					<colinfo id="EXART" size="2" summ="default" type="STRING"/>
					<colinfo id="PREFE" size="1" summ="default" type="STRING"/>
					<colinfo id="ZSCHL_K" size="6" summ="default" type="STRING"/>
					<colinfo id="KALSM_K" size="6" summ="default" type="STRING"/>
					<colinfo id="MFRGR" size="8" summ="default" type="STRING"/>
					<colinfo id="ABFOR" size="2" summ="default" type="STRING"/>
					<colinfo id="ABGES" size="18" summ="default" type="STRING"/>
					<colinfo id="WGRU1" size="18" summ="default" type="STRING"/>
					<colinfo id="WGRU2" size="18" summ="default" type="STRING"/>
					<colinfo id="MWSBP" size="13" summ="default" type="DECIMAL"/>
					<colinfo id="REPMO" size="2" summ="default" type="STRING"/>
					<colinfo id="GUAMO" size="2" summ="default" type="STRING"/>
					<colinfo id="WORMO" size="2" summ="default" type="STRING"/>
					<colinfo id="TPDATE1" size="8" summ="default" type="STRING"/>
					<colinfo id="TPDATE2" size="8" summ="default" type="STRING"/>
					<colinfo id="TPDATE3" size="8" summ="default" type="STRING"/>
					<colinfo id="HOGI" size="24" summ="default" type="STRING"/>
					<colinfo id="WWBLD" size="2" summ="default" type="STRING"/>
					<colinfo id="HB_FROM" size="8" summ="default" type="STRING"/>
					<colinfo id="HB_TO" size="8" summ="default" type="STRING"/>
					<colinfo id="EDATU" size="8" summ="default" type="STRING"/>
					<colinfo id="WMENG" size="13" summ="default" type="DECIMAL"/>
					<colinfo id="BMENG" size="13" summ="default" type="DECIMAL"/>
					<colinfo id="CMENG" size="13" summ="default" type="DECIMAL"/>
					<colinfo id="LIFSP" size="2" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_combo_a03">
				<Contents>
					<colinfo id="CODE" size="256" summ="default" type="STRING"/>
					<colinfo id="CODE_NAME" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_insu">
				<Contents>
					<colinfo id="POSID" size="24" summ="default" type="STRING"/>
					<colinfo id="POSID_1" size="24" summ="default" type="STRING"/>
					<colinfo id="ZZGUBUN" size="2" summ="default" type="STRING"/>
					<colinfo id="ZSITE_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="KUNNR" size="10" summ="default" type="STRING"/>
					<colinfo id="KUNNR_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="ZBOSUOUT" size="8" summ="default" type="DATE"/>
					<colinfo id="ZINDO" size="8" summ="default" type="DATE"/>
					<colinfo id="ZBOSUIN" size="8" summ="default" type="DATE"/>
					<colinfo id="POSID_M" size="256" summ="default" type="STRING"/>
					<colinfo id="ZMUSAOCNT2" size="5" summ="default" type="INT"/>
					<colinfo id="WAERK" size="3" summ="default" type="STRING"/>
					<colinfo id="NETWR" size="15" summ="default" type="DECIMAL"/>
					<colinfo id="MDATE" size="8" summ="default" type="DATE"/>
					<colinfo id="INSU_STAT" size="1" summ="default" type="STRING"/>
					<colinfo id="CONT_DATE" size="8" summ="default" type="DATE"/>
					<colinfo id="CMPL_DATE" size="8" summ="default" type="DATE"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_select_escscode">
				<Contents>
					<colinfo id="DELE_CODE" size="256" summ="default" type="STRING"/>
					<colinfo id="CHEK_CODE" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_zfst0301_key">
				<Contents>
					<colinfo id="MANDT" size="3" summ="default" type="STRING"/>
					<colinfo id="OCNT_NUMB" size="20" summ="default" type="STRING"/>
					<colinfo id="EBDG_MGSQ" size="10" summ="default" type="INT"/>
				</Contents>
			</Dataset>
		</Datasets>
		<Shape BKColor="user0" Bottom="70" Height="30" Id="Shape2" Left="0" LineColor="user1" Right="976" TabOrder="1" Top="40" Type="Rectangle" Width="976"></Shape>
		<Shape BKColor="user0" Bottom="184" Height="84" Id="Shape0" Left="0" LineColor="user1" Right="976" TabOrder="2" Top="100" Type="Rectangle" Width="976"></Shape>
		<Static Color="user6" Font="굴림,9,Bold" Height="20" Id="Static19" Left="15" TabOrder="4" Text="사업정보" Top="77" VAlign="Middle" Width="102"></Static>
		<Image Height="20" Id="Image0" ImageID="form_bl_title_sub" Left="2" TabOrder="3" Top="77" Width="11"></Image>
		<Grid AutoEnter="TRUE" AutoFitEndLine="Hide" BindDataset="ds_zfst0302" BkColor2="default" BoldHead="true" Border="Flat" Bottom="544" ColSizing="TRUE" Editable="TRUE" Enable="true" EndLineColor="default" HeadBorder="Flat" HeadHeight="25" Height="328" HScrollCell="TRUE" Id="grd_list" InputPanel="FALSE" Left="8" LineColor="user20" LineType="ExHORZ" OnHeadClick="grd_list_OnHeadClick" Right="968" RowHeight="20" Style="sty_grid" TabOrder="5" TabStop="true" Top="216" UseDBuff="true" UsePopupMenu="true" UseSelColor="true" Visible="true" VLineColor="default" WheelScrollRow="1" Width="960">
			<contents>
				<format id="Default">
					<columns>
						<col width="39"/>
						<col width="100"/>
						<col width="100"/>
						<col width="100"/>
						<col width="154"/>
						<col width="135"/>
						<col width="305"/>
					</columns>
					<head>
						<cell col="0" display="checkbox" edit="checkbox"/>
						<cell align="center" col="1" color="user21" display="text" font="굴림,9" text="항목구분" wordwrap="word"/>
						<cell align="center" col="2" color="user21" display="text" font="굴림,9" text="항목1" wordwrap="word"/>
						<cell align="center" col="3" color="user21" display="text" font="굴림,9" text="항목2" wordwrap="word"/>
						<cell align="center" col="4" color="user21" display="text" font="굴림,9" text="항목3" wordwrap="word"/>
						<cell col="5" color="user21" display="text" font="굴림,9" text="시행예산"/>
						<cell col="6" color="user21" display="text" font="굴림,9" text="비고"/>
					</head>
					<body>
						<cell align="center" bkcolor2="user22" col="0" colid="CHK" display="checkbox" edit="checkbox"/>
						<cell align="left" bkcolor2="user22" col="1" colid="NAME1" display="text"/>
						<cell align="left" bkcolor2="user22" col="2" colid="NAME2" display="text"/>
						<cell align="left" bkcolor2="user22" col="3" colid="NAME3" display="text"/>
						<cell align="left" bkcolor2="user22" col="4" colid="NAME4" display="text"/>
						<cell col="5" colid="EBDG_AMT" display="number" edit="number" Valign="Center"/>
						<cell col="6" colid="NOTE" display="text" edit="normal" limit="500" Valign="Center"/>
					</body>
				</format>
			</contents>
		</Grid>
		<Image Height="20" Id="Image1" ImageID="form_bl_title_sub" Left="3" TabOrder="6" Top="192" Width="11"></Image>
		<Static Color="user6" Font="굴림,9,Bold" Height="20" Id="Static4" Left="16" TabOrder="7" Text="기준항목별&#32;시행예산" Top="192" VAlign="Middle" Width="158"></Static>
		<Static Align="Right" Height="20" Id="Static11" Left="543" Style="sty_lb_search" TabOrder="8" Text="오더유형&#32;" Top="104" VAlign="Middle" Width="100"></Static>
		<Edit BindDataset="ds_zfst0305" Border="Flat" BorderColor="user1" Column="KUNNR_NM" Height="20" Id="ed_kunnr" Left="108" MaxLength="10" Readonly="TRUE" Style="sty_ipt_form_ind" TabOrder="9" Top="130" UpperOnly="TRUE" Width="407"></Edit>
		<Static Align="Right" Height="20" Id="Static6" Left="7" Style="sty_lb_search" TabOrder="10" Text="고객명&#32;" Top="130" VAlign="Middle" Width="100"></Static>
		<Static Align="Right" Height="20" Id="Static5" Left="7" Style="sty_lb_search" TabOrder="11" Text="현장명&#32;" Top="104" VAlign="Middle" Width="100"></Static>
		<Edit BindDataset="ds_zfst0305" Border="Flat" BorderColor="user1" Column="BSTNK" Height="20" Id="ed_site_nm" Left="109" MaxLength="20" Style="sty_ipt_form" TabOrder="12" Top="104" UpperOnly="TRUE" Width="427"></Edit>
		<Static Align="Right" Height="20" Id="Static7" Left="7" Style="sty_lb_search" TabOrder="13" Text="인계금액&#32;" Top="155" VAlign="Middle" Width="100"></Static>
		<Static Align="Right" Height="20" Id="Static9" Left="279" Style="sty_lb_search" TabOrder="14" Text="시행예산&#32;" Top="155" VAlign="Middle" Width="100"></Static>
		<Static Align="Right" Height="20" Id="Static3" Left="7" Style="sty_lb_search" TabOrder="15" Text="프로젝트번호&#32;" Top="44" VAlign="Middle" Width="100"></Static>
		<Edit BindDataset="ds_zfst0301" Border="Flat" BorderColor="user1" Column="OCNT_NUMB" Height="20" Id="ed_posid" Left="109" MaxLength="10" Readonly="TRUE" Style="sty_ipt_form_ind" TabOrder="15" Top="44" UpperOnly="TRUE" Width="155"></Edit>
		<Button Cursor="HAND" Height="20" Id="btn_rowAdd1" ImageID="btn_icon_plus" Left="924" LeftMargin="12" OnClick="btn_rowAdd1_OnClick" Style="sty_btn" TabOrder="17" Top="192" Transparent="TRUE" Width="22"></Button>
		<Button Cursor="HAND" Height="20" Id="btn_rowDel1" ImageID="btn_icon_minus" Left="946" LeftMargin="12" OnClick="btn_rowDel1_OnClick" Style="sty_btn" TabOrder="17" Top="192" Transparent="TRUE" Width="22"></Button>
		<Button Cursor="HAND" Height="18" Id="btn_kunnr" ImageID="btn_icon_search" Left="518" OnClick="btn_kunnr_OnClick" TabOrder="19" Top="131" Transparent="TRUE" Width="18"></Button>
		<Static Align="Right" Height="20" Id="Static0" Left="543" Style="sty_lb_search" TabOrder="21" Text="무상보수시작일&#32;" Top="130" VAlign="Middle" Width="100"></Static>
		<Calendar BindDataset="ds_zfst0305" Border="Flat" BorderColor="user1" ClickedBkColor="user32" ClickedTextColor="user33" Column="CONT_DATE" Dateformat="yyyy.MM.dd" DayFont="돋움,9" DaySelect="Auto" DaySpacingHeight="6" DrawWeekSeparator="FALSE" EditAlign="CENTER" Font="돋움,9" HeaderBorder="NONE" HeaderFont="돋움,10,Bold" Height="20" Id="cal_bstdk" Left="644" MonthPickerFormat="yyyy년&#32;MMMM" MonthPopupBorder="FLAT" SaturdayTextColor="user34" SelectedDayFont="돋움,9,Bold" Style="sty_ipt_form" SundayTextColor="user35" TabOrder="20" TextColor="user36" TitleBKColor="user37" TitleTextColor="user38" TodayColor="user39" Top="130" WeekBKColor="user40" WeekColor="user41" WeeksFont="돋움,10" Width="108"></Calendar>
		<Static Align="Right" Height="20" Id="Static1" Left="760" Style="sty_lb_search" TabOrder="23" Text="무상보수종료일&#32;" Top="130" VAlign="Middle" Width="100"></Static>
		<Calendar BindDataset="ds_zfst0305" Border="Flat" BorderColor="user1" ClickedBkColor="user32" ClickedTextColor="user33" Column="CMPL_DATE" Dateformat="yyyy.MM.dd" DayFont="돋움,9" DaySelect="Auto" DaySpacingHeight="6" DrawWeekSeparator="FALSE" EditAlign="CENTER" Font="돋움,9" HeaderBorder="NONE" HeaderFont="돋움,10,Bold" Height="20" Id="cal_dlivdate" Left="862" MonthPickerFormat="yyyy년&#32;MMMM" MonthPopupBorder="FLAT" SaturdayTextColor="user34" SelectedDayFont="돋움,9,Bold" Style="sty_ipt_form" SundayTextColor="user35" TabOrder="22" TextColor="user36" TitleBKColor="user37" TitleTextColor="user38" TodayColor="user39" Top="130" WeekBKColor="user40" WeekColor="user41" WeeksFont="돋움,10" Width="108"></Calendar>
		<Static Align="Right" Height="20" Id="Static2" Left="277" Style="sty_lb_search" TabOrder="23" Text="인계일&#32;" Top="44" VAlign="Middle" Width="96"></Static>
		<MaskEdit Align="Center" BindDataset="ds_zfst0305" Border="Flat" BorderColor="user1" Column="VDATU" Height="20" Id="ed_bosuout" Left="374" Mask="####.##.##" Readonly="TRUE" Style="sty_ipt_form_ind" TabOrder="25" Top="44" TrimType="Both" Type="STRING" Width="99"></MaskEdit>
		<Static Align="Right" Height="20" Id="Static8" Left="488" Style="sty_lb_search" TabOrder="26" Text="무상보수개월수&#32;" Top="44" VAlign="Middle" Width="96"></Static>
		<Edit Align="RIGHT" Border="Flat" BorderColor="user1" Height="20" Id="ed_musaocnt2" Left="588" MaxLength="10" Readonly="TRUE" Style="sty_ipt_form_ind" TabOrder="26" Top="44" UpperOnly="TRUE" Width="59"></Edit>
		<Combo BindDataset="ds_zfst0305" Border="Flat" BorderColor="user1" CodeColumn="CODE" Column="ORDR_TYPE" DataColumn="CODE_NAME" Height="20" Id="cb_ordrType" INDEX="0" InnerDataset="ds_combo_a03" Left="644" Style="sty_ipt_form" TabOrder="28" Top="104" Width="108"></Combo>
		<Static Align="Right" Height="20" Id="Static10" Left="760" Style="sty_lb_search" TabOrder="30" Text="인수일&#32;" Top="105" VAlign="Middle" Width="100"></Static>
		<Calendar BindDataset="ds_zfst0305" Border="Flat" BorderColor="user1" ClickedBkColor="user32" ClickedTextColor="user33" Column="BSTDK" Dateformat="yyyy.MM.dd" DayFont="돋움,9" DaySelect="Auto" DaySpacingHeight="6" DrawWeekSeparator="FALSE" EditAlign="CENTER" Font="돋움,9" HeaderBorder="NONE" HeaderFont="돋움,10,Bold" Height="20" Id="cal_indo" Left="862" MonthPickerFormat="yyyy년&#32;MMMM" MonthPopupBorder="FLAT" SaturdayTextColor="user34" SelectedDayFont="돋움,9,Bold" Style="sty_ipt_form" SundayTextColor="user35" TabOrder="29" TextColor="user36" TitleBKColor="user37" TitleTextColor="user38" TodayColor="user39" Top="105" WeekBKColor="user40" WeekColor="user41" WeeksFont="돋움,10" Width="108"></Calendar>
		<MaskEdit Align="Right" BindDataset="ds_zfst0305" Border="Flat" BorderColor="user1" Column="NETWR" Height="20" Id="ed_netwr" Left="108" Readonly="TRUE" Style="sty_ipt_form_ind" TabOrder="31" Top="155" TrimType="Both" Width="155"></MaskEdit>
		<MaskEdit Align="Right" BindDataset="ds_zfst0301" Border="Flat" BorderColor="user1" Column="EBDG_TAMT" Height="20" Id="ed_ebdgTamt" Left="381" Readonly="TRUE" Style="sty_ipt_form_ind" TabOrder="32" Top="155" TrimType="Both" Width="155"></MaskEdit>
		<Div Height="36" Id="div_btn" TabOrder="33" Text="Div0" Url="WB01::CommBtnForm.xml" Width="976">
			<Contents></Contents>
		</Div>
	</Form>
	<Script><![CDATA[/*
 ******************************************************************************************
 * 기      능   : 사양별 템플릿 특성값 지정
 * 작  성  자   : 박수근
 * 작성  일자   : 20116.11.01
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */
#include "LIB::commons.js";           // 공통 스크립트
#include "LIB::fs_common.js";         // 물류서비스 공통 스크립트

//=========================================================================================
// [ PART 1 ]
// Form에서 사용될 전역변수를 선언
// FORM에서 사용되는 전역변수는 대문자로 작성하며, F_XXX 의 형태를 갖도록 한다.
//=========================================================================================

//=========================================================================================
// [ PART 2 ]
// Form Loading / Unloading 시 작업 정의
//=========================================================================================
function fn_OnLoadCompleted(obj) {
    gfn_initForm(true);          // Form 로드 이벤트 맨 첫줄에 기술
    fn_init_form();             // 폼 초기화
}

/********************************************************************************
* 기      능   : form UnloadCompleted
********************************************************************************/
function fn_OnUnloadCompleted(obj) {
    //return gfn_isFormUnload(obj);
}

/********************************************************************************
* 기      능   : 폼 초기화
********************************************************************************/
function fn_init_form() {
    var codeArray = ["A03:ds_combo_a03::NEXTN1='_%'"]; 
    gn_fsComboDataSet(codeArray);
	gfn_initDs(ds_insu, true);
	ds_insu.SetColumn( 0, "POSID", pposid);
	ds_insu.SetColumn( 0, "POSID_1", pposid1);
	SetTimer(1, 300);
}
/********************************************************************************
* 기      능   : 자동 조회
********************************************************************************/
function FS0302002A_OnTimer(obj,nEventID)
{
	KillTimer(nEventID);
	fn_query();
}

/********************************************************************************
* 기      능   : 조회
********************************************************************************/
function fn_query() {
    // 조회 스크립트
    tit_clearActionInfo();
    tit_addSearchActionInfo("fs03:FS0303001A_S1");
    tit_callService(
                    ""
                   ,""
                   ,"ds_cond=ds_insu"
                   ,"ds_insu=ds_insu"
                   ,""
                   ,"fn_afterQuery"
                   ,"true"
                   ,"true"
                   ,"false"
                   );
}
function fn_afterQuery(errCode, errMsg)
{
	var nRowCount = ds_insu.GetRowCount();
	if ( gfn_barMsgSearch(nRowCount, errcode) ) return;
	gfn_initDs(ds_zfst0301, true);
	gfn_initDs(ds_zfst0302);
	gfn_initDs(ds_zfst0305, true);
	gfn_initDs(ds_zfst0308, true);

	ed_musaocnt2.Text = parseInt( ds_insu.GetColumn(0, "ZMUSAOCNT2") ) + " 개월";

	ds_zfst0301.SetColumn(0, "EBDG_MGSQ", 1 );
	ds_zfst0301.SetColumn(0, "ESMT_TAMT", ds_insu.GetColumn(0, "NETWR") );
	ds_zfst0301.SetColumn(0, "SLCS_RATE", 100.0 );
	ds_zfst0301.SetColumn(0, "WAERK", ds_insu.GetColumn(0, "WAERK") );
	ds_zfst0301.SetColumn(0, "PBDG_TAMT", ds_insu.GetColumn(0, "NETWR") );
	ds_zfst0301.SetColumn(0, "CEBD_TAMT", 0 );
	ds_zfst0301.SetColumn(0, "EBDG_TAMT", 0 );
	ds_zfst0301.SetColumn(0, "MNGR", G_USER_ID );
	ds_zfst0301.SetColumn(0, "EBDG_EDYN", "N" );
	ds_zfst0301.SetColumn(0, "EBDG_MGST", "350" );
	
	var toDay = gfn_getCurrDate();
	var endDay = AddMonth(DateTime(toDay), parseInt( ds_insu.GetColumn(0, "ZMUSAOCNT2") ) );
	ds_zfst0305.SetColumn(0, "OCNT_NUMB", "" );
	ds_zfst0305.SetColumn(0, "RFCT_SEQN", 1 );
	ds_zfst0305.SetColumn(0, "PSPID", ds_insu.GetColumn(0, "POSID_M") );
	ds_zfst0305.SetColumn(0, "PS_PSP_PNR", ds_insu.GetColumn(0, "POSID_1") );
	ds_zfst0305.SetColumn(0, "AUART", "ZR01" );
	ds_zfst0305.SetColumn(0, "ORDR_TYPE", "IU" );
	ds_zfst0305.SetColumn(0, "BSTNK", substr( ds_insu.GetColumn(0, "ZSITE_NM") , 1, 20 ) );
	ds_zfst0305.SetColumn(0, "KUNNR", ds_insu.GetColumn(0, "KUNNR") );
	ds_zfst0305.SetColumn(0, "KUNWE", ds_insu.GetColumn(0, "KUNNR") );
	ds_zfst0305.SetColumn(0, "VKORG", "1000" );
	ds_zfst0305.SetColumn(0, "VTWEG", "20" );
	ds_zfst0305.SetColumn(0, "SPART", "30" );
	ds_zfst0305.SetColumn(0, "VKGRP", G_SAP_USER_VGCD );
	ds_zfst0305.SetColumn(0, "VKBUR", G_SAP_USER_VBCD );
	ds_zfst0305.SetColumn(0, "VPRGR", "1" );
	ds_zfst0305.SetColumn(0, "BSTDK", toDay);
	ds_zfst0305.SetColumn(0, "VDATU", ds_insu.GetColumn(0, "ZBOSUOUT") );
	ds_zfst0305.SetColumn(0, "WAERK", ds_insu.GetColumn(0, "WAERK") );
	ds_zfst0305.SetColumn(0, "NETWR", ds_insu.GetColumn(0, "NETWR") );
	ds_zfst0305.SetColumn(0, "SLCS_RATE", 0.0);
	ds_zfst0305.SetColumn(0, "CONT_DATE", toDay );
	ds_zfst0305.SetColumn(0, "CMPL_DATE", endDay);
	ds_zfst0305.SetColumn(0, "OCNT_STAT", "250");
	ds_zfst0305.SetColumn(0, "KUNNR_NM", ds_insu.GetColumn(0, "KUNNR_NM") );
}
/********************************************************************************
* 기      능   : 저장
********************************************************************************/
function fn_save() 
{
/*
	ds_zfst0308.SetColumn(0, "RFCT_SEQN", 1); //반영순번
	ds_zfst0308.SetColumn(0, "POSNR", gfn_fsFillZero(posnr, 6)); //SD 문서의 품목 번호
	ds_zfst0308.SetColumn(0, "VBELN", ""); //판매 관리 문서 번호
	ds_zfst0308.SetColumn(0, "KONDA", ""); //가격그룹 (고객)
	ds_zfst0308.SetColumn(0, "KDGRP", ""); //고객 그룹
	ds_zfst0308.SetColumn(0, "BZIRK", ""); //판매 구역
	ds_zfst0308.SetColumn(0, "PLTYP", ""); //가격리스트유형
	ds_zfst0308.SetColumn(0, "INCO1", ""); //인도조건 (파트 1)
	ds_zfst0308.SetColumn(0, "INCO2", ""); //인도 조건(파트 2)
	ds_zfst0308.SetColumn(0, "KZAZU", ""); //오더 조합 지시자
	ds_zfst0308.SetColumn(0, "PERFK", ""); //송장일자 (달력식별)
	ds_zfst0308.SetColumn(0, "MRNKZ", ""); //수동송장유지보수
	ds_zfst0308.SetColumn(0, "KURRF", ""); //FI 전기에 대한 환율
	ds_zfst0308.SetColumn(0, "ZTERM", ""); //지급 조건 키
	ds_zfst0308.SetColumn(0, "ZLSCH", ""); //지급 방법
	ds_zfst0308.SetColumn(0, "KURSK", ""); //가격결정에 사용하는 환율
	ds_zfst0308.SetColumn(0, "PRSDT", ""); //가격결정 및 환율에 대한 일자
	ds_zfst0308.SetColumn(0, "FBUDA", ""); //서비스제공일
	ds_zfst0308.SetColumn(0, "GJAHR", ""); //회계연도
	ds_zfst0308.SetColumn(0, "POPER", ""); //전기 기간
	ds_zfst0308.SetColumn(0, "MSCHL", ""); //독촉 키
	ds_zfst0308.SetColumn(0, "MANSP", ""); //독촉 보류
	ds_zfst0308.SetColumn(0, "ABSSC", ""); //지급보증절차
	ds_zfst0308.SetColumn(0, "LCNUM", ""); //재무문서처리: 내부재무문서번호
	ds_zfst0308.SetColumn(0, "ABTNR", ""); //부서번호
	ds_zfst0308.SetColumn(0, "EMPST", ""); //입고 지점
	ds_zfst0308.SetColumn(0, "BSTKD", ""); //현장명
	ds_zfst0308.SetColumn(0, "BSTDK", ""); //수주일
	ds_zfst0308.SetColumn(0, "BSARK", ""); //고객구매오더유형
	ds_zfst0308.SetColumn(0, "IHREZ", ""); //참조
	ds_zfst0308.SetColumn(0, "BSTKD_E", ""); //납품처의 구매 오더 번호
	ds_zfst0308.SetColumn(0, "BSTDK_E", ""); //납품처의 구매 오더일
	ds_zfst0308.SetColumn(0, "BSARK_E", ""); //납품처 구매 오더 유형
	ds_zfst0308.SetColumn(0, "IHREZ_E", ""); //납품처 문자
	ds_zfst0308.SetColumn(0, "POSEX_E", ""); //기초구매오더 품목번호
	ds_zfst0308.SetColumn(0, "KDKG1", ""); //고객 조건 그룹 1
	ds_zfst0308.SetColumn(0, "KDKG2", ""); //고객 조건 그룹 2
	ds_zfst0308.SetColumn(0, "KDKG3", ""); //고객조건그룹 3
	ds_zfst0308.SetColumn(0, "KDKG4", ""); //고객조건그룹 4
	ds_zfst0308.SetColumn(0, "KDKG5", ""); //고객조건그룹 5
	ds_zfst0308.SetColumn(0, "DELCO", ""); //합의된 납품시간
	ds_zfst0308.SetColumn(0, "FFPRF", ""); //동적품목 프로세서 프로파일
	ds_zfst0308.SetColumn(0, "FAKTF", ""); //대금청구서식
	ds_zfst0308.SetColumn(0, "RRREL", ""); //수익인식범주
	ds_zfst0308.SetColumn(0, "ACDATV", ""); //발생기간에 대해 제시된 시작일
	ds_zfst0308.SetColumn(0, "VSART", ""); //출하유형
	ds_zfst0308.SetColumn(0, "TRATY", ""); //운송 수단 유형
	ds_zfst0308.SetColumn(0, "TRMTYP", ""); //운송 수단
	ds_zfst0308.SetColumn(0, "SDABW", ""); //특별처리 지시자
	ds_zfst0308.SetColumn(0, "REVSP", ""); //수익 배분 유형
	ds_zfst0308.SetColumn(0, "REVEVTYP", ""); //수익 이벤트 유형(커스터마이징)
	ds_zfst0308.SetColumn(0, "MATNR", ""); //자재 번호
	ds_zfst0308.SetColumn(0, "MATWA", ""); //입력된 자재
	ds_zfst0308.SetColumn(0, "ARKTX", ""); //판매 오더 품목에 대한 내역
	ds_zfst0308.SetColumn(0, "PMATN", ""); //가격결정 참조 자재
	ds_zfst0308.SetColumn(0, "MATKL", ""); //자재 그룹
	ds_zfst0308.SetColumn(0, "PSTYV", ""); //영업 문서 품목 범주
	ds_zfst0308.SetColumn(0, "GRPOS", ""); //해당품목의 대체품목
	ds_zfst0308.SetColumn(0, "ABGRU", ""); //견적 및 판매 오더의 거부 사유
	ds_zfst0308.SetColumn(0, "PRODH", ""); //제품 계층구조
	ds_zfst0308.SetColumn(0, "MEINS", ""); //기본 단위
	ds_zfst0308.SetColumn(0, "POSEX", ""); //기초구매오더 품목번호
	ds_zfst0308.SetColumn(0, "KDMAT", ""); //고객사용 자재번호
	ds_zfst0308.SetColumn(0, "VKAUS", ""); //용도 지시자
	ds_zfst0308.SetColumn(0, "UEBTO", ""); //초과 납품 허용 한도
	ds_zfst0308.SetColumn(0, "UNTTO", ""); //미달 납품 허용 한도
	ds_zfst0308.SetColumn(0, "GSBER", ""); //사업 영역
	ds_zfst0308.SetColumn(0, "NETWR", ""); //문서통화에서의 오더품목의 정가
	ds_zfst0308.SetColumn(0, "WAERK", ""); //SD 문서 통화
	ds_zfst0308.SetColumn(0, "ANTLF", ""); //품목별 허용된 최대분할납품수
	ds_zfst0308.SetColumn(0, "KZTLF", ""); //품목레벨에서의 분할납품
	ds_zfst0308.SetColumn(0, "KWMENG", ""); //판매 단위의 누적 오더 수량
	ds_zfst0308.SetColumn(0, "VRKME", ""); //판매 단위
	ds_zfst0308.SetColumn(0, "UMVKZ", ""); //판매수량을 SKU로 환산하기 위한 분자(계수)
	ds_zfst0308.SetColumn(0, "UMVKN", ""); //판매 수량을 SKU로 환산하기 위한 분모(제수)
	ds_zfst0308.SetColumn(0, "BRGEW", ""); //품목의 총중량
	ds_zfst0308.SetColumn(0, "NTGEW", ""); //품목의 순중량
	ds_zfst0308.SetColumn(0, "GEWEI", ""); //중량 단위
	ds_zfst0308.SetColumn(0, "VOLUM", ""); //품목의 부피
	ds_zfst0308.SetColumn(0, "VOLEH", ""); //부피 단위
	ds_zfst0308.SetColumn(0, "LPRIO", ""); //납품 우선순위
	ds_zfst0308.SetColumn(0, "WERKS", ""); //플랜트(자체 또는 외부)
	ds_zfst0308.SetColumn(0, "LGORT", ""); //저장 위치
	ds_zfst0308.SetColumn(0, "VSTEL", ""); //출하 지점/입고 지점
	ds_zfst0308.SetColumn(0, "ROUTE", ""); //운송 경로
	ds_zfst0308.SetColumn(0, "TAXM1", ""); //세금분류자재
	ds_zfst0308.SetColumn(0, "KONDM", ""); //자재 가격결정 그룹
	ds_zfst0308.SetColumn(0, "KTGRM", ""); //해당자재 계정지정그룹
	ds_zfst0308.SetColumn(0, "EAN11", ""); //국제물품번호 (EAN/UPC)
	ds_zfst0308.SetColumn(0, "FIXMG", ""); //고정된 납품일과 수량
	ds_zfst0308.SetColumn(0, "PRCTR", ""); //손익 센터
	ds_zfst0308.SetColumn(0, "MVGR1", ""); //자재그룹 1
	ds_zfst0308.SetColumn(0, "MVGR2", ""); //자재그룹 2
	ds_zfst0308.SetColumn(0, "MVGR3", ""); //자재그룹 3
	ds_zfst0308.SetColumn(0, "MVGR4", ""); //자재그룹 4
	ds_zfst0308.SetColumn(0, "MVGR5", ""); //자재그룹 5
	ds_zfst0308.SetColumn(0, "PS_PSP_PNR", ""); //작업 분석 구조 요소(WBS 요소)
	ds_zfst0308.SetColumn(0, "EXART", ""); //해외무역 거래유형
	ds_zfst0308.SetColumn(0, "PREFE", ""); //수출/수입 특혜 관세 지시자
	ds_zfst0308.SetColumn(0, "ZSCHL_K", ""); //간접비 키
	ds_zfst0308.SetColumn(0, "KALSM_K", ""); //원가계산표
	ds_zfst0308.SetColumn(0, "MFRGR", ""); //자재 운임 그룹
	ds_zfst0308.SetColumn(0, "ABFOR", ""); //지급보증서식
	ds_zfst0308.SetColumn(0, "ABGES", ""); //보증 (0과 1사이의 요소)
	ds_zfst0308.SetColumn(0, "WGRU1", ""); //자재그룹 계층구조 1
	ds_zfst0308.SetColumn(0, "WGRU2", ""); //자재그룹 계층구조 2
	ds_zfst0308.SetColumn(0, "MWSBP", ""); //문서통화에서의 세액
	ds_zfst0308.SetColumn(0, "REPMO", ""); //무상보수 개월수
	ds_zfst0308.SetColumn(0, "GUAMO", ""); //하자보증 개월수
	ds_zfst0308.SetColumn(0, "WORMO", ""); //공사용사용 개월수
	ds_zfst0308.SetColumn(0, "TPDATE1", ""); //기계실,구조물 전송날짜
	ds_zfst0308.SetColumn(0, "TPDATE2", ""); //영업사양 전송날짜
	ds_zfst0308.SetColumn(0, "TPDATE3", ""); //기술사양 전송날짜
	ds_zfst0308.SetColumn(0, "HOGI", ""); //호기 번호
	ds_zfst0308.SetColumn(0, "WWBLD", ""); //건물 용도
	ds_zfst0308.SetColumn(0, "HB_FROM", ""); //하자보수 시작일
	ds_zfst0308.SetColumn(0, "HB_TO", ""); //하자보수 종료일
	ds_zfst0308.SetColumn(0, "EDATU", ""); //납품일정라인 일자
	ds_zfst0308.SetColumn(0, "WMENG", ""); //판매단위에서의 오더수량
	ds_zfst0308.SetColumn(0, "BMENG", ""); //확정 수량
	ds_zfst0308.SetColumn(0, "CMENG", ""); //판매단위로 수정된 수량
	ds_zfst0308.SetColumn(0, "LIFSP", ""); //납품에 대해 보류된 납품일정라인
*/
	if ( length( ds_zfst0305.GetColumn(0, "BSTNK") ) < 1 )
	{
		gfn_openMsgWin("현장명을 입력해야 합니다.", "W", "A", "");
		return;
	}
	
	if ( cb_ordrType.Index == 0 )
	{
		gfn_openMsgWin("오더유형을 선택해야 합니다.", "W", "A", "");
		return;
	}
	
	if ( length( ds_zfst0305.GetColumn(0, "KUNNR") ) < 1 )
	{
		gfn_openMsgWin("고객을 선택해야 합니다.", "W", "A", "");
		return;
	}
	if ( length( ds_zfst0305.GetColumn(0, "BSTDK") ) < 1 )
	{
		gfn_openMsgWin("인수일을 입력해야만 합니다.", "W", "A", "");
		return;
	}
	
	var sCheckDate1 = ds_zfst0305.GetColumn(0, "CONT_DATE");
	var sCheckDate2 = ds_zfst0305.GetColumn(0, "CMPL_DATE");
	if ( length( sCheckDate1 ) < 1 )
	{
		gfn_openMsgWin("무상보수 시작일을 입력해야만 합니다.", "W", "A", "");
		return;
	}
	if ( length( sCheckDate2 ) < 1 )
	{
		gfn_openMsgWin("무상보수 종료일을 입력해야만 합니다.", "W", "A", "");
		return;
	}
	if ( parseInt( sCheckDate1 ) >= parseInt( sCheckDate2 ) )
	{
		gfn_openMsgWin("무상보수 종료일이 시작일 보다 빠릅니다.", "W", "A", "");
		return;
	}
	if ( parseFloat( ds_zfst0305.GetColumn(0, "NETWR") ) != parseFloat( ds_zfst0301.GetColumn(0, "EBDG_TAMT") ) )
	{
		gfn_openMsgWin("인수금액과 시행예산의 촘합이 서로 다름니다.", "W", "A", "");
		return;
	}
	var iRow = 0;
	var nRowCount = ds_zfst0302.GetRowCount();
	for( iRow = 0; iRow < nRowCount; iRow++ )
	{
		ds_zfst0302.SetColumn(iRow, "EBDG_ITSQ", iRow+1);
	}
	
	if (!gfn_showConfirm("CI00008")) return;
	
    // 조회 스크립트
    tit_clearActionInfo();
    tit_addSearchActionInfo("fs03:FS0303001A_S2", true); // 키생성
    tit_addSingleActionInfo("fs03:FS0303001A_U1"); // 인수인계 테이블 업데이트
    tit_addSingleActionInfo("fs03:FS0303001A_I1"); // 시행예산 MASTER 생성
    tit_addMultiActionInfo("fs03:FS0303001A_I2"); // 시행예산 품목 생성
    tit_addSingleActionInfo("fs03:FS0303001A_I3"); // 수주 마스터 등록
    tit_addSearchActionInfo("fs03:FS0303001A_S3", true); // 결재 키생성
    tit_addSingleActionInfo("fs01:FS_COM0701_M1"); // 결재 등록 
    tit_callService(
                    ""
                   ,""
                   ,"ds_insu=ds_insu ds_zfst0301=ds_zfst0301 ds_zfst0302=ds_zfst0302 ds_zfst0305=ds_zfst0305"
                   ,"ds_zfst0301_key=ds_zfst0301_key"
                   ,""
                   ,"fn_afterSave"
                   ,"true"
                   ,"true"
                   ,"false"
                   );

}
function fn_afterSave(errCode, errMsg)
{
	if ( gfn_barMsgSave(errCode) ) return;
	close("SAVE");
}
/********************************************************************************
* 기      능   : 닫기
********************************************************************************/
function fn_close() {
    gfn_formClose( ds_zfst0301.GetUpdate() || ds_zfst0302.GetUpdate() || ds_zfst0305.GetUpdate() || ds_zfst0308.GetUpdate() );
}

/********************************************************************************
* 기      능   : 고객 정보 팝업 호출
********************************************************************************/
function btn_kunnr_OnClick(obj)
{
    var arg = "";
    var aRtn = gfn_openPopup("FS_COM0201", true, arg);
    if ( length( aRtn ) > 0 )
    {
		ds_zfst0305.SetColumn(0, "KUNNR", aRtn[0] ); 
		ds_zfst0305.SetColumn(0, "KUNWE", aRtn[0] ); 
		ed_orcuName.Text = aRtn[1];
    }
}

/********************************************************************************
* 기      능   : 행추가
********************************************************************************/
function btn_rowAdd1_OnClick(obj)
{
	//gfn_initDs(ds_select_escscode);
	//var iRow = ds_select_escscode.AddRow();
	//ds_select_escscode.SetColumn(iRow, "DELE_CODE", "020000000");
	
	var arg = " pCondDs='' pDelCode='' pCheckCode='' pCheckRevers=false"; 
	var aRtn = gfn_openPopup("FS0303001C", true, arg);
	var aLen = length( aRtn );
	if (aLen > 0) 
	{
		grd_list.Redraw = false;
		ds_zfst0302.FireEvent = false;
		var nRow = 0;
		for( iRow = 0; iRow < aLen; iRow++ )
		{
			nRow = ds_zfst0302.AddRow();
			ds_zfst0302.SetColumn(nRow, "CHK" , "1" );
			ds_zfst0302.SetColumn(nRow, "OCNT_NUMB" , "" );
			ds_zfst0302.SetColumn(nRow, "EBDG_MGSQ" , 1 );
			ds_zfst0302.SetColumn(nRow, "EBDG_ITSQ" , 1 ); //parseInt( ds_zfst0302.Max("EBDG_ITSQ") ) + 1 );
			ds_zfst0302.SetColumn(nRow, "EBDG_GROP" , aRtn[iRow][0] );
			ds_zfst0302.SetColumn(nRow, "ESCS_UPBG" , aRtn[iRow][1] );
			ds_zfst0302.SetColumn(nRow, "BDGT_ITEM" , aRtn[iRow][4] );
			ds_zfst0302.SetColumn(nRow, "EBDG_NAME" , aRtn[iRow][9] );
			ds_zfst0302.SetColumn(nRow, "NAME1" , aRtn[iRow][5] );
			ds_zfst0302.SetColumn(nRow, "NAME2" , aRtn[iRow][6] );
			ds_zfst0302.SetColumn(nRow, "NAME3" , aRtn[iRow][7] );
			ds_zfst0302.SetColumn(nRow, "NAME4" , aRtn[iRow][8] );
			ds_zfst0302.SetColumn(nRow, "WAERK" , ds_zfst0301.GetColumn(0, "WAERK") );
			ds_zfst0302.SetColumn(nRow, "ESMT_AMT" , 0 );
			ds_zfst0302.SetColumn(nRow, "BFOR_BAMT" , 0 );
			ds_zfst0302.SetColumn(nRow, "CEBD_AMT" , 0 );
			ds_zfst0302.SetColumn(nRow, "EBDG_AMT" , 0 );
			ds_zfst0302.SetColumn(nRow, "SPEN_AMT" , 0 );
			ds_zfst0302.SetColumn(nRow, "SLCS_RATE" , 0 );
			ds_zfst0302.SetColumn(nRow, "NOTE" , "" );
			ds_zfst0302.SetColumn(nRow, "ORDR_NUMB" , "" );
			ds_zfst0302.SetColumn(nRow, "ORIT_SEQN" , 0  );
		}
		ds_zfst0302.FireEvent = true;
		grd_list.Redraw = true;
	}
}

/********************************************************************************
* 기      능   : 행삭제
********************************************************************************/
function btn_rowDel1_OnClick(obj)
{
	grd_list.Redraw = false;
	var nRow = ds_zfst0302.SearchRow("CHK=='1'");
	while( nRow >= 0 )
	{
		ds_zfst0302.DeleteRow( nRow );
		nRow = ds_zfst0302.SearchRow("CHK=='1'", nRow);
	}
	grd_list.Redraw = true;
}

/********************************************************************************
* 기      능   : 예산 품목 정보
********************************************************************************/
function ds_zfst0302_OnColumnChanged(obj,nRow,strColumnID,varOldValue,varNewValue,nPivotIndex)
{
	obj.FireEvent = false;
	switch( strColumnID )
	{
	case "EBDG_AMT":
		obj.SetColumn(nRow, "BFOR_BAMT", varNewValue);
		obj.SetColumn(nRow, "ESMT_AMT", varNewValue);
		obj.SetColumn(nRow, "SLCS_RATE", "100.0");
		var sumAmt = obj.Sum("EBDG_AMT");
		var esmtTamt = ds_zfst0301.GetColumn(0, "ESMT_TAMT");
		ds_zfst0301.SetColumn(0, "EBDG_TAMT", obj.Sum("EBDG_AMT"));
		ds_zfst0301.SetColumn(0, "SLCS_RATE", round( ( sumAmt / esmtTamt) * 100 , 2 ) );
		break;
	}
	obj.FireEvent = true;
}
]]></Script>
</Window>