<?xml version="1.0" encoding="utf-8"?>
<Window>
	<Form Height="750" Id="QM1001003H" Left="8" OnLoadCompleted="fn_OnLoadCompleted" OnUnloadCompleted="fn_OnUnloadCompleted" PidAttrib="7" Title="Tower&#32;접수" Top="8" Ver="1.0" Width="820" WorkArea="true">
		<Static Align="Right" Height="24" Id="st_name" Left="-116" Style="sty_lb_search" TabOrder="0" Text="현장명&#32;" Top="-6" VAlign="Middle" Width="61"></Static>
		<Div Height="700" Id="div_body" scroll="true" TabOrder="2" Text="Div0" Top="33" Url="QM10::QM1001003F.xml" Width="810">
			<Contents></Contents>
		</Div>
		<Div Height="30" Id="div_btn" TabOrder="3" Text="Div0" Url="WB01::CommBtnForm.xml" Width="810">
			<Contents></Contents>
		</Div>
	</Form>
	<Script><![CDATA[/*
 ******************************************************************************************
 * 기      능   : Tower 접수
 * 작  성  자   : YSH
 * 작성  일자   : 2020.10.14
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */
#include "LIB::commons.js";	// 공통 스크립트 
#include "LIB::nsfRequest.js";	// 공통 스크립트 

//=========================================================================================
// [ PART 1 ]
// Form에서 사용될 전역변수를 선언
// FORM에서 사용되는 전역변수는 대문자로 작성하며, F_XXX 의 형태를 갖도록 한다. 
//=========================================================================================
var F_FRM_TITLE = "의뢰서 접수요청";	// 공통코드 화면명
var F_USER_GBN  = "";
var inputMode = "I";	// I:신규  M:수정  R:읽기전용

//=========================================================================================
// [ PART 2 ]
// Form Loading / Unloading 시 작업 정의
//=========================================================================================
function fn_OnLoadCompleted(obj)
{
	F_USER_GBN = right(G_USER_GROUP_B, 2); // 20 : 담당, 30 : 팀장, 40 : 부서장, 50 : 관리자

	gfn_initForm(false);	// Form 로드 이벤트 맨 첫줄에 기술
	fn_init_form();			// 폼 초기화	
}

/********************************************************************************
* 기      능   : form UnloadCompleted 
********************************************************************************/
function fn_OnUnloadCompleted(obj)
{
	return gfn_isFormUnload(obj);
}

/********************************************************************************
* 기      능   : 폼 초기화
********************************************************************************/
function fn_init_form()
{
	var reqseq  = ""; if ( IsExistVar("p_reqseq" ) ) reqseq  = trim(p_reqseq );
	
	div_body.ds_cond.ClearData();
	div_body.ds_cond.AddRow();
	div_body.ds_cond.SetColumn(0, "REQSEQ"  , reqseq);
		
	div_body.fn_query();	
}

/********************************************************************************
* 기      능   : 저장(수정)  처리
********************************************************************************/
function fn_save(obj)
{	
	div_body.fn_save(obj);
}

/********************************************************************************
* 기      능   : 접수 처리
********************************************************************************/
function fn_receipt(obj)
{	
	div_body.fn_receipt(obj);
}

/********************************************************************************
* 기      능   :  취소 처리 => 의뢰취소
********************************************************************************/
function fn_cancel(obj) 
{ 
	div_body.fn_cancel(obj); 
}


/********************************************************************************
* 기      능   :  반려 처리  => 반송
********************************************************************************/
function fn_sendback(obj)
{
	div_body.fn_sendback(obj);
}

/********************************************************************************
* 기      능   :  완료 처리
********************************************************************************/
function fn_finish(obj)
{
	div_body.fn_finish(obj);
}


/********************************************************************************
* 기      능   : 닫기  
********************************************************************************/
function fn_close()
{
	div_body.fn_close();
}

/********************************************************************************
* 기      능   : 출력 
********************************************************************************/
function fn_print()
{
	PrintScreen();
}


/********************************************************************************
* 기      능   :  결재 처리
********************************************************************************/
function fn_decide(obj)
{
	div_body.fn_decide(obj);
}

/********************************************************************************
* 기      능   :  반려 처리
********************************************************************************/
function fn_reject(obj)
{
	div_body.fn_reject(obj);
}



]]></Script>
</Window>