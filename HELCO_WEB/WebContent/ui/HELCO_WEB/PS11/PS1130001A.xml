<?xml version="1.0" encoding="utf-8"?>
<Window>
	<Form Height="688" Id="PS1130001A" Left="8" OnLoadCompleted="fn_OnLoadCompleted" OnTimer="form_OnTimer" OnUnloadCompleted="fn_OnUnloadCompleted" PidAttrib="7" Title="실측사양&#32;관리" Top="8" Ver="1.0" Width="976" WorkArea="true">
		<Datasets>
			<Dataset DataSetType="Dataset" Editable="True" Id="ds_rad_suvprh_list" OnColumnChanged="ds_rad_suvprh_list_OnColumnChanged">
				<Contents>
					<colinfo id="MANDT" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRH" size="256" summ="default" type="STRING"/>
					<colinfo id="DATADIV" size="256" summ="default" type="STRING"/>
					<colinfo id="ITEMDIV" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRHNAME" size="256" summ="default" type="STRING"/>
					<colinfo id="INTYPE" size="256" summ="default" type="STRING"/>
					<colinfo id="INPUTYSNO" size="256" summ="default" type="STRING"/>
					<colinfo id="NECYSNO" size="256" summ="default" type="STRING"/>
					<colinfo id="IFNECYSNO" size="256" summ="default" type="STRING"/>
					<colinfo id="CALYSNO" size="256" summ="default" type="STRING"/>
					<colinfo id="MODYYSNO" size="256" summ="default" type="STRING"/>
					<colinfo id="PRHYSNO" size="256" summ="default" type="STRING"/>
					<colinfo id="DWYSNO" size="256" summ="default" type="STRING"/>
					<colinfo id="VIEWYSNO" size="256" summ="default" type="STRING"/>
					<colinfo id="VIEWORDER" size="256" summ="default" type="STRING"/>
					<colinfo id="PRH" size="256" summ="default" type="STRING"/>
					<colinfo id="IFNECST" size="256" summ="default" type="STRING"/>
					<colinfo id="IFNECMSG" size="256" summ="default" type="STRING"/>
					<colinfo id="ERDAT" size="256" summ="default" type="STRING"/>
					<colinfo id="ERZET" size="256" summ="default" type="STRING"/>
					<colinfo id="ERNAM" size="256" summ="default" type="STRING"/>
					<colinfo id="AEDAT" size="256" summ="default" type="STRING"/>
					<colinfo id="AEZET" size="256" summ="default" type="STRING"/>
					<colinfo id="AENAM" size="256" summ="default" type="STRING"/>
					<colinfo id="FLAG" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_rad_suvprd_list" OnColumnChanged="ds_rad_suvprd_list_OnColumnChanged">
				<Contents>
					<colinfo id="MANDT" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRH" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRD" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRDNAME" size="256" summ="default" type="STRING"/>
					<colinfo id="VIEWORDER" size="256" summ="default" type="STRING"/>
					<colinfo id="ERDAT" size="256" summ="default" type="STRING"/>
					<colinfo id="ERZET" size="256" summ="default" type="STRING"/>
					<colinfo id="ERNAM" size="256" summ="default" type="STRING"/>
					<colinfo id="AEDAT" size="256" summ="default" type="STRING"/>
					<colinfo id="AEZET" size="256" summ="default" type="STRING"/>
					<colinfo id="AENAM" size="256" summ="default" type="STRING"/>
					<colinfo id="FLAG" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_rad_suvattr_list" OnColumnChanged="ds_rad_suvattr_list_OnColumnChanged">
				<Contents>
					<colinfo id="MANDT" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRH" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVATTR" size="256" summ="default" type="STRING"/>
					<colinfo id="INORDER" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRD" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVATTRID" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVATTRPRD" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVATTRNM" size="256" summ="default" type="STRING"/>
					<colinfo id="CALLFUNC" size="256" summ="default" type="STRING"/>
					<colinfo id="ERDAT" size="256" summ="default" type="STRING"/>
					<colinfo id="ERZET" size="256" summ="default" type="STRING"/>
					<colinfo id="ERNAM" size="256" summ="default" type="STRING"/>
					<colinfo id="AEDAT" size="256" summ="default" type="STRING"/>
					<colinfo id="AEZET" size="256" summ="default" type="STRING"/>
					<colinfo id="AENAM" size="256" summ="default" type="STRING"/>
					<colinfo id="FLAG" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cond">
				<Contents>
					<colinfo id="SUVPRH" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRHNAME" size="256" summ="default" type="STRING"/>
					<colinfo id="ITEMDIV" size="256" summ="default" type="STRING"/>
					<colinfo id="DATADIV" size="256" summ="default" type="STRING"/>
					<record>
						<DATADIV></DATADIV>
						<ITEMDIV></ITEMDIV>
						<SUVPRH></SUVPRH>
						<SUVPRHNAME></SUVPRHNAME>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cond2">
				<Contents>
					<colinfo id="SUVPRH" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRHNAME" size="256" summ="default" type="STRING"/>
					<colinfo id="ITEMDIV" size="256" summ="default" type="STRING"/>
					<colinfo id="DATADIV" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_DATA_DIVS">
				<Contents>
					<colinfo id="SUVPRH" size="256" summ="default" type="STRING"/>
					<colinfo id="MANDT" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRHNAME" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRD" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRDNAME" size="256" summ="default" type="STRING"/>
					<colinfo id="VIEWORDER" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRDEXPRES" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_DATA_ITEM">
				<Contents>
					<colinfo id="SUVPRH" size="256" summ="default" type="STRING"/>
					<colinfo id="MANDT" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRHNAME" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRD" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRDNAME" size="256" summ="default" type="STRING"/>
					<colinfo id="VIEWORDER" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRDEXPRES" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_dummy">
				<Contents>
					<colinfo id="SUVPRH" size="256" summ="default" type="STRING"/>
					<colinfo id="MANDT" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRHNAME" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRD" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRDNAME" size="256" summ="default" type="STRING"/>
					<colinfo id="VIEWORDER" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRDEXPRES" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cond_code">
				<Contents>
					<colinfo id="MANDT" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRH" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_yn">
				<Contents>
					<colinfo id="CODE" size="256" summ="default" type="STRING"/>
					<colinfo id="CODENAME" size="256" summ="default" type="STRING"/>
					<record>
						<CODE>Y</CODE>
						<CODENAME>Y</CODENAME>
					</record>
					<record>
						<CODE>N</CODE>
						<CODENAME>N</CODENAME>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Editable="True" Id="ds_rad_suvprh_list_old" OnColumnChanged="ds_rad_suvprh_list_OnColumnChanged">
				<Contents>
					<colinfo id="MANDT" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRH" size="256" summ="default" type="STRING"/>
					<colinfo id="DATADIV" size="256" summ="default" type="STRING"/>
					<colinfo id="ITEMDIV" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRHNAME" size="256" summ="default" type="STRING"/>
					<colinfo id="INTYPE" size="256" summ="default" type="STRING"/>
					<colinfo id="INPUTYSNO" size="256" summ="default" type="STRING"/>
					<colinfo id="NECYSNO" size="256" summ="default" type="STRING"/>
					<colinfo id="IFNECYSNO" size="256" summ="default" type="STRING"/>
					<colinfo id="CALYSNO" size="256" summ="default" type="STRING"/>
					<colinfo id="MODYYSNO" size="256" summ="default" type="STRING"/>
					<colinfo id="PRHYSNO" size="256" summ="default" type="STRING"/>
					<colinfo id="DWYSNO" size="256" summ="default" type="STRING"/>
					<colinfo id="VIEWYSNO" size="256" summ="default" type="STRING"/>
					<colinfo id="VIEWORDER" size="256" summ="default" type="STRING"/>
					<colinfo id="PRH" size="256" summ="default" type="STRING"/>
					<colinfo id="IFNECST" size="256" summ="default" type="STRING"/>
					<colinfo id="IFNECMSG" size="256" summ="default" type="STRING"/>
					<colinfo id="ERDAT" size="256" summ="default" type="STRING"/>
					<colinfo id="ERZET" size="256" summ="default" type="STRING"/>
					<colinfo id="ERNAM" size="256" summ="default" type="STRING"/>
					<colinfo id="AEDAT" size="256" summ="default" type="STRING"/>
					<colinfo id="AEZET" size="256" summ="default" type="STRING"/>
					<colinfo id="AENAM" size="256" summ="default" type="STRING"/>
					<colinfo id="FLAG" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_CD_I_TYPE">
				<Contents>
					<colinfo id="SUVPRH" size="256" summ="default" type="STRING"/>
					<colinfo id="MANDT" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRHNAME" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRD" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRDNAME" size="256" summ="default" type="STRING"/>
					<colinfo id="VIEWORDER" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRDEXPRES" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_rad_suvprd_list_old">
				<Contents>
					<colinfo id="MANDT" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRH" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRD" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRDNAME" size="256" summ="default" type="STRING"/>
					<colinfo id="VIEWORDER" size="256" summ="default" type="STRING"/>
					<colinfo id="ERDAT" size="256" summ="default" type="STRING"/>
					<colinfo id="ERZET" size="256" summ="default" type="STRING"/>
					<colinfo id="ERNAM" size="256" summ="default" type="STRING"/>
					<colinfo id="AEDAT" size="256" summ="default" type="STRING"/>
					<colinfo id="AEZET" size="256" summ="default" type="STRING"/>
					<colinfo id="AENAM" size="256" summ="default" type="STRING"/>
					<colinfo id="FLAG" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_rad_suvattr_list_old">
				<Contents>
					<colinfo id="MANDT" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRH" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVATTR" size="256" summ="default" type="STRING"/>
					<colinfo id="INORDER" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVPRD" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVATTRID" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVATTRPRD" size="256" summ="default" type="STRING"/>
					<colinfo id="SUVATTRNM" size="256" summ="default" type="STRING"/>
					<colinfo id="CALLFUNC" size="256" summ="default" type="STRING"/>
					<colinfo id="ERDAT" size="256" summ="default" type="STRING"/>
					<colinfo id="ERZET" size="256" summ="default" type="STRING"/>
					<colinfo id="ERNAM" size="256" summ="default" type="STRING"/>
					<colinfo id="AEDAT" size="256" summ="default" type="STRING"/>
					<colinfo id="AEZET" size="256" summ="default" type="STRING"/>
					<colinfo id="AENAM" size="256" summ="default" type="STRING"/>
					<colinfo id="FLAG" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cnt">
				<Contents>
					<colinfo id="CNT" size="256" type="STRING"/>
					<record>
						<CNT></CNT>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cntCond">
				<Contents>
					<colinfo id="CODE1" size="256" type="STRING"/>
					<colinfo id="CODE2" size="256" type="STRING"/>
					<record>
						<CODE1></CODE1>
						<CODE2></CODE2>
					</record>
				</Contents>
			</Dataset>
		</Datasets>
		<Grid AutoFitEndLine="Hide" BindDataset="ds_rad_suvprh_list" BkColor2="default" BoldHead="true" Border="Flat" Bottom="296" ColSizing="TRUE" Editable="TRUE" Enable="true" EndLineColor="default" HeadBorder="Flat" HeadHeight="20" Height="232" Id="grd_suvprh_list" InputPanel="FALSE" Left="8" LineColor="user20" LineType="ExHORZ" OnCellClick="grd_rad_prh_OnCellClick" OnExpandEdit="grd_suvprh_list_OnExpandEdit" Right="957" RowHeight="20" Style="sty_grid" TabOrder="0" TabStop="true" Top="64" UseDBuff="true" UsePopupMenu="true" UseSelColor="true" Visible="true" VLineColor="default" WheelScrollRow="1" Width="949">
			<contents>
				<format id="Default">
					<columns>
						<col width="41"/>
						<col width="81"/>
						<col width="87"/>
						<col width="99"/>
						<col width="144"/>
						<col width="130"/>
						<col width="129"/>
						<col width="129"/>
						<col width="129"/>
						<col width="129"/>
						<col width="129"/>
						<col width="129"/>
						<col width="129"/>
						<col width="129"/>
						<col width="129"/>
						<col width="129"/>
						<col width="129"/>
						<col width="129"/>
						<col width="129"/>
					</columns>
					<head>
						<cell align="center" col="0" color="user21" display="text" font="굴림,9" text="상태"/>
						<cell align="center" col="1" color="user21" display="text" font="굴림,9" text="실측사양"/>
						<cell col="2" color="user21" display="text" font="굴림,9" text="데이터구분"/>
						<cell align="center" col="3" color="user21" display="text" font="굴림,9" text="항목구분"/>
						<cell align="center" col="4" color="user21" display="text" font="굴림,9" text="실측사양명"/>
						<cell align="center" col="5" color="user21" display="text" font="굴림,9" text="입력종류"/>
						<cell col="6" color="user21" display="text" font="굴림,9" text="입력여부"/>
						<cell col="7" color="user21" display="text" font="굴림,9" text="필수여부"/>
						<cell col="8" color="user21" display="text" font="굴림,9" text="조건필수여부"/>
						<cell col="9" color="user21" display="text" font="굴림,9" text="계산식여부"/>
						<cell col="10" color="user21" display="text" font="굴림,9" text="보정입력여부"/>
						<cell col="11" color="user21" display="text" font="굴림,9" text="영업사양반영여부"/>
						<cell col="12" color="user21" display="text" font="굴림,9" text="도면사용여부"/>
						<cell col="13" color="user21" display="text" font="굴림,9" text="화면표시여부"/>
						<cell col="14" color="user21" display="text" font="굴림,9" text="영업사양"/>
						<cell col="15" color="user21" display="text" font="굴림,9" text="화면출력순번"/>
						<cell col="16" color="user21" display="text" font="굴림,9" text="조건필수조건문"/>
						<cell col="17" color="user21" display="text" font="굴림,9" text="체크메시지"/>
						<cell col="18" color="user21" display="text" font="굴림,9" text="등록자"/>
					</head>
					<body>
						<cell bkimageid='expr:gfn_getFlagBkImageID(getColumn(currow,&#32;&quot;FLAG&quot;))' col="0" display="text"/>
						<cell align="center" bkcolor2="user22" col="1" colid="SUVPRH" display="text" edit="normal"/>
						<cell align="center" bkcolor2="user22" col="2" colid="DATADIV" combocol="SUVPRD" combodataset="ds_DATA_DIVS" combotext="SUVPRDEXPRES" display="combo" edit="combo"/>
						<cell align="center" bkcolor2="user22" col="3" colid="ITEMDIV" combocol="SUVPRD" combodataset="ds_DATA_ITEM" combotext="SUVPRDEXPRES" display="combo" edit="combo"/>
						<cell align="left" bkcolor2="user22" col="4" colid="SUVPRHNAME" display="text" edit="normal"/>
						<cell align="center" bkcolor2="user22" col="5" colid="INTYPE" combocol="SUVPRD" combodataset="ds_CD_I_TYPE" combotext="SUVPRDEXPRES" display="combo" edit="combo"/>
						<cell col="6" colid="INPUTYSNO" display="checkbox" edit="checkbox"/>
						<cell col="7" colid="NECYSNO" display="checkbox" edit="checkbox"/>
						<cell col="8" colid="IFNECYSNO" display="checkbox" edit="checkbox"/>
						<cell col="9" colid="CALYSNO" display="checkbox" edit="checkbox"/>
						<cell col="10" colid="MODYYSNO" display="checkbox" edit="checkbox"/>
						<cell col="11" colid="PRHYSNO" display="checkbox" edit="checkbox"/>
						<cell col="12" colid="DWYSNO" display="checkbox" edit="checkbox"/>
						<cell col="13" colid="VIEWYSNO" display="checkbox" edit="checkbox"/>
						<cell col="14" colid="PRH" display="text" expandshow="true"/>
						<cell col="15" colid="VIEWORDER" display="text" edit="integer"/>
						<cell col="16" colid="IFNECST" display="text"/>
						<cell col="17" colid="IFNECMSG" display="text"/>
						<cell col="18" colid="ERNAM" display="text"/>
					</body>
				</format>
			</contents>
		</Grid>
		<Tab Border="Flat" FixedImage="FALSE" Font="굴림,9" Height="264" Id="tab" Left="8" MouseOverColor="user16" OnChanged="tab_OnChanged" SelColor="user15" SelectFont="굴림,9" Style="sty_tab" TabIndex="1" TabOrder="0" Top="304" Width="946">
			<Contents>
				<TabPage BorderColor="black" Height="239" Id="main" ImageEdgeWidth="2" ImageID="tab_main" Left="2" TabOrder="19" Text="실측사양값" Top="23" Width="942">
					<Div Height="468" Id="div_header" Left="2" TabOrder="1" Text="Div0" Width="964">
						<Contents>
							<Button ButtonStyle="TRUE" Cursor="HAND" Height="20" Id="btn_modify" ImageID="btn_sub_02" Left="800" LeftMargin="12" OnClick="fn_save_suvprd" Style="sty_btn" TabOrder="13" Text="저장" Top="3" Transparent="TRUE" Width="47"></Button>
							<Button Cursor="HAND" Height="20" Id="Button10" ImageID="btn_icon_plus" Left="886" LeftMargin="12" OnClick="fn_plus2" Style="sty_btn" TabOrder="13" Top="3" Transparent="TRUE" Width="22"></Button>
							<Button Cursor="HAND" Height="20" Id="Button11" ImageID="btn_icon_minus" Left="916" LeftMargin="12" OnClick="fn_minus2" Style="sty_btn" TabOrder="12" Top="1" Transparent="TRUE" Width="22"></Button>
							<Grid AutoFitEndLine="Hide" BindDataset="ds_rad_suvprd_list" BkColor2="default" BoldHead="true" Border="Flat" Bottom="233" ColSizing="TRUE" Editable="TRUE" Enable="true" EndLineColor="default" HeadBorder="Flat" HeadHeight="20" Height="208" Id="grd_suvprd_list" InputPanel="FALSE" Left="4" LineColor="user20" LineType="ExHORZ" Right="932" RowHeight="20" Style="sty_grid" TabOrder="1" TabStop="true" Top="25" UseDBuff="true" UsePopupMenu="true" UseSelColor="true" Visible="true" VLineColor="default" WheelScrollRow="1" Width="928">
								<contents>
									<format id="Default">
										<columns>
											<col width="41"/>
											<col width="117"/>
											<col width="187"/>
											<col width="109"/>
											<col width="129"/>
										</columns>
										<head>
											<cell align="center" col="0" color="user21" display="text" font="굴림,9" text="상태"/>
											<cell align="center" col="1" color="user21" display="text" font="굴림,9" text="실측사양값"/>
											<cell col="2" color="user21" display="text" font="굴림,9" text="실측사양값명"/>
											<cell align="center" col="3" color="user21" display="text" font="굴림,9" text="화면출력순번"/>
											<cell col="4" color="user21" display="text" font="굴림,9" text="등록자"/>
										</head>
										<body>
											<cell bkimageid='expr:gfn_getFlagBkImageID(getColumn(currow,&#32;&quot;FLAG&quot;))' col="0" display="text"/>
											<cell align="center" bkcolor2="user22" col="1" colid="SUVPRD" display="text" edit="normal"/>
											<cell align="center" bkcolor2="user22" col="2" colid="SUVPRDNAME" display="text" edit="normal"/>
											<cell align="center" bkcolor2="user22" col="3" colid="VIEWORDER" display="text" edit="integer"/>
											<cell col="4" colid="ERNAM" display="text"/>
										</body>
									</format>
								</contents>
							</Grid>
						</Contents>
					</Div>
				</TabPage>
				<TabPage BorderColor="black" Height="239" Id="template" ImageEdgeWidth="2" ImageID="tab_main" Left="2" TabOrder="26" Text="실측사양속성값" Top="23" Width="942">
					<Button Cursor="HAND" Height="20" Id="Button9" ImageID="btn_icon_plus" Left="886" LeftMargin="12" OnClick="fn_plus_attr" Style="sty_btn" TabOrder="13" Top="3" Transparent="TRUE" Width="22"></Button>
					<Button Cursor="HAND" Height="20" Id="Button8" ImageID="btn_icon_minus" Left="910" LeftMargin="12" OnClick="fn_minus_attr" Style="sty_btn" TabOrder="12" Top="3" Transparent="TRUE" Width="22"></Button>
					<Grid AutoFitEndLine="Hide" BindDataset="ds_rad_suvattr_list" BkColor2="default" BoldHead="true" Border="Flat" Bottom="233" ColSizing="TRUE" Editable="TRUE" Enable="true" EndLineColor="default" HeadBorder="Flat" HeadHeight="20" Height="208" Id="grd_suvatrr_list" InputPanel="FALSE" Left="6" LineColor="user20" LineType="ExHORZ" Right="934" RowHeight="20" Style="sty_grid" TabOrder="1" TabStop="true" Top="25" UseDBuff="true" UsePopupMenu="true" UseSelColor="true" Visible="true" VLineColor="default" WheelScrollRow="1" Width="928">
						<contents>
							<format id="Default">
								<columns>
									<col width="41"/>
									<col width="117"/>
									<col width="187"/>
									<col width="124"/>
									<col width="129"/>
								</columns>
								<head>
									<cell align="center" col="0" color="user21" display="text" font="굴림,9" text="상태"/>
									<cell align="center" col="1" color="user21" display="text" font="굴림,9" text="실측사양속성"/>
									<cell col="2" color="user21" display="text" font="굴림,9" text="실측사양속성ID"/>
									<cell col="3" color="user21" display="text" font="굴림,9" text="실측사양속성값"/>
									<cell align="center" col="4" color="user21" display="text" font="굴림,9" text="실측사양속성명"/>
									<cell col="5" color="user21" display="text" font="굴림,9" text="등록자"/>
								</head>
								<body>
									<cell bkimageid='expr:gfn_getFlagBkImageID(getColumn(currow,&#32;&quot;FLAG&quot;))' col="0" display="text"/>
									<cell align="center" bkcolor2="user22" col="1" colid="SUVATTR" display="text" edit="normal"/>
									<cell align="center" bkcolor2="user22" col="2" colid="SUVATTRID" display="text" edit="normal"/>
									<cell align="center" bkcolor2="user22" col="3" colid="SUVATTRPRD" display="text" edit="normal"/>
									<cell align="center" bkcolor2="user22" col="4" colid="SUVATTRNM" display="text" edit="normal"/>
									<cell col="5" colid="ERNAM" display="text"/>
								</body>
							</format>
						</contents>
					</Grid>
					<Button ButtonStyle="TRUE" Cursor="HAND" Height="20" Id="btn_modify" ImageID="btn_sub_02" Left="806" LeftMargin="12" OnClick="fn_save_suvprdattr" Style="sty_btn" TabOrder="4" Text="저장" Top="1" Transparent="TRUE" Width="47"></Button>
				</TabPage>
			</Contents>
		</Tab>
		<Shape BKColor="user0" Bottom="32" Height="32" Id="Shape0" Left="-2" LineColor="user1" Right="976" TabOrder="3" Top="0" Type="Rectangle" Width="978"></Shape>
		<Edit BindDataset="ds_cond" Border="Flat" CheckLength="Byte" Column="SUVPRH" Height="20" Id="ed_qtnum" ImeMode="english" Left="110" MaxLength="10" Style="sty_ipt_search" TabOrder="4" Top="5" UpperOnly="TRUE" Width="78"></Edit>
		<Static Align="Right" Height="20" Id="st_yymm" Left="11" Style="sty_lb_search" TabOrder="5" Text="실측사양&#32;" Top="6" VAlign="Middle" Width="100"></Static>
		<Static Align="Right" Height="20" Id="Static0" Left="195" Style="sty_lb_search" TabOrder="6" Text="데이터구분" Top="5" VAlign="Middle" Width="100"></Static>
		<Combo BindDataset="ds_cond" Border="Flat" CodeColumn="SUVPRD" Column="DATADIV" DataColumn="SUVPRDNAME" Height="20" Id="cb_zzpmnum" InnerDataset="ds_DATA_DIVS" Left="295" Style="sty_ipt_search" TabOrder="7" Top="4" Width="104"></Combo>
		<Static Align="Right" Height="20" Id="Static1" Left="404" Style="sty_lb_search" TabOrder="8" Text="항목구분" Top="5" VAlign="Middle" Width="100"></Static>
		<Combo BindDataset="ds_cond" Border="Flat" CodeColumn="SUVPRD" Column="ITEMDIV" DataColumn="SUVPRDNAME" Height="20" Id="Combo0" InnerDataset="ds_DATA_ITEM" Left="505" Style="sty_ipt_search" TabOrder="9" Top="4" Width="104"></Combo>
		<Static Align="Right" Height="20" Id="Static2" Left="616" Style="sty_lb_search" TabOrder="11" Text="실측사양명&#32;" Top="5" VAlign="Middle" Width="100"></Static>
		<Edit BindDataset="ds_cond" Border="Flat" CheckLength="Byte" Column="SUVPRHNAME" Height="20" Id="Edit0" ImeMode="english" Left="720" MaxLength="10" Style="sty_ipt_search" TabOrder="10" Top="8" UpperOnly="TRUE" Width="126"></Edit>
		<Button ButtonStyle="TRUE" Cursor="HAND" Height="20" Id="btn_input" ImageID="btn_sub_02" Left="856" LeftMargin="12" OnClick="fn_input_main" Style="sty_btn" TabOrder="12" Text="입력" Top="40" Transparent="TRUE" Width="47"></Button>
		<Button ButtonStyle="TRUE" Cursor="HAND" Height="20" Id="Button0" ImageID="btn_sub_02" Left="912" LeftMargin="12" OnClick="fn_delete_main" Style="sty_btn" TabOrder="13" Text="삭제" Top="40" Transparent="TRUE" Width="47"></Button>
	</Form>
	<Script><![CDATA[/*
 ******************************************************************************************
 * 기      능   : 실측사양 등록
 * 작  성  자   : 홍길동
 * 작성  일자   : 2020-09-07
 * ----------------------------------------------------------------------------------------
 * HISTORY    :
 ******************************************************************************************
 */
#include "LIB::commons.js";
#include "LIB::nsfRequest.js";
#include "LIB::common_hdel.js";
#include "LIB::utility.js";	// 다중 선택

//=========================================================================================
// [ PART 1 ]
// Form에서 사용될 전역변수를 선언
// FORM에서 사용되는 전역변수는 대문자로 작성하며, F_XXX 의 형태를 갖도록 한다. 
//=========================================================================================

//=========================================================================================
// [ PART 2 ]
// Form Loading / Unloading 시 작업 정의
//=========================================================================================
function fn_OnLoadCompleted(obj) {
	//div_btn.fn_loadUseBtn("1,30,900", F_TITLE, "", "");
    gfn_initForm();
	fn_init_form();
	fn_query();
}

/********************************************************************************
* 기      능   : form UnloadCompleted 
********************************************************************************/
function fn_OnUnloadCompleted(obj) {
	return gfn_isFormUnload(obj);
}

/********************************************************************************
* 기      능   : 폼 초기화
********************************************************************************/
function fn_init_form() {
	fn_query_code("DATA_DIVS,DATA_ITEM,CD_I_TYPE");
}

/********************************************************************************
* 기      능   : 폼초기화 공통 정보 조회 initComs040 initSbi0100
********************************************************************************/
function fn_initQuery() {
}

/********************************************************************************
* 기      능   : 닫기  
********************************************************************************/
function fn_close() {
	this.close();
}


/********************************************************************************
* 기      능   : plus_main
********************************************************************************/
function fn_plus_main() {
	// 그리드에 row 추가 
	var newRow = gfn_addGridRow(grd_suvprh_list, -1, "FLAG");
}

/********************************************************************************
* 기      능   : plus
********************************************************************************/
function fn_plus() {
	// 그리드에 row 추가 
	var newRow = gfn_addGridRow(grd_suvattr_list, -1, "FLAG");
}
/********************************************************************************
* 기      능   : minus
********************************************************************************/
function fn_minus() {
	ds_list.fireevent = false;
	if ( ds_list.rowCount() == 0 ) {
		// 삭제할 자료 선택 
		// CW00013=처리할 자료를 먼저 선택해 주십시오.
		gfn_showMsg("CW00013");
		return;
	}	
	if(ds_list.GetColumn(ds_list.currow,"FLAG")=="I"){		
		ds_list.DeleteRow(ds_list.currow);
	}	
	else{	
		//ds_list.updatecontrol = false;				
		//ds_list.SetRowType(ds_list.currow,"Delete");
		ds_list.SetColumn(ds_list.currow,"FLAG","D");	
		//ds_list.updatecontrol = true;				
	}
	ds_list.fireevent = true;
}

// 값이 변경됐을 경우 표시
function ds_rad_suvprh_list_OnColumnChanged(obj,nRow,strColumnID,varOldValue,varNewValue,nPivotIndex) {
		
		var strOldRow = ds_rad_suvprh_list_old.GetColumn(nRow, "MANDT");
		strOldRow = strOldRow+"^"+ds_rad_suvprh_list_old.GetColumn(nRow, "SUVPRH");
		strOldRow = strOldRow+"^"+ds_rad_suvprh_list_old.GetColumn(nRow, "DATADIV");
		strOldRow = strOldRow+"^"+ds_rad_suvprh_list_old.GetColumn(nRow, "ITEMDIV");
		strOldRow = strOldRow+"^"+ds_rad_suvprh_list_old.GetColumn(nRow, "SUVPRHNAME");
		strOldRow = strOldRow+"^"+ds_rad_suvprh_list_old.GetColumn(nRow, "INTYPE");
		strOldRow = strOldRow+"^"+ds_rad_suvprh_list_old.GetColumn(nRow, "INPUTYSNO");
		strOldRow = strOldRow+"^"+ds_rad_suvprh_list_old.GetColumn(nRow, "NECYSNO");
		strOldRow = strOldRow+"^"+ds_rad_suvprh_list_old.GetColumn(nRow, "IFNECYSNO");
		strOldRow = strOldRow+"^"+ds_rad_suvprh_list_old.GetColumn(nRow, "CALYSNO");
		strOldRow = strOldRow+"^"+ds_rad_suvprh_list_old.GetColumn(nRow, "MODYYSNO");
		strOldRow = strOldRow+"^"+ds_rad_suvprh_list_old.GetColumn(nRow, "PRHYSNO");
		strOldRow = strOldRow+"^"+ds_rad_suvprh_list_old.GetColumn(nRow, "DWYSNO");
		strOldRow = strOldRow+"^"+ds_rad_suvprh_list_old.GetColumn(nRow, "VIEWYSNO");
		strOldRow = strOldRow+"^"+ds_rad_suvprh_list_old.GetColumn(nRow, "VIEWORDER");
		strOldRow = strOldRow+"^"+ds_rad_suvprh_list_old.GetColumn(nRow, "PRH");
		strOldRow = strOldRow+"^"+ds_rad_suvprh_list_old.GetColumn(nRow, "IFNECST");
		strOldRow = strOldRow+"^"+ds_rad_suvprh_list_old.GetColumn(nRow, "IFNECMSG");
		strOldRow = strOldRow+"^"+ds_rad_suvprh_list_old.GetColumn(nRow, "ERDAT");
		strOldRow = strOldRow+"^"+ds_rad_suvprh_list_old.GetColumn(nRow, "ERZET");
		strOldRow = strOldRow+"^"+ds_rad_suvprh_list_old.GetColumn(nRow, "ERNAM");
		strOldRow = strOldRow+"^"+ds_rad_suvprh_list_old.GetColumn(nRow, "AEDAT");
		strOldRow = strOldRow+"^"+ds_rad_suvprh_list_old.GetColumn(nRow, "AEZET");
		strOldRow = strOldRow+"^"+ds_rad_suvprh_list_old.GetColumn(nRow, "AENAM");
		
		var strNewRow = obj.GetColumn(nRow, "MANDT");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "SUVPRH");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "DATADIV");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "ITEMDIV");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "SUVPRHNAME");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "INTYPE");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "INPUTYSNO");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "NECYSNO");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "IFNECYSNO");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "CALYSNO");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "MODYYSNO");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "PRHYSNO");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "DWYSNO");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "VIEWYSNO");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "VIEWORDER");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "PRH");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "IFNECST");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "IFNECMSG");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "ERDAT");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "ERZET");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "ERNAM");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "AEDAT");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "AEZET");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "AENAM");
		
		if(ds_rad_suvprh_list.GetColumn(nRow,"FLAG") =="I") {
		
		} else {
		
			if(trim(strOldRow) != trim(strNewRow)) {
				
				ds_rad_suvprh_list.SetColumn(nRow, "FLAG", "U");
			}else {
				ds_rad_suvprh_list.SetColumn(nRow, "FLAG", "");
			}
		}
		
	// }
}


// 상위 그리드의 쿼리 실행

function fn_query() {

  tit_clearActionInfo();
  tit_addSearchActionInfo("ps11:PS1130001A_S1");
  
  // TODO 실제로 값 전달하고 받아 오도록 작성하기
  
                
  
	//TRACE(ds_master.SaveXML());
	
	

	ds_cond2.ClearData();
	ds_rad_suvprh_list.ClearData();
	ds_cond2.AddRow();
	ds_cond2.setColumn(0, "SUVPRH", ds_cond.GetColumnNF(0,"SUVPRH"));
	ds_cond2.setColumn(0, "SUVPRHNAME", ds_cond.GetColumnNF(0,"SUVPRHNAME"));
	ds_cond2.setColumn(0, "ITEMDIV", ds_cond.GetColumnNF(0,"ITEMDIV"));
	ds_cond2.setColumn(0, "DATADIV", ds_cond.GetColumnNF(0,"DATADIV"));
	//TRACE(ds_cond.SaveXML());
	//ds_cond.setColumn(0, "BIGO", ds_list_tmp.GetColumn(i, "BIGO"))
  
  	 tit_callService(
        ""
        , ""
        , "ds_cond=ds_cond2"
        , "ds_rad_suvprh_list=ds_rad_suvprh_list"
        , ""
        , "fn_query_After"
        , ""
        , ""
        , true);
        
        //trace("result : " + ds_rad_suvprh_list.SaveXML());
        //TRACE(ds_rad_list.SaveXML());
}

// 불러온 데이터를 Old 값으로 서장한다. 
function fn_query_After() {

	ds_rad_suvprh_list_old.copy(ds_rad_suvprh_list);

}


//마스트 그리드 클릭 했을때
function grd_rad_prh_OnCellClick(obj,nRow,nCell,nX,nY,nPivotIndex)
{

	//사양값
	fn_query2(nRow);
	//속성값
	fn_query3(nRow);
	
}


function fn_query2(nRow) {

  tit_clearActionInfo();
  tit_addSearchActionInfo("ps11:PS1130001A_S2");
  
  // TODO 실제로 값 전달하고 받아 오도록 작성하기
  
                
  
	//TRACE(ds_master.SaveXML());
	
	

	ds_cond2.ClearData();
	ds_rad_suvprd_list.ClearData();
	ds_cond2.AddRow();
	ds_cond2.setColumn(0, "SUVPRH", ds_rad_suvprh_list.GetColumnNF(nRow,"SUVPRH"));
	//TRACE(ds_cond.SaveXML());
	//ds_cond.setColumn(0, "BIGO", ds_list_tmp.GetColumn(i, "BIGO"))
  
  	 tit_callService(
        ""
        , ""
        , "ds_cond=ds_cond2"
        , "ds_rad_suvprd_list=ds_rad_suvprd_list"
        , ""
        , "fn_query2_After"
        , ""
        , ""
        , true);
        
        //trace("result : " + ds_rad_suvprd_list.SaveXML());
        //TRACE(ds_rad_list.SaveXML());
        
}

function fn_query2_After() {

	ds_rad_suvprd_list_old.copy(ds_rad_suvprd_list);

}


function fn_query3(nRow) {

  tit_clearActionInfo();
  tit_addSearchActionInfo("ps11:PS1130001A_S3");
  
  // TODO 실제로 값 전달하고 받아 오도록 작성하기
  
                
  
	//TRACE(ds_master.SaveXML());
	
	

	ds_cond2.ClearData();
	ds_rad_suvattr_list.ClearData();
	ds_cond2.AddRow();
	ds_cond2.AddRow();
	ds_cond2.setColumn(0, "SUVPRH", ds_rad_suvprh_list.GetColumnNF(nRow,"SUVPRH"));
	//TRACE(ds_cond2.SaveXML());
	//ds_cond.setColumn(0, "BIGO", ds_list_tmp.GetColumn(i, "BIGO"))
  
  	 tit_callService(
        ""
        , ""
        , "ds_cond=ds_cond2"
        , "ds_rad_suvattr_list=ds_rad_suvattr_list"
        , ""
        , "fn_query3_After"
        , ""
        , ""
        , true);
        
       // trace("result : " + ds_rad_suvattr_list.SaveXML());
       //TRACE(ds_rad_list.SaveXML());
}

function fn_query3_After() {

	ds_rad_suvattr_list_old.copy(ds_rad_suvattr_list);

}

/********************************************************************************
* 쿼리  : 코드 조회 : CWT 위치
********************************************************************************/
function fn_query_code(code) {

	var arr = split(code, ",");
	for(var i = 0; i < arr.length(); i++) {
		ds_cond_code.ClearData();
		ds_cond_code.AppendRow();
		ds_cond_code.SetColumn(0, "MANDT", G_MANDT);
		ds_cond_code.SetColumn(0, "SUVPRH", arr[i]);
		
		tit_clearActionInfo();
		tit_addSearchActionInfo("ps11:PS1120001A_S3"); // 헤더 조회
		
		tit_callService(""
		    			,""
						,"ds_cond=ds_cond_code"
						,"ds_dummy=ds_dummy"
						,""
						,"fn_afterQuery_code"
						,""
						,""
						,true);
	}
}

/********************************************************************************
* 기      능   : 코드 조회 Callback  
********************************************************************************/
function fn_afterQuery_code(errCode, errMsg) {
	object("ds_"+ds_cond_code.GetColumn(0, "SUVPRH")).AppendRow();
	object("ds_"+ds_cond_code.GetColumn(0, "SUVPRH")).copy(ds_dummy);
	object("ds_"+ds_cond_code.GetColumn(0, "SUVPRH")).saveXML();
}


// 실측 사양값에 로우 추가
function fn_plus2(obj)
{
	// 그리드에 row 추가 
	var newRow = ds_rad_suvprd_list.AddRow();
	ds_rad_suvprd_list.SetColumn(newRow,"FLAG", "I");
}


///수정,입력 필수 체크하는 함수
function fn_checkModifyList_Prh(){
    if(!ds_rad_suvprh_list.GetUpdate()) {
        gfn_openMsgWin("수정된 실측사양이 없습니다.", "I");
        return false;
    }

	for(var i=0;i<ds_rad_suvprh_list.GetRowCount();i++){
	    if(ds_rad_suvprh_list.GetColumn(i,"DATADIV") != "EL") {
			if(ds_rad_suvprh_list.GetColumn(i,"SUVPRH")==null || ds_rad_suvprh_list.GetColumn(i,"SUVPRH")==""){
				gfn_showAlert("CW00001", "실측사양");		
				return false;		
			}
			
			if(ds_rad_suvprh_list.GetColumn(i,"SUVPRHNAME")==null || ds_rad_suvprh_list.GetColumn(i,"SUVPRHNAME")==""){
				gfn_showAlert("CW00001", "실측사양명");		
				return false;		
			}

			if(ds_rad_suvprh_list.GetColumn(i,"VIEWORDER")==null || ds_rad_suvprh_list.GetColumn(i,"VIEWORDER")==""){
				gfn_showAlert("CW00001", "화면출력순번");		
				return false;		
			}

			if(ds_rad_suvprh_list.GetColumn(i,"FLAG")=="I") {
				fn_existCheck_prh(Trim(ds_rad_suvprh_list.GetColumn(i,"SUVPRH")));
				if(ds_cnt.GetColumn(0,"CNT")!="0"){
					gfn_showAlert("CW00040", ds_rad_suvprh_list.GetColumn(i,"SUVPRH"));		
					return false;				
				}
			}
	    }
	}

	if ( !gfn_isChangeDs(ds_rad_suvprh_list, true, "FLAG") ) {
		return false;
	}

	return true;
}


function fn_existCheck_prh(code1){
	ds_cntCond.SetColumn(0,"CODE1",code1);
	tit_clearActionInfo();
	tit_addSearchActionInfo("ps11:PS1130001A_S4");
		
	tit_callService(
		""
		, ""
		, "ds_cntCond=ds_cntCond"
		, "ds_cnt=ds_cnt"
		, ""
		, ""
		, true
		, true
		, true);
	
}



//마스터  그리드 저장
function fn_save()
{

	if(fn_checkModifyList_Prh()) {
		tit_clearActionInfo();
		tit_addSaveActionInfo(
			"ps11:PS1130001A_I2"
			, "ps11:PS1130001A_I2"
			, "ps11:PS1130001A_D2"
			, "FLAG"
			);
			
			//trace(ds_rad_suvprh_list.SaveXML());
	
		// 저장 처리 
		tit_callService(
			""
			, ""
			, "ds_list=ds_rad_suvprh_list:A"
			, ""
			, ""
			, "fn_afterModify_prh"
			, true
			, true
			, true			        
			);
	}
	
}


function fn_afterModify_prh(errCode, errMsg){
	fn_afterSave(errCode, errMsg);
}


/********************************************************************************
* 기      능   : 저장 Callback  
********************************************************************************/
function fn_afterSave(errCode, errMsg) {
	if(errCode != "0") {
		gfn_showAlert("CE00001");
		
	}else {
		gfn_showAlert("CI00003");
		fn_query_code("DATA_DIVS,DATA_ITEM,CD_I_TYPE");
		
		fn_query();
		fn_query2();
		fn_query3();
	}
}



//수정,입력 필수 체크하는 함수
function fn_checkModifyList_Prd(){
	for(var i=0;i<ds_rad_suvprd_list.GetRowCount();i++){
		if(ds_rad_suvprd_list.GetColumn(i,"SUVPRD")==null || ds_rad_suvprd_list.GetColumn(i,"SUVPRD")==""){
			gfn_showAlert("CW00001", "실측사양값");		
			return false;		
		}
		if(ds_rad_suvprd_list.GetColumn(i,"SUVPRDNAME")==null || ds_rad_suvprd_list.GetColumn(i,"SUVPRDNAME")==""){
			gfn_showAlert("CW00001", "실측사양값명");		
			return false;		
		}
		
		if(ds_rad_suvprd_list.GetColumn(i,"VIEWORDER")==null || ds_rad_suvprd_list.GetColumn(i,"VIEWORDER")==""){
			gfn_showAlert("CW00001", "입력순번");		
			return false;		
		}
		
		if(ds_rad_suvprd_list.GetColumn(i,"FLAG")=="I") {
			var code11 = Trim(ds_rad_suvprh_list.GetColumn(ds_rad_suvprh_list.currow,"SUVPRH"));
			var code22 = Trim(ds_rad_suvprd_list.GetColumn(i,"SUVPRD"));
			fn_existCheck_prd(code11,code22 );				
			
			if(ds_cnt.GetColumn(0,"CNT")!="0"){
				gfn_showAlert("CW00040", ds_rad_suvprd_list.GetColumn(i,"SUVPRD"));		
				return false;
			}
		}
		
	}
	if ( !gfn_isChangeDs(ds_rad_suvprd_list, true, "FLAG") ) {
		return false;
	}

	return true;
}

function fn_existCheck_prd(code1,code2){
	ds_cntCond.SetColumn(0,"CODE1",code1);
	ds_cntCond.SetColumn(0,"CODE2",code2);
	tit_clearActionInfo();
	tit_addSearchActionInfo("ps11:PS1130001A_S5");
		
	tit_callService(
		""
		, ""
		, "ds_cntCond=ds_cntCond"
		, "ds_cnt=ds_cnt"
		, ""
		, ""
		, true
		, true
		, true);
	
}


function fn_save_suvprd(obj)
{
	
		if(fn_checkModifyList_Prd()) {
	
			tit_clearActionInfo();
			tit_addSaveActionInfo(
				"ps11:PS1130001A_I1"
				, "ps11:PS1130001A_I1"
				, "ps11:PS1130001A_D1"
				, "FLAG"
				);
				
				//ds_rad_suvprd_list.SaveXML());
		
			// 저장 처리 
			tit_callService(
				""
				, ""
				, "ds_list=ds_rad_suvprd_list:A"
				, ""
				//, "WSUVPRH="+quote(ds_rad_suvprh_list.GetColumn(ds_rad_suvprh_list.currow,"SUVPRH"))+" CTEXT1="+quote(ed_codeName.Text)+" LANG="+quote(cb_lang.Value)
				, "WSUVPRH="+quote(ds_rad_suvprh_list.GetColumn(ds_rad_suvprh_list.currow,"SUVPRH"))
				, "fn_afterModify_prd"        
				);	
		}
	
}

function fn_afterModify_prd(errCode,errMsg){
	fn_afterSave(errCode,errMsg);
}

/********************************************************************************
* 기      능   : 추가 
********************************************************************************/

function fn_input_main(obj)
{
	// 그리드에 row 추가 
	var newRow = ds_rad_suvprh_list.AddRow();
	ds_rad_suvprh_list.SetColumn(newRow,"FLAG", "I");
}


/********************************************************************************
* 기      능   : 삭제
********************************************************************************/

function fn_delete_main(obj)
{
	ds_rad_suvprh_list.fireevent = false;
	if ( ds_rad_suvprh_list.rowCount() == 0 ) {
		// 삭제할 자료 선택 
		// CW00013=처리할 자료를 먼저 선택해 주십시오.
		gfn_showMsg("CW00013");
		return;
	}	
	if(ds_rad_suvprh_list.GetColumn(ds_rad_suvprh_list.currow,"FLAG")=="I"){		
		ds_rad_suvprh_list.DeleteRow(ds_rad_suvprh_list.currow);
	}	
	else{	
		//ds_list.updatecontrol = false;				
		//ds_list.SetRowType(ds_list.currow,"Delete");
		if(ds_rad_suvprd_list.count + ds_rad_suvattr_list.count == 0 ) {
		ds_rad_suvprh_list.SetColumn(ds_rad_suvprh_list.currow,"FLAG","D");	
		} else {
			alert("실측 사양 값 또는 실측 사양 속성 값이 존재 합니다. ");
			return false;
		}
		//ds_list.updatecontrol = true;				
	}
	ds_rad_suvprh_list.fireevent = true;
}

function fn_minus2(obj)
{

	ds_rad_suvprd_list.fireevent = false;
	if ( ds_rad_suvprd_list.rowCount() == 0 ) {
		// 삭제할 자료 선택 
		// CW00013=처리할 자료를 먼저 선택해 주십시오.
		gfn_showMsg("CW00013");
		return;
	}	
	if(ds_rad_suvprd_list.GetColumn(ds_rad_suvprd_list.currow,"FLAG")=="I"){		
		ds_rad_suvprd_list.DeleteRow(ds_rad_suvprd_list.currow);
	}	
	else{	
		//ds_list.updatecontrol = false;				
		//ds_list.SetRowType(ds_list.currow,"Delete");
		ds_rad_suvprd_list.SetColumn(ds_rad_suvprd_list.currow,"FLAG","D");	
		//ds_list.updatecontrol = true;				
	}
	ds_rad_suvprd_list.fireevent = true;
	
}

//사양값 데이터 처리시 변경 기능.
function ds_rad_suvprd_list_OnColumnChanged(obj,nRow,strColumnID,varOldValue,varNewValue,nPivotIndex)
{
		
		var strOldRow = ds_rad_suvprd_list_old.GetColumn(nRow, "MANDT");
		strOldRow = strOldRow+"^"+ds_rad_suvprd_list_old.GetColumn(nRow, "SUVPRH");
		strOldRow = strOldRow+"^"+ds_rad_suvprd_list_old.GetColumn(nRow, "SUVPRD");
		strOldRow = strOldRow+"^"+ds_rad_suvprd_list_old.GetColumn(nRow, "SUVPRDNAME");
		strOldRow = strOldRow+"^"+ds_rad_suvprd_list_old.GetColumn(nRow, "VIEWORDER");
		strOldRow = strOldRow+"^"+ds_rad_suvprd_list_old.GetColumn(nRow, "ERDAT");
		strOldRow = strOldRow+"^"+ds_rad_suvprd_list_old.GetColumn(nRow, "ERZET");
		strOldRow = strOldRow+"^"+ds_rad_suvprd_list_old.GetColumn(nRow, "ERNAM");
		strOldRow = strOldRow+"^"+ds_rad_suvprd_list_old.GetColumn(nRow, "AEDAT");
		strOldRow = strOldRow+"^"+ds_rad_suvprd_list_old.GetColumn(nRow, "AEZET");
		strOldRow = strOldRow+"^"+ds_rad_suvprd_list_old.GetColumn(nRow, "AENAM");
		
		
		var strNewRow = obj.GetColumn(nRow, "MANDT");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "SUVPRH");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "SUVPRD");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "SUVPRDNAME");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "VIEWORDER");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "ERDAT");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "ERZET");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "ERNAM");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "AEDAT");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "AEZET");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "AENAM");
		
		if(ds_rad_suvprd_list.GetColumn(nRow,"FLAG") =="I") {
		
		} else {
		
			if(trim(strOldRow) != trim(strNewRow)) {
				ds_rad_suvprd_list.SetColumn(nRow, "FLAG", "U");
				//trace(obj.SaveXML());
			}else {
				ds_rad_suvprd_list.SetColumn(nRow, "FLAG", "");
			}
		}
}


function fn_existCheck_attr(code1,code2,code3){
	ds_cntCond.SetColumn(0,"CODE1",code1);
	ds_cntCond.SetColumn(0,"CODE2",code2);
	ds_cntCond.SetColumn(0,"CODE3",code3);
	tit_clearActionInfo();
	tit_addSearchActionInfo("ps11:PS1130001A_S6");
		
	tit_callService(
		""
		, ""
		, "ds_cntCond=ds_cntCond"
		, "ds_cnt=ds_cnt"
		, ""
		, ""
		, true
		, true
		, true);
	
}


//실측 샤앙 속성 값 저장
function fn_save_suvprdattr(obj)
{

	if(fn_checkModifyList_Attr()) {

		tit_clearActionInfo();
		tit_addSaveActionInfo(
			"ps11:PS1130001A_I3"
			, "ps11:PS1130001A_I3"
			, "ps11:PS1130001A_D3"
			, "FLAG"
			);
			
		// 저장 처리 
		tit_callService(
			""
			, ""
			, "ds_list=ds_rad_suvattr_list:A"
			, ""
			//, "WSUVPRH="+quote(ds_rad_suvprh_list.GetColumn(ds_rad_suvprh_list.currow,"SUVPRH"))+" CTEXT1="+quote(ed_codeName.Text)+" LANG="+quote(cb_lang.Value)
			, "WSUVPRH="+quote(ds_rad_suvprh_list.GetColumn(ds_rad_suvprh_list.currow,"SUVPRH"))
			, "fn_afterModify_attr"        
			);
	}
	
}


function fn_afterModify_attr(errCode,errMsg){
	fn_afterSave(errCode,errMsg);
}

//수정,입력 필수 체크하는 함수
function fn_checkModifyList_Attr(){
	for(var i=0;i<ds_rad_suvattr_list.GetRowCount();i++){
		if(ds_rad_suvattr_list.GetColumn(i,"SUVATTR")==null || ds_rad_suvattr_list.GetColumn(i,"SUVATTR")==""){
			gfn_showAlert("CW00001", "실측사양속성");		
			return false;		
		}
		if(ds_rad_suvattr_list.GetColumn(i,"SUVATTRNM")==null || ds_rad_suvattr_list.GetColumn(i,"SUVATTRNM")==""){
			gfn_showAlert("CW00001", "실측사양속성명");		
			return false;		
		}
		// 입력 순번은 기존 자료의 입력 순번 + 1
		/*
			if(ds_rad_suvattr_list.GetColumn(i,"INORDER")==null || ds_rad_suvattr_list.GetColumn(i,"INORDER")==""){
				gfn_showAlert("CW00001", "입력순번");		
				return false;		
			}
		*/
		
		// 입력체크시에는 중복 체크 안함
		/*
		
			if(ds_rad_suvattr_list.GetColumn(i,"FLAG")=="I") {
				trace("=========");
				var code11 = Trim(ds_rad_suvprh_list.GetColumn(ds_rad_suvprh_list.currow,"SUVPRH"));
				var code22 = Trim(ds_rad_suvattr_list.GetColumn(i,"SUVATTR"));
				var code33 = Trim(ds_rad_suvattr_list.GetColumn(i,"INORDER"));
				fn_existCheck_attr(code11,code22,code33 );				
				trace("=========");
				
				if(ds_cnt.GetColumn(0,"CNT")!="0"){
				
					gfn_showAlert("CW00040", ds_rad_suvattr_list.GetColumn(i,"SUVATTR"));		
					return false;
									
				}
			}	
		*/
		
		
	}
	if ( !gfn_isChangeDs(ds_rad_suvattr_list, true, "FLAG") ) {
		return false;
	}

	return true;
}


function ds_rad_suvattr_list_OnColumnChanged(obj,nRow,strColumnID,varOldValue,varNewValue,nPivotIndex)
{

		var strOldRow = ds_rad_suvattr_list_old.GetColumn(nRow, "MANDT");
		strOldRow = strOldRow+"^"+ds_rad_suvattr_list_old.GetColumn(nRow, "SUVPRH");
		strOldRow = strOldRow+"^"+ds_rad_suvattr_list_old.GetColumn(nRow, "SUVATTR");
		strOldRow = strOldRow+"^"+ds_rad_suvattr_list_old.GetColumn(nRow, "INORDER");		
		strOldRow = strOldRow+"^"+ds_rad_suvattr_list_old.GetColumn(nRow, "SUVPRD");
		strOldRow = strOldRow+"^"+ds_rad_suvattr_list_old.GetColumn(nRow, "SUVATTRID");
		strOldRow = strOldRow+"^"+ds_rad_suvattr_list_old.GetColumn(nRow, "SUVATTRPRD");
		strOldRow = strOldRow+"^"+ds_rad_suvattr_list_old.GetColumn(nRow, "SUVATTRNM");
		strOldRow = strOldRow+"^"+ds_rad_suvattr_list_old.GetColumn(nRow, "CALLFUNC");
		strOldRow = strOldRow+"^"+ds_rad_suvattr_list_old.GetColumn(nRow, "ERDAT");
		strOldRow = strOldRow+"^"+ds_rad_suvattr_list_old.GetColumn(nRow, "ERZET");
		strOldRow = strOldRow+"^"+ds_rad_suvattr_list_old.GetColumn(nRow, "ERNAM");
		strOldRow = strOldRow+"^"+ds_rad_suvattr_list_old.GetColumn(nRow, "AEDAT");
		strOldRow = strOldRow+"^"+ds_rad_suvattr_list_old.GetColumn(nRow, "AEZET");
		strOldRow = strOldRow+"^"+ds_rad_suvattr_list_old.GetColumn(nRow, "AENAM");
		
		var strNewRow = obj.GetColumn(nRow, "MANDT");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "SUVPRH");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "SUVATTR");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "INORDER");		
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "SUVPRD");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "SUVATTRID");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "SUVATTRPRD");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "SUVATTRNM");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "CALLFUNC");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "ERDAT");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "ERZET");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "ERNAM");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "AEDAT");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "AEZET");
		strNewRow = strNewRow+"^"+obj.GetColumn(nRow, "AENAM");
		
		if(ds_rad_suvattr_list.GetColumn(nRow,"FLAG") =="I") {
		
		} else {
		
			if(trim(strOldRow) != trim(strNewRow)) {
				
				ds_rad_suvattr_list.SetColumn(nRow, "FLAG", "U");
				//trace(obj.SaveXML());
			}else {
				ds_rad_suvattr_list.SetColumn(nRow, "FLAG", "");
			}
		}
}


function fn_plus_attr(obj)
{

	// 그리드에 row 추가 
	var newRow = ds_rad_suvattr_list.AddRow();
	ds_rad_suvattr_list.SetColumn(newRow,"FLAG", "I");
	
	ds_rad_suvattr_list.SetColumn(newRow,"INORDER", "0");

	
}

function fn_minus_attr(obj)
{

	ds_rad_suvattr_list.fireevent = false;
	if ( ds_rad_suvattr_list.rowCount() == 0 ) {
		// 삭제할 자료 선택 
		// CW00013=처리할 자료를 먼저 선택해 주십시오.
		gfn_showMsg("CW00013");
		return;
	}	
	if(ds_rad_suvattr_list.GetColumn(ds_rad_suvattr_list.currow,"FLAG")=="I"){		
		ds_rad_suvattr_list.DeleteRow(ds_rad_suvattr_list.currow);
	}	
	else{	
		//ds_list.updatecontrol = false;				
		//ds_list.SetRowType(ds_list.currow,"Delete");
		ds_rad_suvattr_list.SetColumn(ds_rad_suvattr_list.currow,"FLAG","D");	
		//ds_list.updatecontrol = true;				
	}
	ds_rad_suvattr_list.fireevent = true;
	
}

function grd_suvprh_list_OnExpandEdit(obj,nRow,nCell,strVal,nPivotIndex)
{
	var arg = "";
	var arr = gfn_openPopupUrl("PS11::PS1130001B.xml", true, arg);
	//alert("aaa : " + arr);
	//alert("aaa : " + RET_PRHCODE);
	if(arr!="0") {
		ds_rad_suvprh_list.SetColumn(nRow,"PRH", Trim(arr));
	}
	
}
]]></Script>
</Window>